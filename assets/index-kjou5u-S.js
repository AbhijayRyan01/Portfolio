(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=e(s);fetch(s.href,a)}})();function hv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var IS={exports:{}},Ig={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eR;function j6(){if(eR)return Ig;eR=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,s,a){var o=null;if(a!==void 0&&(o=""+a),s.key!==void 0&&(o=""+s.key),"key"in s){a={};for(var c in s)c!=="key"&&(a[c]=s[c])}else a=s;return s=a.ref,{$$typeof:n,type:i,key:o,ref:s!==void 0?s:null,props:a}}return Ig.Fragment=t,Ig.jsx=e,Ig.jsxs=e,Ig}var nR;function X6(){return nR||(nR=1,IS.exports=j6()),IS.exports}var G=X6(),FS={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iR;function Y6(){if(iR)return $e;iR=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function y(X){return X===null||typeof X!="object"?null:(X=g&&X[g]||X["@@iterator"],typeof X=="function"?X:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,T={};function E(X,it,Mt){this.props=X,this.context=it,this.refs=T,this.updater=Mt||A}E.prototype.isReactComponent={},E.prototype.setState=function(X,it){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,it,"setState")},E.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function S(){}S.prototype=E.prototype;function R(X,it,Mt){this.props=X,this.context=it,this.refs=T,this.updater=Mt||A}var B=R.prototype=new S;B.constructor=R,b(B,E.prototype),B.isPureReactComponent=!0;var D=Array.isArray,U={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function F(X,it,Mt,Ot,st,Et){return Mt=Et.ref,{$$typeof:n,type:X,key:it,ref:Mt!==void 0?Mt:null,props:Et}}function z(X,it){return F(X.type,it,void 0,void 0,void 0,X.props)}function O(X){return typeof X=="object"&&X!==null&&X.$$typeof===n}function I(X){var it={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(Mt){return it[Mt]})}var Y=/\/+/g;function dt(X,it){return typeof X=="object"&&X!==null&&X.key!=null?I(""+X.key):it.toString(36)}function at(){}function Q(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(at,at):(X.status="pending",X.then(function(it){X.status==="pending"&&(X.status="fulfilled",X.value=it)},function(it){X.status==="pending"&&(X.status="rejected",X.reason=it)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function lt(X,it,Mt,Ot,st){var Et=typeof X;(Et==="undefined"||Et==="boolean")&&(X=null);var Bt=!1;if(X===null)Bt=!0;else switch(Et){case"bigint":case"string":case"number":Bt=!0;break;case"object":switch(X.$$typeof){case n:case t:Bt=!0;break;case m:return Bt=X._init,lt(Bt(X._payload),it,Mt,Ot,st)}}if(Bt)return st=st(X),Bt=Ot===""?"."+dt(X,0):Ot,D(st)?(Mt="",Bt!=null&&(Mt=Bt.replace(Y,"$&/")+"/"),lt(st,it,Mt,"",function(fe){return fe})):st!=null&&(O(st)&&(st=z(st,Mt+(st.key==null||X&&X.key===st.key?"":(""+st.key).replace(Y,"$&/")+"/")+Bt)),it.push(st)),1;Bt=0;var Pt=Ot===""?".":Ot+":";if(D(X))for(var Ht=0;Ht<X.length;Ht++)Ot=X[Ht],Et=Pt+dt(Ot,Ht),Bt+=lt(Ot,it,Mt,Et,st);else if(Ht=y(X),typeof Ht=="function")for(X=Ht.call(X),Ht=0;!(Ot=X.next()).done;)Ot=Ot.value,Et=Pt+dt(Ot,Ht++),Bt+=lt(Ot,it,Mt,Et,st);else if(Et==="object"){if(typeof X.then=="function")return lt(Q(X),it,Mt,Ot,st);throw it=String(X),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return Bt}function tt(X,it,Mt){if(X==null)return X;var Ot=[],st=0;return lt(X,Ot,"","",function(Et){return it.call(Mt,Et,st++)}),Ot}function et(X){if(X._status===-1){var it=X._result;it=it(),it.then(function(Mt){(X._status===0||X._status===-1)&&(X._status=1,X._result=Mt)},function(Mt){(X._status===0||X._status===-1)&&(X._status=2,X._result=Mt)}),X._status===-1&&(X._status=0,X._result=it)}if(X._status===1)return X._result.default;throw X._result}var Z=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)};function vt(){}return $e.Children={map:tt,forEach:function(X,it,Mt){tt(X,function(){it.apply(this,arguments)},Mt)},count:function(X){var it=0;return tt(X,function(){it++}),it},toArray:function(X){return tt(X,function(it){return it})||[]},only:function(X){if(!O(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},$e.Component=E,$e.Fragment=e,$e.Profiler=s,$e.PureComponent=R,$e.StrictMode=i,$e.Suspense=u,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,$e.act=function(){throw Error("act(...) is not supported in production builds of React.")},$e.cache=function(X){return function(){return X.apply(null,arguments)}},$e.cloneElement=function(X,it,Mt){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var Ot=b({},X.props),st=X.key,Et=void 0;if(it!=null)for(Bt in it.ref!==void 0&&(Et=void 0),it.key!==void 0&&(st=""+it.key),it)!N.call(it,Bt)||Bt==="key"||Bt==="__self"||Bt==="__source"||Bt==="ref"&&it.ref===void 0||(Ot[Bt]=it[Bt]);var Bt=arguments.length-2;if(Bt===1)Ot.children=Mt;else if(1<Bt){for(var Pt=Array(Bt),Ht=0;Ht<Bt;Ht++)Pt[Ht]=arguments[Ht+2];Ot.children=Pt}return F(X.type,st,void 0,void 0,Et,Ot)},$e.createContext=function(X){return X={$$typeof:o,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:a,_context:X},X},$e.createElement=function(X,it,Mt){var Ot,st={},Et=null;if(it!=null)for(Ot in it.key!==void 0&&(Et=""+it.key),it)N.call(it,Ot)&&Ot!=="key"&&Ot!=="__self"&&Ot!=="__source"&&(st[Ot]=it[Ot]);var Bt=arguments.length-2;if(Bt===1)st.children=Mt;else if(1<Bt){for(var Pt=Array(Bt),Ht=0;Ht<Bt;Ht++)Pt[Ht]=arguments[Ht+2];st.children=Pt}if(X&&X.defaultProps)for(Ot in Bt=X.defaultProps,Bt)st[Ot]===void 0&&(st[Ot]=Bt[Ot]);return F(X,Et,void 0,void 0,null,st)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(X){return{$$typeof:c,render:X}},$e.isValidElement=O,$e.lazy=function(X){return{$$typeof:m,_payload:{_status:-1,_result:X},_init:et}},$e.memo=function(X,it){return{$$typeof:d,type:X,compare:it===void 0?null:it}},$e.startTransition=function(X){var it=U.T,Mt={};U.T=Mt;try{var Ot=X(),st=U.S;st!==null&&st(Mt,Ot),typeof Ot=="object"&&Ot!==null&&typeof Ot.then=="function"&&Ot.then(vt,Z)}catch(Et){Z(Et)}finally{U.T=it}},$e.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},$e.use=function(X){return U.H.use(X)},$e.useActionState=function(X,it,Mt){return U.H.useActionState(X,it,Mt)},$e.useCallback=function(X,it){return U.H.useCallback(X,it)},$e.useContext=function(X){return U.H.useContext(X)},$e.useDebugValue=function(){},$e.useDeferredValue=function(X,it){return U.H.useDeferredValue(X,it)},$e.useEffect=function(X,it){return U.H.useEffect(X,it)},$e.useId=function(){return U.H.useId()},$e.useImperativeHandle=function(X,it,Mt){return U.H.useImperativeHandle(X,it,Mt)},$e.useInsertionEffect=function(X,it){return U.H.useInsertionEffect(X,it)},$e.useLayoutEffect=function(X,it){return U.H.useLayoutEffect(X,it)},$e.useMemo=function(X,it){return U.H.useMemo(X,it)},$e.useOptimistic=function(X,it){return U.H.useOptimistic(X,it)},$e.useReducer=function(X,it,Mt){return U.H.useReducer(X,it,Mt)},$e.useRef=function(X){return U.H.useRef(X)},$e.useState=function(X){return U.H.useState(X)},$e.useSyncExternalStore=function(X,it,Mt){return U.H.useSyncExternalStore(X,it,Mt)},$e.useTransition=function(){return U.H.useTransition()},$e.version="19.0.0",$e}var sR;function cm(){return sR||(sR=1,FS.exports=Y6()),FS.exports}var J=cm();const Nl=hv(J);var zS={exports:{}},Fg={},HS={exports:{}},GS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aR;function W6(){return aR||(aR=1,function(n){function t(tt,et){var Z=tt.length;tt.push(et);t:for(;0<Z;){var vt=Z-1>>>1,X=tt[vt];if(0<s(X,et))tt[vt]=et,tt[Z]=X,Z=vt;else break t}}function e(tt){return tt.length===0?null:tt[0]}function i(tt){if(tt.length===0)return null;var et=tt[0],Z=tt.pop();if(Z!==et){tt[0]=Z;t:for(var vt=0,X=tt.length,it=X>>>1;vt<it;){var Mt=2*(vt+1)-1,Ot=tt[Mt],st=Mt+1,Et=tt[st];if(0>s(Ot,Z))st<X&&0>s(Et,Ot)?(tt[vt]=Et,tt[st]=Z,vt=st):(tt[vt]=Ot,tt[Mt]=Z,vt=Mt);else if(st<X&&0>s(Et,Z))tt[vt]=Et,tt[st]=Z,vt=st;else break t}}return et}function s(tt,et){var Z=tt.sortIndex-et.sortIndex;return Z!==0?Z:tt.id-et.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var u=[],d=[],m=1,g=null,y=3,A=!1,b=!1,T=!1,E=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function B(tt){for(var et=e(d);et!==null;){if(et.callback===null)i(d);else if(et.startTime<=tt)i(d),et.sortIndex=et.expirationTime,t(u,et);else break;et=e(d)}}function D(tt){if(T=!1,B(tt),!b)if(e(u)!==null)b=!0,Q();else{var et=e(d);et!==null&&lt(D,et.startTime-tt)}}var U=!1,N=-1,F=5,z=-1;function O(){return!(n.unstable_now()-z<F)}function I(){if(U){var tt=n.unstable_now();z=tt;var et=!0;try{t:{b=!1,T&&(T=!1,S(N),N=-1),A=!0;var Z=y;try{e:{for(B(tt),g=e(u);g!==null&&!(g.expirationTime>tt&&O());){var vt=g.callback;if(typeof vt=="function"){g.callback=null,y=g.priorityLevel;var X=vt(g.expirationTime<=tt);if(tt=n.unstable_now(),typeof X=="function"){g.callback=X,B(tt),et=!0;break e}g===e(u)&&i(u),B(tt)}else i(u);g=e(u)}if(g!==null)et=!0;else{var it=e(d);it!==null&&lt(D,it.startTime-tt),et=!1}}break t}finally{g=null,y=Z,A=!1}et=void 0}}finally{et?Y():U=!1}}}var Y;if(typeof R=="function")Y=function(){R(I)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,at=dt.port2;dt.port1.onmessage=I,Y=function(){at.postMessage(null)}}else Y=function(){E(I,0)};function Q(){U||(U=!0,Y())}function lt(tt,et){N=E(function(){tt(n.unstable_now())},et)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(tt){tt.callback=null},n.unstable_continueExecution=function(){b||A||(b=!0,Q())},n.unstable_forceFrameRate=function(tt){0>tt||125<tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<tt?Math.floor(1e3/tt):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return e(u)},n.unstable_next=function(tt){switch(y){case 1:case 2:case 3:var et=3;break;default:et=y}var Z=y;y=et;try{return tt()}finally{y=Z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(tt,et){switch(tt){case 1:case 2:case 3:case 4:case 5:break;default:tt=3}var Z=y;y=tt;try{return et()}finally{y=Z}},n.unstable_scheduleCallback=function(tt,et,Z){var vt=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?vt+Z:vt):Z=vt,tt){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Z+X,tt={id:m++,callback:et,priorityLevel:tt,startTime:Z,expirationTime:X,sortIndex:-1},Z>vt?(tt.sortIndex=Z,t(d,tt),e(u)===null&&tt===e(d)&&(T?(S(N),N=-1):T=!0,lt(D,Z-vt))):(tt.sortIndex=X,t(u,tt),b||A||(b=!0,Q())),tt},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(tt){var et=y;return function(){var Z=y;y=et;try{return tt.apply(this,arguments)}finally{y=Z}}}}(GS)),GS}var rR;function QE(){return rR||(rR=1,HS.exports=W6()),HS.exports}var VS={exports:{}},Ks={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oR;function q6(){if(oR)return Ks;oR=1;var n=cm();function t(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(u,d,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:u,containerInfo:d,implementation:m}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ks.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ks.createPortal=function(u,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return a(u,d,null,m)},Ks.flushSync=function(u){var d=o.T,m=i.p;try{if(o.T=null,i.p=2,u)return u()}finally{o.T=d,i.p=m,i.d.f()}},Ks.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(u,d))},Ks.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},Ks.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var m=d.as,g=c(m,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,A=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?i.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:A}):m==="script"&&i.d.X(u,{crossOrigin:g,integrity:y,fetchPriority:A,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ks.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);i.d.M(u,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(u)},Ks.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,g=c(m,d.crossOrigin);i.d.L(u,m,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ks.preloadModule=function(u,d){if(typeof u=="string")if(d){var m=c(d.as,d.crossOrigin);i.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(u)},Ks.requestFormReset=function(u){i.d.r(u)},Ks.unstable_batchedUpdates=function(u,d){return u(d)},Ks.useFormState=function(u,d,m){return o.H.useFormState(u,d,m)},Ks.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ks.version="19.0.0",Ks}var lR;function K6(){if(lR)return VS.exports;lR=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),VS.exports=q6(),VS.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cR;function J6(){if(cR)return Fg;cR=1;var n=QE(),t=cm(),e=K6();function i(r){var l="https://react.dev/errors/"+r;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)l+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+r+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var a=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),A=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),D=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function N(r){return r===null||typeof r!="object"?null:(r=U&&r[U]||r["@@iterator"],typeof r=="function"?r:null)}var F=Symbol.for("react.client.reference");function z(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===F?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case u:return"Fragment";case c:return"Portal";case m:return"Profiler";case d:return"StrictMode";case T:return"Suspense";case E:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case A:return(r.displayName||"Context")+".Provider";case y:return(r._context.displayName||"Context")+".Consumer";case b:var l=r.render;return r=r.displayName,r||(r=l.displayName||l.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case S:return l=r.displayName||null,l!==null?l:z(r.type)||"Memo";case R:l=r._payload,r=r._init;try{return z(r(l))}catch{}}return null}var O=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,Y,dt;function at(r){if(Y===void 0)try{throw Error()}catch(p){var l=p.stack.trim().match(/\n( *(at )?)/);Y=l&&l[1]||"",dt=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Y+r+dt}var Q=!1;function lt(r,l){if(!r||Q)return"";Q=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(l){var jt=function(){throw Error()};if(Object.defineProperty(jt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(jt,[])}catch(wt){var St=wt}Reflect.construct(r,[],jt)}else{try{jt.call()}catch(wt){St=wt}r.call(jt.prototype)}}else{try{throw Error()}catch(wt){St=wt}(jt=r())&&typeof jt.catch=="function"&&jt.catch(function(){})}}catch(wt){if(wt&&St&&typeof wt.stack=="string")return[wt.stack,St.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=v.DetermineComponentFrameRoot(),P=C[0],k=C[1];if(P&&k){var $=P.split(`
`),ut=k.split(`
`);for(_=v=0;v<$.length&&!$[v].includes("DetermineComponentFrameRoot");)v++;for(;_<ut.length&&!ut[_].includes("DetermineComponentFrameRoot");)_++;if(v===$.length||_===ut.length)for(v=$.length-1,_=ut.length-1;1<=v&&0<=_&&$[v]!==ut[_];)_--;for(;1<=v&&0<=_;v--,_--)if($[v]!==ut[_]){if(v!==1||_!==1)do if(v--,_--,0>_||$[v]!==ut[_]){var Ut=`
`+$[v].replace(" at new "," at ");return r.displayName&&Ut.includes("<anonymous>")&&(Ut=Ut.replace("<anonymous>",r.displayName)),Ut}while(1<=v&&0<=_);break}}}finally{Q=!1,Error.prepareStackTrace=p}return(p=r?r.displayName||r.name:"")?at(p):""}function tt(r){switch(r.tag){case 26:case 27:case 5:return at(r.type);case 16:return at("Lazy");case 13:return at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return r=lt(r.type,!1),r;case 11:return r=lt(r.type.render,!1),r;case 1:return r=lt(r.type,!0),r;default:return""}}function et(r){try{var l="";do l+=tt(r),r=r.return;while(r);return l}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function Z(r){var l=r,p=r;if(r.alternate)for(;l.return;)l=l.return;else{r=l;do l=r,l.flags&4098&&(p=l.return),r=l.return;while(r)}return l.tag===3?p:null}function vt(r){if(r.tag===13){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function X(r){if(Z(r)!==r)throw Error(i(188))}function it(r){var l=r.alternate;if(!l){if(l=Z(r),l===null)throw Error(i(188));return l!==r?null:r}for(var p=r,v=l;;){var _=p.return;if(_===null)break;var C=_.alternate;if(C===null){if(v=_.return,v!==null){p=v;continue}break}if(_.child===C.child){for(C=_.child;C;){if(C===p)return X(_),r;if(C===v)return X(_),l;C=C.sibling}throw Error(i(188))}if(p.return!==v.return)p=_,v=C;else{for(var P=!1,k=_.child;k;){if(k===p){P=!0,p=_,v=C;break}if(k===v){P=!0,v=_,p=C;break}k=k.sibling}if(!P){for(k=C.child;k;){if(k===p){P=!0,p=C,v=_;break}if(k===v){P=!0,v=C,p=_;break}k=k.sibling}if(!P)throw Error(i(189))}}if(p.alternate!==v)throw Error(i(190))}if(p.tag!==3)throw Error(i(188));return p.stateNode.current===p?r:l}function Mt(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r;for(r=r.child;r!==null;){if(l=Mt(r),l!==null)return l;r=r.sibling}return null}var Ot=Array.isArray,st=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Et={pending:!1,data:null,method:null,action:null},Bt=[],Pt=-1;function Ht(r){return{current:r}}function fe(r){0>Pt||(r.current=Bt[Pt],Bt[Pt]=null,Pt--)}function Xt(r,l){Pt++,Bt[Pt]=r.current,r.current=l}var ne=Ht(null),Dt=Ht(null),Rt=Ht(null),K=Ht(null);function he(r,l){switch(Xt(Rt,l),Xt(Dt,r),Xt(ne,null),r=l.nodeType,r){case 9:case 11:l=(l=l.documentElement)&&(l=l.namespaceURI)?Bw(l):0;break;default:if(r=r===8?l.parentNode:l,l=r.tagName,r=r.namespaceURI)r=Bw(r),l=Dw(r,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}fe(ne),Xt(ne,l)}function Vt(){fe(ne),fe(Dt),fe(Rt)}function Qt(r){r.memoizedState!==null&&Xt(K,r);var l=ne.current,p=Dw(l,r.type);l!==p&&(Xt(Dt,r),Xt(ne,p))}function Jt(r){Dt.current===r&&(fe(ne),fe(Dt)),K.current===r&&(fe(K),Lg._currentValue=Et)}var _e=Object.prototype.hasOwnProperty,Zt=n.unstable_scheduleCallback,W=n.unstable_cancelCallback,H=n.unstable_shouldYield,yt=n.unstable_requestPaint,Ct=n.unstable_now,Gt=n.unstable_getCurrentPriorityLevel,Lt=n.unstable_ImmediatePriority,ue=n.unstable_UserBlockingPriority,ee=n.unstable_NormalPriority,de=n.unstable_LowPriority,Ke=n.unstable_IdlePriority,qt=n.log,me=n.unstable_setDisableYieldValue,xe=null,ye=null;function pe(r){if(ye&&typeof ye.onCommitFiberRoot=="function")try{ye.onCommitFiberRoot(xe,r,void 0,(r.current.flags&128)===128)}catch{}}function He(r){if(typeof qt=="function"&&me(r),ye&&typeof ye.setStrictMode=="function")try{ye.setStrictMode(xe,r)}catch{}}var be=Math.clz32?Math.clz32:ae,bn=Math.log,ct=Math.LN2;function ae(r){return r>>>=0,r===0?32:31-(bn(r)/ct|0)|0}var Tt=128,It=4194304;function te(r){var l=r&42;if(l!==0)return l;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function se(r,l){var p=r.pendingLanes;if(p===0)return 0;var v=0,_=r.suspendedLanes,C=r.pingedLanes,P=r.warmLanes;r=r.finishedLanes!==0;var k=p&134217727;return k!==0?(p=k&~_,p!==0?v=te(p):(C&=k,C!==0?v=te(C):r||(P=k&~P,P!==0&&(v=te(P))))):(k=p&~_,k!==0?v=te(k):C!==0?v=te(C):r||(P=p&~P,P!==0&&(v=te(P)))),v===0?0:l!==0&&l!==v&&!(l&_)&&(_=v&-v,P=l&-l,_>=P||_===32&&(P&4194176)!==0)?l:v}function Le(r,l){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&l)===0}function Gn(r,l){switch(r){case 1:case 2:case 4:case 8:return l+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ni(){var r=Tt;return Tt<<=1,!(Tt&4194176)&&(Tt=128),r}function dn(){var r=It;return It<<=1,!(It&62914560)&&(It=4194304),r}function os(r){for(var l=[],p=0;31>p;p++)l.push(r);return l}function ls(r,l){r.pendingLanes|=l,l!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function rf(r,l,p,v,_,C){var P=r.pendingLanes;r.pendingLanes=p,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=p,r.entangledLanes&=p,r.errorRecoveryDisabledLanes&=p,r.shellSuspendCounter=0;var k=r.entanglements,$=r.expirationTimes,ut=r.hiddenUpdates;for(p=P&~p;0<p;){var Ut=31-be(p),jt=1<<Ut;k[Ut]=0,$[Ut]=-1;var St=ut[Ut];if(St!==null)for(ut[Ut]=null,Ut=0;Ut<St.length;Ut++){var wt=St[Ut];wt!==null&&(wt.lane&=-536870913)}p&=~jt}v!==0&&zl(r,v,0),C!==0&&_===0&&r.tag!==0&&(r.suspendedLanes|=C&~(P&~l))}function zl(r,l,p){r.pendingLanes|=l,r.suspendedLanes&=~l;var v=31-be(l);r.entangledLanes|=l,r.entanglements[v]=r.entanglements[v]|1073741824|p&4194218}function Ca(r,l){var p=r.entangledLanes|=l;for(r=r.entanglements;p;){var v=31-be(p),_=1<<v;_&l|r[v]&l&&(r[v]|=l),p&=~_}}function la(r){return r&=-r,2<r?8<r?r&134217727?32:268435456:8:2}function zc(){var r=st.p;return r!==0?r:(r=window.event,r===void 0?32:Kw(r.type))}function qa(r,l){var p=st.p;try{return st.p=r,l()}finally{st.p=p}}var fi=Math.random().toString(36).slice(2),ai="__reactFiber$"+fi,Je="__reactProps$"+fi,Ka="__reactContainer$"+fi,Ho="__reactEvents$"+fi,td="__reactListeners$"+fi,ed="__reactHandles$"+fi,nd="__reactResources$"+fi,kr="__reactMarker$"+fi;function Hl(r){delete r[ai],delete r[Je],delete r[Ho],delete r[td],delete r[ed]}function Ja(r){var l=r[ai];if(l)return l;for(var p=r.parentNode;p;){if(l=p[Ka]||p[ai]){if(p=l.alternate,l.child!==null||p!==null&&p.child!==null)for(r=Uw(r);r!==null;){if(p=r[ai])return p;r=Uw(r)}return l}r=p,p=r.parentNode}return null}function V(r){if(r=r[ai]||r[Ka]){var l=r.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return r}return null}function rt(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r.stateNode;throw Error(i(33))}function At(r){var l=r[nd];return l||(l=r[nd]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function gt(r){r[kr]=!0}var ft=new Set,kt={};function $t(r,l){oe(r,l),oe(r+"Capture",l)}function oe(r,l){for(kt[r]=l,r=0;r<l.length;r++)ft.add(l[r])}var re=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ne=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ue={},Te={};function ln(r){return _e.call(Te,r)?!0:_e.call(Ue,r)?!1:Ne.test(r)?Te[r]=!0:(Ue[r]=!0,!1)}function cn(r,l,p){if(ln(l))if(p===null)r.removeAttribute(l);else{switch(typeof p){case"undefined":case"function":case"symbol":r.removeAttribute(l);return;case"boolean":var v=l.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){r.removeAttribute(l);return}}r.setAttribute(l,""+p)}}function Xn(r,l,p){if(p===null)r.removeAttribute(l);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttribute(l,""+p)}}function vn(r,l,p,v){if(v===null)r.removeAttribute(p);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(p);return}r.setAttributeNS(l,p,""+v)}}function ze(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ce(r){var l=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Mi(r){var l=Ce(r)?"checked":"value",p=Object.getOwnPropertyDescriptor(r.constructor.prototype,l),v=""+r[l];if(!r.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var _=p.get,C=p.set;return Object.defineProperty(r,l,{configurable:!0,get:function(){return _.call(this)},set:function(P){v=""+P,C.call(this,P)}}),Object.defineProperty(r,l,{enumerable:p.enumerable}),{getValue:function(){return v},setValue:function(P){v=""+P},stopTracking:function(){r._valueTracker=null,delete r[l]}}}}function un(r){r._valueTracker||(r._valueTracker=Mi(r))}function Cs(r){if(!r)return!1;var l=r._valueTracker;if(!l)return!0;var p=l.getValue(),v="";return r&&(v=Ce(r)?r.checked?"true":"false":r.value),r=v,r!==p?(l.setValue(r),!0):!1}function ca(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var cs=/[\n"\\]/g;function Pi(r){return r.replace(cs,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Ln(r,l,p,v,_,C,P,k){r.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?r.type=P:r.removeAttribute("type"),l!=null?P==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+ze(l)):r.value!==""+ze(l)&&(r.value=""+ze(l)):P!=="submit"&&P!=="reset"||r.removeAttribute("value"),l!=null?Qi(r,P,ze(l)):p!=null?Qi(r,P,ze(p)):v!=null&&r.removeAttribute("value"),_==null&&C!=null&&(r.defaultChecked=!!C),_!=null&&(r.checked=_&&typeof _!="function"&&typeof _!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?r.name=""+ze(k):r.removeAttribute("name")}function us(r,l,p,v,_,C,P,k){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(r.type=C),l!=null||p!=null){if(!(C!=="submit"&&C!=="reset"||l!=null))return;p=p!=null?""+ze(p):"",l=l!=null?""+ze(l):p,k||l===r.value||(r.value=l),r.defaultValue=l}v=v??_,v=typeof v!="function"&&typeof v!="symbol"&&!!v,r.checked=k?r.checked:!!v,r.defaultChecked=!!v,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(r.name=P)}function Qi(r,l,p){l==="number"&&ca(r.ownerDocument)===r||r.defaultValue===""+p||(r.defaultValue=""+p)}function ri(r,l,p,v){if(r=r.options,l){l={};for(var _=0;_<p.length;_++)l["$"+p[_]]=!0;for(p=0;p<r.length;p++)_=l.hasOwnProperty("$"+r[p].value),r[p].selected!==_&&(r[p].selected=_),_&&v&&(r[p].defaultSelected=!0)}else{for(p=""+ze(p),l=null,_=0;_<r.length;_++){if(r[_].value===p){r[_].selected=!0,v&&(r[_].defaultSelected=!0);return}l!==null||r[_].disabled||(l=r[_])}l!==null&&(l.selected=!0)}}function Yi(r,l,p){if(l!=null&&(l=""+ze(l),l!==r.value&&(r.value=l),p==null)){r.defaultValue!==l&&(r.defaultValue=l);return}r.defaultValue=p!=null?""+ze(p):""}function Za(r,l,p,v){if(l==null){if(v!=null){if(p!=null)throw Error(i(92));if(Ot(v)){if(1<v.length)throw Error(i(93));v=v[0]}p=v}p==null&&(p=""),l=p}p=ze(l),r.defaultValue=p,v=r.textContent,v===p&&v!==""&&v!==null&&(r.value=v)}function ws(r,l){if(l){var p=r.firstChild;if(p&&p===r.lastChild&&p.nodeType===3){p.nodeValue=l;return}}r.textContent=l}var id=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function of(r,l,p){var v=l.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?v?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="":v?r.setProperty(l,p):typeof p!="number"||p===0||id.has(l)?l==="float"?r.cssFloat=p:r[l]=(""+p).trim():r[l]=p+"px"}function Tm(r,l,p){if(l!=null&&typeof l!="object")throw Error(i(62));if(r=r.style,p!=null){for(var v in p)!p.hasOwnProperty(v)||l!=null&&l.hasOwnProperty(v)||(v.indexOf("--")===0?r.setProperty(v,""):v==="float"?r.cssFloat="":r[v]="");for(var _ in l)v=l[_],l.hasOwnProperty(_)&&p[_]!==v&&of(r,_,v)}else for(var C in l)l.hasOwnProperty(C)&&of(r,C,l[C])}function lf(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cf(r){return Vv.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var sd=null;function uf(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Gl=null,Vl=null;function ad(r){var l=V(r);if(l&&(r=l.stateNode)){var p=r[Je]||null;t:switch(r=l.stateNode,l.type){case"input":if(Ln(r,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),l=p.name,p.type==="radio"&&l!=null){for(p=r;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+Pi(""+l)+'"][type="radio"]'),l=0;l<p.length;l++){var v=p[l];if(v!==r&&v.form===r.form){var _=v[Je]||null;if(!_)throw Error(i(90));Ln(v,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(l=0;l<p.length;l++)v=p[l],v.form===r.form&&Cs(v)}break t;case"textarea":Yi(r,p.value,p.defaultValue);break t;case"select":l=p.value,l!=null&&ri(r,!!p.multiple,l,!1)}}}var rd=!1;function Cm(r,l,p){if(rd)return r(l,p);rd=!0;try{var v=r(l);return v}finally{if(rd=!1,(Gl!==null||Vl!==null)&&(uc(),Gl&&(l=Gl,r=Vl,Vl=Gl=null,ad(l),r)))for(l=0;l<r.length;l++)ad(r[l])}}function Hc(r,l){var p=r.stateNode;if(p===null)return null;var v=p[Je]||null;if(v===null)return null;p=v[l];t:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(r=r.type,v=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!v;break t;default:r=!1}if(r)return null;if(p&&typeof p!="function")throw Error(i(231,l,typeof p));return p}var ff=!1;if(re)try{var Gc={};Object.defineProperty(Gc,"passive",{get:function(){ff=!0}}),window.addEventListener("test",Gc,Gc),window.removeEventListener("test",Gc,Gc)}catch{ff=!1}var jr=null,wm=null,od=null;function Rm(){if(od)return od;var r,l=wm,p=l.length,v,_="value"in jr?jr.value:jr.textContent,C=_.length;for(r=0;r<p&&l[r]===_[r];r++);var P=p-r;for(v=1;v<=P&&l[p-v]===_[C-v];v++);return od=_.slice(r,1<v?1-v:void 0)}function Go(r){var l=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&l===13&&(r=13)):r=l,r===10&&(r=13),32<=r||r===13?r:0}function Vc(){return!0}function hf(){return!1}function Rs(r){function l(p,v,_,C,P){this._reactName=p,this._targetInst=_,this.type=v,this.nativeEvent=C,this.target=P,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(p=r[k],this[k]=p?p(C):C[k]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Vc:hf,this.isPropagationStopped=hf,this}return I(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Vc)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Vc)},persist:function(){},isPersistent:Vc}),l}var Vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kc=Rs(Vo),jc=I({},Vo,{view:0,detail:0}),kv=Rs(jc),Xr,Xc,Yc,Wc=I({},jc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pf,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Yc&&(Yc&&r.type==="mousemove"?(Xr=r.screenX-Yc.screenX,Xc=r.screenY-Yc.screenY):Xc=Xr=0,Yc=r),Xr)},movementY:function(r){return"movementY"in r?r.movementY:Xc}}),Bm=Rs(Wc),jv=I({},Wc,{dataTransfer:0}),nS=Rs(jv),$i=I({},jc,{relatedTarget:0}),ld=Rs($i),Xv=I({},Vo,{animationName:0,elapsedTime:0,pseudoElement:0}),Yv=Rs(Xv),Wv=I({},Vo,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),qv=Rs(Wv),df=I({},Vo,{data:0}),cd=Rs(df),Kv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dm(r){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(r):(r=Zv[r])?!!l[r]:!1}function pf(){return Dm}var Qv=I({},jc,{key:function(r){if(r.key){var l=Kv[r.key]||r.key;if(l!=="Unidentified")return l}return r.type==="keypress"?(r=Go(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Jv[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pf,charCode:function(r){return r.type==="keypress"?Go(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Go(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Lm=Rs(Qv),Nm=I({},Wc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ud=Rs(Nm),$v=I({},jc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pf}),Um=Rs($v),ty=I({},Vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yr=Rs(ty),Om=I({},Wc,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),iS=Rs(Om),ey=I({},Vo,{newState:0,oldState:0}),ko=Rs(ey),Wr=[9,13,27,32],mf=re&&"CompositionEvent"in window,kl=null;re&&"documentMode"in document&&(kl=document.documentMode);var gf=re&&"TextEvent"in window&&!kl,vf=re&&(!mf||kl&&8<kl&&11>=kl),jo=" ",ts=!1;function yf(r,l){switch(r){case"keyup":return Wr.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Xo=!1;function xf(r,l){switch(r){case"compositionend":return Pm(l);case"keypress":return l.which!==32?null:(ts=!0,jo);case"textInput":return r=l.data,r===jo&&ts?null:r;default:return null}}function Im(r,l){if(Xo)return r==="compositionend"||!mf&&yf(r,l)?(r=Rm(),od=wm=jr=null,Xo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return vf&&l.locale!=="ko"?null:l.data;default:return null}}var fd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fm(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l==="input"?!!fd[r.type]:l==="textarea"}function zs(r,l,p,v){Gl?Vl?Vl.push(v):Vl=[v]:Gl=v,l=e1(l,"onChange"),0<l.length&&(p=new kc("onChange","change",null,p,v),r.push({event:p,listeners:l}))}var qc=null,jl=null;function ny(r){Ew(r,0)}function Af(r){var l=rt(r);if(Cs(l))return r}function hd(r,l){if(r==="change")return l}var dd=!1;if(re){var pd;if(re){var Kc="oninput"in document;if(!Kc){var Jc=document.createElement("div");Jc.setAttribute("oninput","return;"),Kc=typeof Jc.oninput=="function"}pd=Kc}else pd=!1;dd=pd&&(!document.documentMode||9<document.documentMode)}function Qn(){qc&&(qc.detachEvent("onpropertychange",iy),jl=qc=null)}function iy(r){if(r.propertyName==="value"&&Af(jl)){var l=[];zs(l,jl,r,uf(r)),Cm(ny,l)}}function sS(r,l,p){r==="focusin"?(Qn(),qc=l,jl=p,qc.attachEvent("onpropertychange",iy)):r==="focusout"&&Qn()}function sy(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Af(jl)}function _f(r,l){if(r==="click")return Af(l)}function Yo(r,l){if(r==="input"||r==="change")return Af(l)}function ay(r,l){return r===l&&(r!==0||1/r===1/l)||r!==r&&l!==l}var Hs=typeof Object.is=="function"?Object.is:ay;function Qa(r,l){if(Hs(r,l))return!0;if(typeof r!="object"||r===null||typeof l!="object"||l===null)return!1;var p=Object.keys(r),v=Object.keys(l);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var _=p[v];if(!_e.call(l,_)||!Hs(r[_],l[_]))return!1}return!0}function Gs(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function zm(r,l){var p=Gs(r);r=0;for(var v;p;){if(p.nodeType===3){if(v=r+p.textContent.length,r<=l&&v>=l)return{node:p,offset:l-r};r=v}t:{for(;p;){if(p.nextSibling){p=p.nextSibling;break t}p=p.parentNode}p=void 0}p=Gs(p)}}function Hm(r,l){return r&&l?r===l?!0:r&&r.nodeType===3?!1:l&&l.nodeType===3?Hm(r,l.parentNode):"contains"in r?r.contains(l):r.compareDocumentPosition?!!(r.compareDocumentPosition(l)&16):!1:!1}function Gm(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var l=ca(r.document);l instanceof r.HTMLIFrameElement;){try{var p=typeof l.contentWindow.location.href=="string"}catch{p=!1}if(p)r=l.contentWindow;else break;l=ca(r.document)}return l}function Sf(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l&&(l==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||l==="textarea"||r.contentEditable==="true")}function Vm(r,l){var p=Gm(l);l=r.focusedElem;var v=r.selectionRange;if(p!==l&&l&&l.ownerDocument&&Hm(l.ownerDocument.documentElement,l)){if(v!==null&&Sf(l)){if(r=v.start,p=v.end,p===void 0&&(p=r),"selectionStart"in l)l.selectionStart=r,l.selectionEnd=Math.min(p,l.value.length);else if(p=(r=l.ownerDocument||document)&&r.defaultView||window,p.getSelection){p=p.getSelection();var _=l.textContent.length,C=Math.min(v.start,_);v=v.end===void 0?C:Math.min(v.end,_),!p.extend&&C>v&&(_=v,v=C,C=_),_=zm(l,C);var P=zm(l,v);_&&P&&(p.rangeCount!==1||p.anchorNode!==_.node||p.anchorOffset!==_.offset||p.focusNode!==P.node||p.focusOffset!==P.offset)&&(r=r.createRange(),r.setStart(_.node,_.offset),p.removeAllRanges(),C>v?(p.addRange(r),p.extend(P.node,P.offset)):(r.setEnd(P.node,P.offset),p.addRange(r)))}}for(r=[],p=l;p=p.parentNode;)p.nodeType===1&&r.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<r.length;l++)p=r[l],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}var md=re&&"documentMode"in document&&11>=document.documentMode,Xl=null,km=null,Zc=null,gd=!1;function wa(r,l,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;gd||Xl==null||Xl!==ca(v)||(v=Xl,"selectionStart"in v&&Sf(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Zc&&Qa(Zc,v)||(Zc=v,v=e1(km,"onSelect"),0<v.length&&(l=new kc("onSelect","select",null,l,p),r.push({event:l,listeners:v}),l.target=Xl)))}function qr(r,l){var p={};return p[r.toLowerCase()]=l.toLowerCase(),p["Webkit"+r]="webkit"+l,p["Moz"+r]="moz"+l,p}var Yl={animationend:qr("Animation","AnimationEnd"),animationiteration:qr("Animation","AnimationIteration"),animationstart:qr("Animation","AnimationStart"),transitionrun:qr("Transition","TransitionRun"),transitionstart:qr("Transition","TransitionStart"),transitioncancel:qr("Transition","TransitionCancel"),transitionend:qr("Transition","TransitionEnd")},jm={},vd={};re&&(vd=document.createElement("div").style,"AnimationEvent"in window||(delete Yl.animationend.animation,delete Yl.animationiteration.animation,delete Yl.animationstart.animation),"TransitionEvent"in window||delete Yl.transitionend.transition);function Ei(r){if(jm[r])return jm[r];if(!Yl[r])return r;var l=Yl[r],p;for(p in l)if(l.hasOwnProperty(p)&&p in vd)return jm[r]=l[p];return r}var Xm=Ei("animationend"),Vs=Ei("animationiteration"),Ym=Ei("animationstart"),Kr=Ei("transitionrun"),Qc=Ei("transitionstart"),Wo=Ei("transitioncancel"),yd=Ei("transitionend"),xd=new Map,Jr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ra(r,l){xd.set(r,l),$t(l,[r])}var es=[],gr=0,Zr=0;function bf(){for(var r=gr,l=Zr=gr=0;l<r;){var p=es[l];es[l++]=null;var v=es[l];es[l++]=null;var _=es[l];es[l++]=null;var C=es[l];if(es[l++]=null,v!==null&&_!==null){var P=v.pending;P===null?_.next=_:(_.next=P.next,P.next=_),v.pending=_}C!==0&&Ef(p,_,C)}}function Mf(r,l,p,v){es[gr++]=r,es[gr++]=l,es[gr++]=p,es[gr++]=v,Zr|=v,r.lanes|=v,r=r.alternate,r!==null&&(r.lanes|=v)}function Wl(r,l,p,v){return Mf(r,l,p,v),Tf(r)}function Qr(r,l){return Mf(r,null,null,l),Tf(r)}function Ef(r,l,p){r.lanes|=p;var v=r.alternate;v!==null&&(v.lanes|=p);for(var _=!1,C=r.return;C!==null;)C.childLanes|=p,v=C.alternate,v!==null&&(v.childLanes|=p),C.tag===22&&(r=C.stateNode,r===null||r._visibility&1||(_=!0)),r=C,C=C.return;_&&l!==null&&r.tag===3&&(C=r.stateNode,_=31-be(p),C=C.hiddenUpdates,r=C[_],r===null?C[_]=[l]:r.push(l),l.lane=p|536870912)}function Tf(r){if(50<za)throw za=0,Ao=null,Error(i(185));for(var l=r.return;l!==null;)r=l,l=r.return;return r.tag===3?r.stateNode:null}var qo={},Ad=new WeakMap;function ks(r,l){if(typeof r=="object"&&r!==null){var p=Ad.get(r);return p!==void 0?p:(l={value:r,source:l,stack:et(l)},Ad.set(r,l),l)}return{value:r,source:l,stack:et(l)}}var ql=[],Ko=0,fs=null,Cf=0,Yn=[],ua=0,$r=null,vr=1,to="";function Bs(r,l){ql[Ko++]=Cf,ql[Ko++]=fs,fs=r,Cf=l}function Wm(r,l,p){Yn[ua++]=vr,Yn[ua++]=to,Yn[ua++]=$r,$r=r;var v=vr;r=to;var _=32-be(v)-1;v&=~(1<<_),p+=1;var C=32-be(l)+_;if(30<C){var P=_-_%5;C=(v&(1<<P)-1).toString(32),v>>=P,_-=P,vr=1<<32-be(l)+_|p<<_|v,to=C+r}else vr=1<<C|p<<_|v,to=r}function wf(r){r.return!==null&&(Bs(r,1),Wm(r,1,0))}function Jo(r){for(;r===fs;)fs=ql[--Ko],ql[Ko]=null,Cf=ql[--Ko],ql[Ko]=null;for(;r===$r;)$r=Yn[--ua],Yn[ua]=null,to=Yn[--ua],Yn[ua]=null,vr=Yn[--ua],Yn[ua]=null}var hs=null,Wi=null,xn=!1,Ba=null,Da=!1,Rf=Error(i(519));function Kl(r){var l=Error(i(418,""));throw yr(ks(l,r)),Rf}function ry(r){var l=r.stateNode,p=r.type,v=r.memoizedProps;switch(l[ai]=r,l[Je]=v,p){case"dialog":_n("cancel",l),_n("close",l);break;case"iframe":case"object":case"embed":_n("load",l);break;case"video":case"audio":for(p=0;p<Cg.length;p++)_n(Cg[p],l);break;case"source":_n("error",l);break;case"img":case"image":case"link":_n("error",l),_n("load",l);break;case"details":_n("toggle",l);break;case"input":_n("invalid",l),us(l,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),un(l);break;case"select":_n("invalid",l);break;case"textarea":_n("invalid",l),Za(l,v.value,v.defaultValue,v.children),un(l)}p=v.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||l.textContent===""+p||v.suppressHydrationWarning===!0||Rw(l.textContent,p)?(v.popover!=null&&(_n("beforetoggle",l),_n("toggle",l)),v.onScroll!=null&&_n("scroll",l),v.onScrollEnd!=null&&_n("scrollend",l),v.onClick!=null&&(l.onclick=n1),l=!0):l=!1,l||Kl(r)}function oy(r){for(hs=r.return;hs;)switch(hs.tag){case 3:case 27:Da=!0;return;case 5:case 13:Da=!1;return;default:hs=hs.return}}function $c(r){if(r!==hs)return!1;if(!xn)return oy(r),xn=!0,!1;var l=!1,p;if((p=r.tag!==3&&r.tag!==27)&&((p=r.tag===5)&&(p=r.type,p=!(p!=="form"&&p!=="button")||MS(r.type,r.memoizedProps)),p=!p),p&&(l=!0),l&&Wi&&Kl(r),oy(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,l=0;r;){if(r.nodeType===8)if(p=r.data,p==="/$"){if(l===0){Wi=So(r.nextSibling);break t}l--}else p!=="$"&&p!=="$!"&&p!=="$?"||l++;r=r.nextSibling}Wi=null}}else Wi=hs?So(r.stateNode.nextSibling):null;return!0}function tu(){Wi=hs=null,xn=!1}function yr(r){Ba===null?Ba=[r]:Ba.push(r)}var Zo=Error(i(460)),qm=Error(i(474)),_d={then:function(){}};function ly(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Bf(){}function Qo(r,l,p){switch(p=r[p],p===void 0?r.push(l):p!==l&&(l.then(Bf,Bf),l=p),l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,r===Zo?Error(i(483)):r;default:if(typeof l.status=="string")l.then(Bf,Bf);else{if(r=In,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=l,r.status="pending",r.then(function(v){if(l.status==="pending"){var _=l;_.status="fulfilled",_.value=v}},function(v){if(l.status==="pending"){var _=l;_.status="rejected",_.reason=v}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,r===Zo?Error(i(483)):r}throw eu=l,Zo}}var eu=null;function Rn(){if(eu===null)throw Error(i(459));var r=eu;return eu=null,r}var $o=null,Df=0;function Lf(r){var l=Df;return Df+=1,$o===null&&($o=[]),Qo($o,r,l)}function Nf(r,l){l=l.props.ref,r.ref=l!==void 0?l:null}function Sd(r,l){throw l.$$typeof===a?Error(i(525)):(r=Object.prototype.toString.call(l),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":r)))}function cy(r){var l=r._init;return l(r._payload)}function uy(r){function l(pt,ot){if(r){var xt=pt.deletions;xt===null?(pt.deletions=[ot],pt.flags|=16):xt.push(ot)}}function p(pt,ot){if(!r)return null;for(;ot!==null;)l(pt,ot),ot=ot.sibling;return null}function v(pt){for(var ot=new Map;pt!==null;)pt.key!==null?ot.set(pt.key,pt):ot.set(pt.index,pt),pt=pt.sibling;return ot}function _(pt,ot){return pt=Us(pt,ot),pt.index=0,pt.sibling=null,pt}function C(pt,ot,xt){return pt.index=xt,r?(xt=pt.alternate,xt!==null?(xt=xt.index,xt<ot?(pt.flags|=33554434,ot):xt):(pt.flags|=33554434,ot)):(pt.flags|=1048576,ot)}function P(pt){return r&&pt.alternate===null&&(pt.flags|=33554434),pt}function k(pt,ot,xt,zt){return ot===null||ot.tag!==6?(ot=Ri(xt,pt.mode,zt),ot.return=pt,ot):(ot=_(ot,xt),ot.return=pt,ot)}function $(pt,ot,xt,zt){var Ae=xt.type;return Ae===u?Ut(pt,ot,xt.props.children,zt,xt.key):ot!==null&&(ot.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===R&&cy(Ae)===ot.type)?(ot=_(ot,xt.props),Nf(ot,xt),ot.return=pt,ot):(ot=gu(xt.type,xt.key,xt.props,null,pt.mode,zt),Nf(ot,xt),ot.return=pt,ot)}function ut(pt,ot,xt,zt){return ot===null||ot.tag!==4||ot.stateNode.containerInfo!==xt.containerInfo||ot.stateNode.implementation!==xt.implementation?(ot=Xf(xt,pt.mode,zt),ot.return=pt,ot):(ot=_(ot,xt.children||[]),ot.return=pt,ot)}function Ut(pt,ot,xt,zt,Ae){return ot===null||ot.tag!==7?(ot=yl(xt,pt.mode,zt,Ae),ot.return=pt,ot):(ot=_(ot,xt),ot.return=pt,ot)}function jt(pt,ot,xt){if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return ot=Ri(""+ot,pt.mode,xt),ot.return=pt,ot;if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case o:return xt=gu(ot.type,ot.key,ot.props,null,pt.mode,xt),Nf(xt,ot),xt.return=pt,xt;case c:return ot=Xf(ot,pt.mode,xt),ot.return=pt,ot;case R:var zt=ot._init;return ot=zt(ot._payload),jt(pt,ot,xt)}if(Ot(ot)||N(ot))return ot=yl(ot,pt.mode,xt,null),ot.return=pt,ot;if(typeof ot.then=="function")return jt(pt,Lf(ot),xt);if(ot.$$typeof===A)return jt(pt,zd(pt,ot),xt);Sd(pt,ot)}return null}function St(pt,ot,xt,zt){var Ae=ot!==null?ot.key:null;if(typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint")return Ae!==null?null:k(pt,ot,""+xt,zt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case o:return xt.key===Ae?$(pt,ot,xt,zt):null;case c:return xt.key===Ae?ut(pt,ot,xt,zt):null;case R:return Ae=xt._init,xt=Ae(xt._payload),St(pt,ot,xt,zt)}if(Ot(xt)||N(xt))return Ae!==null?null:Ut(pt,ot,xt,zt,null);if(typeof xt.then=="function")return St(pt,ot,Lf(xt),zt);if(xt.$$typeof===A)return St(pt,ot,zd(pt,xt),zt);Sd(pt,xt)}return null}function wt(pt,ot,xt,zt,Ae){if(typeof zt=="string"&&zt!==""||typeof zt=="number"||typeof zt=="bigint")return pt=pt.get(xt)||null,k(ot,pt,""+zt,Ae);if(typeof zt=="object"&&zt!==null){switch(zt.$$typeof){case o:return pt=pt.get(zt.key===null?xt:zt.key)||null,$(ot,pt,zt,Ae);case c:return pt=pt.get(zt.key===null?xt:zt.key)||null,ut(ot,pt,zt,Ae);case R:var hn=zt._init;return zt=hn(zt._payload),wt(pt,ot,xt,zt,Ae)}if(Ot(zt)||N(zt))return pt=pt.get(xt)||null,Ut(ot,pt,zt,Ae,null);if(typeof zt.then=="function")return wt(pt,ot,xt,Lf(zt),Ae);if(zt.$$typeof===A)return wt(pt,ot,xt,zd(ot,zt),Ae);Sd(ot,zt)}return null}function Ee(pt,ot,xt,zt){for(var Ae=null,hn=null,we=ot,Pe=ot=0,xs=null;we!==null&&Pe<xt.length;Pe++){we.index>Pe?(xs=we,we=null):xs=we.sibling;var Bn=St(pt,we,xt[Pe],zt);if(Bn===null){we===null&&(we=xs);break}r&&we&&Bn.alternate===null&&l(pt,we),ot=C(Bn,ot,Pe),hn===null?Ae=Bn:hn.sibling=Bn,hn=Bn,we=xs}if(Pe===xt.length)return p(pt,we),xn&&Bs(pt,Pe),Ae;if(we===null){for(;Pe<xt.length;Pe++)we=jt(pt,xt[Pe],zt),we!==null&&(ot=C(we,ot,Pe),hn===null?Ae=we:hn.sibling=we,hn=we);return xn&&Bs(pt,Pe),Ae}for(we=v(we);Pe<xt.length;Pe++)xs=wt(we,pt,Pe,xt[Pe],zt),xs!==null&&(r&&xs.alternate!==null&&we.delete(xs.key===null?Pe:xs.key),ot=C(xs,ot,Pe),hn===null?Ae=xs:hn.sibling=xs,hn=xs);return r&&we.forEach(function(Eu){return l(pt,Eu)}),xn&&Bs(pt,Pe),Ae}function je(pt,ot,xt,zt){if(xt==null)throw Error(i(151));for(var Ae=null,hn=null,we=ot,Pe=ot=0,xs=null,Bn=xt.next();we!==null&&!Bn.done;Pe++,Bn=xt.next()){we.index>Pe?(xs=we,we=null):xs=we.sibling;var Eu=St(pt,we,Bn.value,zt);if(Eu===null){we===null&&(we=xs);break}r&&we&&Eu.alternate===null&&l(pt,we),ot=C(Eu,ot,Pe),hn===null?Ae=Eu:hn.sibling=Eu,hn=Eu,we=xs}if(Bn.done)return p(pt,we),xn&&Bs(pt,Pe),Ae;if(we===null){for(;!Bn.done;Pe++,Bn=xt.next())Bn=jt(pt,Bn.value,zt),Bn!==null&&(ot=C(Bn,ot,Pe),hn===null?Ae=Bn:hn.sibling=Bn,hn=Bn);return xn&&Bs(pt,Pe),Ae}for(we=v(we);!Bn.done;Pe++,Bn=xt.next())Bn=wt(we,pt,Pe,Bn.value,zt),Bn!==null&&(r&&Bn.alternate!==null&&we.delete(Bn.key===null?Pe:Bn.key),ot=C(Bn,ot,Pe),hn===null?Ae=Bn:hn.sibling=Bn,hn=Bn);return r&&we.forEach(function(k6){return l(pt,k6)}),xn&&Bs(pt,Pe),Ae}function Li(pt,ot,xt,zt){if(typeof xt=="object"&&xt!==null&&xt.type===u&&xt.key===null&&(xt=xt.props.children),typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case o:t:{for(var Ae=xt.key;ot!==null;){if(ot.key===Ae){if(Ae=xt.type,Ae===u){if(ot.tag===7){p(pt,ot.sibling),zt=_(ot,xt.props.children),zt.return=pt,pt=zt;break t}}else if(ot.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===R&&cy(Ae)===ot.type){p(pt,ot.sibling),zt=_(ot,xt.props),Nf(zt,xt),zt.return=pt,pt=zt;break t}p(pt,ot);break}else l(pt,ot);ot=ot.sibling}xt.type===u?(zt=yl(xt.props.children,pt.mode,zt,xt.key),zt.return=pt,pt=zt):(zt=gu(xt.type,xt.key,xt.props,null,pt.mode,zt),Nf(zt,xt),zt.return=pt,pt=zt)}return P(pt);case c:t:{for(Ae=xt.key;ot!==null;){if(ot.key===Ae)if(ot.tag===4&&ot.stateNode.containerInfo===xt.containerInfo&&ot.stateNode.implementation===xt.implementation){p(pt,ot.sibling),zt=_(ot,xt.children||[]),zt.return=pt,pt=zt;break t}else{p(pt,ot);break}else l(pt,ot);ot=ot.sibling}zt=Xf(xt,pt.mode,zt),zt.return=pt,pt=zt}return P(pt);case R:return Ae=xt._init,xt=Ae(xt._payload),Li(pt,ot,xt,zt)}if(Ot(xt))return Ee(pt,ot,xt,zt);if(N(xt)){if(Ae=N(xt),typeof Ae!="function")throw Error(i(150));return xt=Ae.call(xt),je(pt,ot,xt,zt)}if(typeof xt.then=="function")return Li(pt,ot,Lf(xt),zt);if(xt.$$typeof===A)return Li(pt,ot,zd(pt,xt),zt);Sd(pt,xt)}return typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint"?(xt=""+xt,ot!==null&&ot.tag===6?(p(pt,ot.sibling),zt=_(ot,xt),zt.return=pt,pt=zt):(p(pt,ot),zt=Ri(xt,pt.mode,zt),zt.return=pt,pt=zt),P(pt)):p(pt,ot)}return function(pt,ot,xt,zt){try{Df=0;var Ae=Li(pt,ot,xt,zt);return $o=null,Ae}catch(we){if(we===Zo)throw we;var hn=yi(29,we,null,pt.mode);return hn.lanes=zt,hn.return=pt,hn}finally{}}}var eo=uy(!0),no=uy(!1),Jl=Ht(null),Zl=Ht(0);function tl(r,l){r=xo,Xt(Zl,r),Xt(Jl,l),xo=r|l.baseLanes}function bd(){Xt(Zl,xo),Xt(Jl,Jl.current)}function Uf(){xo=Zl.current,fe(Jl),fe(Zl)}var js=Ht(null),xr=null;function io(r){var l=r.alternate;Xt(Ti,Ti.current&1),Xt(js,r),xr===null&&(l===null||Jl.current!==null||l.memoizedState!==null)&&(xr=r)}function Km(r){if(r.tag===22){if(Xt(Ti,Ti.current),Xt(js,r),xr===null){var l=r.alternate;l!==null&&l.memoizedState!==null&&(xr=r)}}else so()}function so(){Xt(Ti,Ti.current),Xt(js,js.current)}function Ar(r){fe(js),xr===r&&(xr=null),fe(Ti)}var Ti=Ht(0);function nu(r){for(var l=r;l!==null;){if(l.tag===13){var p=l.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(l.flags&128)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var an=typeof AbortController<"u"?AbortController:function(){var r=[],l=this.signal={aborted:!1,addEventListener:function(p,v){r.push(v)}};this.abort=function(){l.aborted=!0,r.forEach(function(p){return p()})}},aS=n.unstable_scheduleCallback,fa=n.unstable_NormalPriority,hi={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jm(){return{controller:new an,data:new Map,refCount:0}}function el(r){r.refCount--,r.refCount===0&&aS(fa,function(){r.controller.abort()})}var _r=null,nl=0,Ql=0,il=null;function rS(r,l){if(_r===null){var p=_r=[];nl=0,Ql=mS(),il={status:"pending",value:void 0,then:function(v){p.push(v)}}}return nl++,l.then(Zm,Zm),l}function Zm(){if(--nl===0&&_r!==null){il!==null&&(il.status="fulfilled");var r=_r;_r=null,Ql=0,il=null;for(var l=0;l<r.length;l++)(0,r[l])()}}function sl(r,l){var p=[],v={status:"pending",value:null,reason:null,then:function(_){p.push(_)}};return r.then(function(){v.status="fulfilled",v.value=l;for(var _=0;_<p.length;_++)(0,p[_])(l)},function(_){for(v.status="rejected",v.reason=_,_=0;_<p.length;_++)(0,p[_])(void 0)}),v}var Md=O.S;O.S=function(r,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&rS(r,l),Md!==null&&Md(r,l)};var ao=Ht(null);function Of(){var r=ao.current;return r!==null?r:In.pooledCache}function iu(r,l){l===null?Xt(ao,ao.current):Xt(ao,l.pool)}function ro(){var r=Of();return r===null?null:{parent:hi._currentValue,pool:r}}var oo=0,Ze=null,Nn=null,Ci=null,Oe=!1,al=!1,rl=!1,su=0,ol=0,au=null,oS=0;function oi(){throw Error(i(321))}function $l(r,l){if(l===null)return!1;for(var p=0;p<l.length&&p<r.length;p++)if(!Hs(r[p],l[p]))return!1;return!0}function Qm(r,l,p,v,_,C){return oo=C,Ze=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,O.H=r===null||r.memoizedState===null?cl:co,rl=!1,C=p(v,_),rl=!1,al&&(C=hy(l,p,v,_)),fy(r),C}function fy(r){O.H=br;var l=Nn!==null&&Nn.next!==null;if(oo=0,Ci=Nn=Ze=null,Oe=!1,ol=0,au=null,l)throw Error(i(300));r===null||Ii||(r=r.dependencies,r!==null&&uu(r)&&(Ii=!0))}function hy(r,l,p,v){Ze=r;var _=0;do{if(al&&(au=null),ol=0,al=!1,25<=_)throw Error(i(301));if(_+=1,Ci=Nn=null,r.updateQueue!=null){var C=r.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}O.H=nc,C=l(p,v)}while(al);return C}function lS(){var r=O.H,l=r.useState()[0];return l=typeof l.then=="function"?If(l):l,r=r.useState()[0],(Nn!==null?Nn.memoizedState:null)!==r&&(Ze.flags|=1024),l}function $m(){var r=su!==0;return su=0,r}function Pf(r,l,p){l.updateQueue=r.updateQueue,l.flags&=-2053,r.lanes&=~p}function Ed(r){if(Oe){for(r=r.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Oe=!1}oo=0,Ci=Nn=Ze=null,al=!1,ol=su=0,au=null}function ns(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ci===null?Ze.memoizedState=Ci=r:Ci=Ci.next=r,Ci}function di(){if(Nn===null){var r=Ze.alternate;r=r!==null?r.memoizedState:null}else r=Nn.next;var l=Ci===null?Ze.memoizedState:Ci.next;if(l!==null)Ci=l,Nn=r;else{if(r===null)throw Ze.alternate===null?Error(i(467)):Error(i(310));Nn=r,r={memoizedState:Nn.memoizedState,baseState:Nn.baseState,baseQueue:Nn.baseQueue,queue:Nn.queue,next:null},Ci===null?Ze.memoizedState=Ci=r:Ci=Ci.next=r}return Ci}var Td;Td=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function If(r){var l=ol;return ol+=1,au===null&&(au=[]),r=Qo(au,r,l),l=Ze,(Ci===null?l.memoizedState:Ci.next)===null&&(l=l.alternate,O.H=l===null||l.memoizedState===null?cl:co),r}function ru(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return If(r);if(r.$$typeof===A)return ds(r)}throw Error(i(438,String(r)))}function $a(r){var l=null,p=Ze.updateQueue;if(p!==null&&(l=p.memoCache),l==null){var v=Ze.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(l={data:v.data.map(function(_){return _.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),p===null&&(p=Td(),Ze.updateQueue=p),p.memoCache=l,p=l.data[l.index],p===void 0)for(p=l.data[l.index]=Array(r),v=0;v<r;v++)p[v]=D;return l.index++,p}function $n(r,l){return typeof l=="function"?l(r):l}function tr(r){var l=di();return Xs(l,Nn,r)}function Xs(r,l,p){var v=r.queue;if(v===null)throw Error(i(311));v.lastRenderedReducer=p;var _=r.baseQueue,C=v.pending;if(C!==null){if(_!==null){var P=_.next;_.next=C.next,C.next=P}l.baseQueue=_=C,v.pending=null}if(C=r.baseState,_===null)r.memoizedState=C;else{l=_.next;var k=P=null,$=null,ut=l,Ut=!1;do{var jt=ut.lane&-536870913;if(jt!==ut.lane?(Be&jt)===jt:(oo&jt)===jt){var St=ut.revertLane;if(St===0)$!==null&&($=$.next={lane:0,revertLane:0,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null}),jt===Ql&&(Ut=!0);else if((oo&St)===St){ut=ut.next,St===Ql&&(Ut=!0);continue}else jt={lane:0,revertLane:ut.revertLane,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null},$===null?(k=$=jt,P=C):$=$.next=jt,Ze.lanes|=St,or|=St;jt=ut.action,rl&&p(C,jt),C=ut.hasEagerState?ut.eagerState:p(C,jt)}else St={lane:jt,revertLane:ut.revertLane,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null},$===null?(k=$=St,P=C):$=$.next=St,Ze.lanes|=jt,or|=jt;ut=ut.next}while(ut!==null&&ut!==l);if($===null?P=C:$.next=k,!Hs(C,r.memoizedState)&&(Ii=!0,Ut&&(p=il,p!==null)))throw p;r.memoizedState=C,r.baseState=P,r.baseQueue=$,v.lastRenderedState=C}return _===null&&(v.lanes=0),[r.memoizedState,v.dispatch]}function Cd(r){var l=di(),p=l.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=r;var v=p.dispatch,_=p.pending,C=l.memoizedState;if(_!==null){p.pending=null;var P=_=_.next;do C=r(C,P.action),P=P.next;while(P!==_);Hs(C,l.memoizedState)||(Ii=!0),l.memoizedState=C,l.baseQueue===null&&(l.baseState=C),p.lastRenderedState=C}return[C,v]}function dy(r,l,p){var v=Ze,_=di(),C=xn;if(C){if(p===void 0)throw Error(i(407));p=p()}else p=l();var P=!Hs((Nn||_).memoizedState,p);if(P&&(_.memoizedState=p,Ii=!0),_=_.queue,ig(py.bind(null,v,_,r),[r]),_.getSnapshot!==l||P||Ci!==null&&Ci.memoizedState.tag&1){if(v.flags|=2048,Sr(9,ll.bind(null,v,_,p,l),{destroy:void 0},null),In===null)throw Error(i(349));C||oo&60||Ds(v,l,p)}return p}function Ds(r,l,p){r.flags|=16384,r={getSnapshot:l,value:p},l=Ze.updateQueue,l===null?(l=Td(),Ze.updateQueue=l,l.stores=[r]):(p=l.stores,p===null?l.stores=[r]:p.push(r))}function ll(r,l,p,v){l.value=p,l.getSnapshot=v,my(l)&&gy(r)}function py(r,l,p){return p(function(){my(l)&&gy(r)})}function my(r){var l=r.getSnapshot;r=r.value;try{var p=l();return!Hs(r,p)}catch{return!0}}function gy(r){var l=Qr(r,2);l!==null&&Di(l,r,2)}function tg(r){var l=ns();if(typeof r=="function"){var p=r;if(r=p(),rl){He(!0);try{p()}finally{He(!1)}}}return l.memoizedState=l.baseState=r,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:r},l}function eg(r,l,p,v){return r.baseState=p,Xs(r,Nn,typeof v=="function"?v:$n)}function cS(r,l,p,v,_){if(Ld(r))throw Error(i(485));if(r=l.action,r!==null){var C={payload:_,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){C.listeners.push(P)}};O.T!==null?p(!0):C.isTransition=!1,v(C),p=l.pending,p===null?(C.next=l.pending=C,ng(l,C)):(C.next=p.next,l.pending=p.next=C)}}function ng(r,l){var p=l.action,v=l.payload,_=r.state;if(l.isTransition){var C=O.T,P={};O.T=P;try{var k=p(_,v),$=O.S;$!==null&&$(P,k),vy(r,l,k)}catch(ut){lo(r,l,ut)}finally{O.T=C}}else try{C=p(_,v),vy(r,l,C)}catch(ut){lo(r,l,ut)}}function vy(r,l,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(v){tc(r,l,v)},function(v){return lo(r,l,v)}):tc(r,l,p)}function tc(r,l,p){l.status="fulfilled",l.value=p,yy(l),r.state=p,l=r.pending,l!==null&&(p=l.next,p===l?r.pending=null:(p=p.next,l.next=p,ng(r,p)))}function lo(r,l,p){var v=r.pending;if(r.pending=null,v!==null){v=v.next;do l.status="rejected",l.reason=p,yy(l),l=l.next;while(l!==v)}r.action=null}function yy(r){r=r.listeners;for(var l=0;l<r.length;l++)(0,r[l])()}function xy(r,l){return l}function Ay(r,l){if(xn){var p=In.formState;if(p!==null){t:{var v=Ze;if(xn){if(Wi){e:{for(var _=Wi,C=Da;_.nodeType!==8;){if(!C){_=null;break e}if(_=So(_.nextSibling),_===null){_=null;break e}}C=_.data,_=C==="F!"||C==="F"?_:null}if(_){Wi=So(_.nextSibling),v=_.data==="F!";break t}}Kl(v)}v=!1}v&&(l=p[0])}}return p=ns(),p.memoizedState=p.baseState=l,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xy,lastRenderedState:l},p.queue=v,p=og.bind(null,Ze,v),v.dispatch=p,v=tg(!1),C=Ff.bind(null,Ze,!1,v.queue),v=ns(),_={state:l,dispatch:null,action:r,pending:null},v.queue=_,p=cS.bind(null,Ze,_,C,p),_.dispatch=p,v.memoizedState=r,[l,p,!1]}function ou(r){var l=di();return _y(l,Nn,r)}function _y(r,l,p){l=Xs(r,l,xy)[0],r=tr($n)[0],l=typeof l=="object"&&l!==null&&typeof l.then=="function"?If(l):l;var v=di(),_=v.queue,C=_.dispatch;return p!==v.memoizedState&&(Ze.flags|=2048,Sr(9,uS.bind(null,_,p),{destroy:void 0},null)),[l,C,r]}function uS(r,l){r.action=l}function Sy(r){var l=di(),p=Nn;if(p!==null)return _y(l,p,r);di(),l=l.memoizedState,p=di();var v=p.queue.dispatch;return p.memoizedState=r,[l,v,!1]}function Sr(r,l,p,v){return r={tag:r,create:l,inst:p,deps:v,next:null},l=Ze.updateQueue,l===null&&(l=Td(),Ze.updateQueue=l),p=l.lastEffect,p===null?l.lastEffect=r.next=r:(v=p.next,p.next=r,r.next=v,l.lastEffect=r),r}function by(){return di().memoizedState}function wd(r,l,p,v){var _=ns();Ze.flags|=r,_.memoizedState=Sr(1|l,p,{destroy:void 0},v===void 0?null:v)}function Rd(r,l,p,v){var _=di();v=v===void 0?null:v;var C=_.memoizedState.inst;Nn!==null&&v!==null&&$l(v,Nn.memoizedState.deps)?_.memoizedState=Sr(l,p,C,v):(Ze.flags|=r,_.memoizedState=Sr(1|l,p,C,v))}function My(r,l){wd(8390656,8,r,l)}function ig(r,l){Rd(2048,8,r,l)}function Ey(r,l){return Rd(4,2,r,l)}function Ty(r,l){return Rd(4,4,r,l)}function Cy(r,l){if(typeof l=="function"){r=r();var p=l(r);return function(){typeof p=="function"?p():l(null)}}if(l!=null)return r=r(),l.current=r,function(){l.current=null}}function wy(r,l,p){p=p!=null?p.concat([r]):null,Rd(4,4,Cy.bind(null,l,r),p)}function sg(){}function Ry(r,l){var p=di();l=l===void 0?null:l;var v=p.memoizedState;return l!==null&&$l(l,v[1])?v[0]:(p.memoizedState=[r,l],r)}function By(r,l){var p=di();l=l===void 0?null:l;var v=p.memoizedState;if(l!==null&&$l(l,v[1]))return v[0];if(v=r(),rl){He(!0);try{r()}finally{He(!1)}}return p.memoizedState=[v,l],v}function Bd(r,l,p){return p===void 0||oo&1073741824?r.memoizedState=l:(r.memoizedState=p,r=ga(),Ze.lanes|=r,or|=r,p)}function Dy(r,l,p,v){return Hs(p,l)?p:Jl.current!==null?(r=Bd(r,p,v),Hs(r,l)||(Ii=!0),r):oo&42?(r=ga(),Ze.lanes|=r,or|=r,l):(Ii=!0,r.memoizedState=p)}function Ly(r,l,p,v,_){var C=st.p;st.p=C!==0&&8>C?C:8;var P=O.T,k={};O.T=k,Ff(r,!1,l,p);try{var $=_(),ut=O.S;if(ut!==null&&ut(k,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var Ut=sl($,v);ec(r,l,Ut,Ps(r))}else ec(r,l,v,Ps(r))}catch(jt){ec(r,l,{then:function(){},status:"rejected",reason:jt},Ps())}finally{st.p=C,O.T=P}}function fS(){}function ag(r,l,p,v){if(r.tag!==5)throw Error(i(476));var _=Ny(r).queue;Ly(r,_,l,Et,p===null?fS:function(){return Uy(r),p(v)})}function Ny(r){var l=r.memoizedState;if(l!==null)return l;l={memoizedState:Et,baseState:Et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:Et},next:null};var p={};return l.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:p},next:null},r.memoizedState=l,r=r.alternate,r!==null&&(r.memoizedState=l),l}function Uy(r){var l=Ny(r).next.queue;ec(r,l,{},Ps())}function Dd(){return ds(Lg)}function rg(){return di().memoizedState}function Oy(){return di().memoizedState}function Py(r){for(var l=r.return;l!==null;){switch(l.tag){case 24:case 3:var p=Ps();r=pa(p);var v=ma(l,r,p);v!==null&&(Di(v,l,p),hl(v,l,p)),l={cache:Jm()},r.payload=l;return}l=l.return}}function Iy(r,l,p){var v=Ps();p={lane:v,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},Ld(r)?Fy(l,p):(p=Wl(r,l,p,v),p!==null&&(Di(p,r,v),zy(p,l,v)))}function og(r,l,p){var v=Ps();ec(r,l,p,v)}function ec(r,l,p,v){var _={lane:v,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(Ld(r))Fy(l,_);else{var C=r.alternate;if(r.lanes===0&&(C===null||C.lanes===0)&&(C=l.lastRenderedReducer,C!==null))try{var P=l.lastRenderedState,k=C(P,p);if(_.hasEagerState=!0,_.eagerState=k,Hs(k,P))return Mf(r,l,_,0),In===null&&bf(),!1}catch{}finally{}if(p=Wl(r,l,_,v),p!==null)return Di(p,r,v),zy(p,l,v),!0}return!1}function Ff(r,l,p,v){if(v={lane:2,revertLane:mS(),action:v,hasEagerState:!1,eagerState:null,next:null},Ld(r)){if(l)throw Error(i(479))}else l=Wl(r,p,v,2),l!==null&&Di(l,r,2)}function Ld(r){var l=r.alternate;return r===Ze||l!==null&&l===Ze}function Fy(r,l){al=Oe=!0;var p=r.pending;p===null?l.next=l:(l.next=p.next,p.next=l),r.pending=l}function zy(r,l,p){if(p&4194176){var v=l.lanes;v&=r.pendingLanes,p|=v,l.lanes=p,Ca(r,p)}}var br={readContext:ds,use:ru,useCallback:oi,useContext:oi,useEffect:oi,useImperativeHandle:oi,useLayoutEffect:oi,useInsertionEffect:oi,useMemo:oi,useReducer:oi,useRef:oi,useState:oi,useDebugValue:oi,useDeferredValue:oi,useTransition:oi,useSyncExternalStore:oi,useId:oi};br.useCacheRefresh=oi,br.useMemoCache=oi,br.useHostTransitionStatus=oi,br.useFormState=oi,br.useActionState=oi,br.useOptimistic=oi;var cl={readContext:ds,use:ru,useCallback:function(r,l){return ns().memoizedState=[r,l===void 0?null:l],r},useContext:ds,useEffect:My,useImperativeHandle:function(r,l,p){p=p!=null?p.concat([r]):null,wd(4194308,4,Cy.bind(null,l,r),p)},useLayoutEffect:function(r,l){return wd(4194308,4,r,l)},useInsertionEffect:function(r,l){wd(4,2,r,l)},useMemo:function(r,l){var p=ns();l=l===void 0?null:l;var v=r();if(rl){He(!0);try{r()}finally{He(!1)}}return p.memoizedState=[v,l],v},useReducer:function(r,l,p){var v=ns();if(p!==void 0){var _=p(l);if(rl){He(!0);try{p(l)}finally{He(!1)}}}else _=l;return v.memoizedState=v.baseState=_,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:_},v.queue=r,r=r.dispatch=Iy.bind(null,Ze,r),[v.memoizedState,r]},useRef:function(r){var l=ns();return r={current:r},l.memoizedState=r},useState:function(r){r=tg(r);var l=r.queue,p=og.bind(null,Ze,l);return l.dispatch=p,[r.memoizedState,p]},useDebugValue:sg,useDeferredValue:function(r,l){var p=ns();return Bd(p,r,l)},useTransition:function(){var r=tg(!1);return r=Ly.bind(null,Ze,r.queue,!0,!1),ns().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,l,p){var v=Ze,_=ns();if(xn){if(p===void 0)throw Error(i(407));p=p()}else{if(p=l(),In===null)throw Error(i(349));Be&60||Ds(v,l,p)}_.memoizedState=p;var C={value:p,getSnapshot:l};return _.queue=C,My(py.bind(null,v,C,r),[r]),v.flags|=2048,Sr(9,ll.bind(null,v,C,p,l),{destroy:void 0},null),p},useId:function(){var r=ns(),l=In.identifierPrefix;if(xn){var p=to,v=vr;p=(v&~(1<<32-be(v)-1)).toString(32)+p,l=":"+l+"R"+p,p=su++,0<p&&(l+="H"+p.toString(32)),l+=":"}else p=oS++,l=":"+l+"r"+p.toString(32)+":";return r.memoizedState=l},useCacheRefresh:function(){return ns().memoizedState=Py.bind(null,Ze)}};cl.useMemoCache=$a,cl.useHostTransitionStatus=Dd,cl.useFormState=Ay,cl.useActionState=Ay,cl.useOptimistic=function(r){var l=ns();l.memoizedState=l.baseState=r;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=p,l=Ff.bind(null,Ze,!0,p),p.dispatch=l,[r,l]};var co={readContext:ds,use:ru,useCallback:Ry,useContext:ds,useEffect:ig,useImperativeHandle:wy,useInsertionEffect:Ey,useLayoutEffect:Ty,useMemo:By,useReducer:tr,useRef:by,useState:function(){return tr($n)},useDebugValue:sg,useDeferredValue:function(r,l){var p=di();return Dy(p,Nn.memoizedState,r,l)},useTransition:function(){var r=tr($n)[0],l=di().memoizedState;return[typeof r=="boolean"?r:If(r),l]},useSyncExternalStore:dy,useId:rg};co.useCacheRefresh=Oy,co.useMemoCache=$a,co.useHostTransitionStatus=Dd,co.useFormState=ou,co.useActionState=ou,co.useOptimistic=function(r,l){var p=di();return eg(p,Nn,r,l)};var nc={readContext:ds,use:ru,useCallback:Ry,useContext:ds,useEffect:ig,useImperativeHandle:wy,useInsertionEffect:Ey,useLayoutEffect:Ty,useMemo:By,useReducer:Cd,useRef:by,useState:function(){return Cd($n)},useDebugValue:sg,useDeferredValue:function(r,l){var p=di();return Nn===null?Bd(p,r,l):Dy(p,Nn.memoizedState,r,l)},useTransition:function(){var r=Cd($n)[0],l=di().memoizedState;return[typeof r=="boolean"?r:If(r),l]},useSyncExternalStore:dy,useId:rg};nc.useCacheRefresh=Oy,nc.useMemoCache=$a,nc.useHostTransitionStatus=Dd,nc.useFormState=Sy,nc.useActionState=Sy,nc.useOptimistic=function(r,l){var p=di();return Nn!==null?eg(p,Nn,r,l):(p.baseState=r,[r,p.queue.dispatch])};function lg(r,l,p,v){l=r.memoizedState,p=p(v,l),p=p==null?l:I({},l,p),r.memoizedState=p,r.lanes===0&&(r.updateQueue.baseState=p)}var cg={isMounted:function(r){return(r=r._reactInternals)?Z(r)===r:!1},enqueueSetState:function(r,l,p){r=r._reactInternals;var v=Ps(),_=pa(v);_.payload=l,p!=null&&(_.callback=p),l=ma(r,_,v),l!==null&&(Di(l,r,v),hl(l,r,v))},enqueueReplaceState:function(r,l,p){r=r._reactInternals;var v=Ps(),_=pa(v);_.tag=1,_.payload=l,p!=null&&(_.callback=p),l=ma(r,_,v),l!==null&&(Di(l,r,v),hl(l,r,v))},enqueueForceUpdate:function(r,l){r=r._reactInternals;var p=Ps(),v=pa(p);v.tag=2,l!=null&&(v.callback=l),l=ma(r,v,p),l!==null&&(Di(l,r,p),hl(l,r,p))}};function Hy(r,l,p,v,_,C,P){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(v,C,P):l.prototype&&l.prototype.isPureReactComponent?!Qa(p,v)||!Qa(_,C):!0}function Gy(r,l,p,v){r=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(p,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(p,v),l.state!==r&&cg.enqueueReplaceState(l,l.state,null)}function ic(r,l){var p=l;if("ref"in l){p={};for(var v in l)v!=="ref"&&(p[v]=l[v])}if(r=r.defaultProps){p===l&&(p=I({},p));for(var _ in r)p[_]===void 0&&(p[_]=r[_])}return p}var Nd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Vy(r){Nd(r)}function ky(r){console.error(r)}function jy(r){Nd(r)}function Ud(r,l){try{var p=r.onUncaughtError;p(l.value,{componentStack:l.stack})}catch(v){setTimeout(function(){throw v})}}function Xy(r,l,p){try{var v=r.onCaughtError;v(p.value,{componentStack:p.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function ug(r,l,p){return p=pa(p),p.tag=3,p.payload={element:null},p.callback=function(){Ud(r,l)},p}function fg(r){return r=pa(r),r.tag=3,r}function Yy(r,l,p,v){var _=p.type.getDerivedStateFromError;if(typeof _=="function"){var C=v.value;r.payload=function(){return _(C)},r.callback=function(){Xy(l,p,v)}}var P=p.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(r.callback=function(){Xy(l,p,v),typeof _!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var k=v.stack;this.componentDidCatch(v.value,{componentStack:k!==null?k:""})})}function hS(r,l,p,v,_){if(p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(l=p.alternate,l!==null&&Hf(l,p,_,!0),p=js.current,p!==null){switch(p.tag){case 13:return xr===null?qf():p.alternate===null&&Zn===0&&(Zn=3),p.flags&=-257,p.flags|=65536,p.lanes=_,v===_d?p.flags|=16384:(l=p.updateQueue,l===null?p.updateQueue=new Set([v]):l.add(v),ke(r,v,_)),!1;case 22:return p.flags|=65536,v===_d?p.flags|=16384:(l=p.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([v])},p.updateQueue=l):(p=l.retryQueue,p===null?l.retryQueue=new Set([v]):p.add(v)),ke(r,v,_)),!1}throw Error(i(435,p.tag))}return ke(r,v,_),qf(),!1}if(xn)return l=js.current,l!==null?(!(l.flags&65536)&&(l.flags|=256),l.flags|=65536,l.lanes=_,v!==Rf&&(r=Error(i(422),{cause:v}),yr(ks(r,p)))):(v!==Rf&&(l=Error(i(423),{cause:v}),yr(ks(l,p))),r=r.current.alternate,r.flags|=65536,_&=-_,r.lanes|=_,v=ks(v,p),_=ug(r.stateNode,v,_),hu(r,_),Zn!==4&&(Zn=2)),!1;var C=Error(i(520),{cause:v});if(C=ks(C,p),Wf===null?Wf=[C]:Wf.push(C),Zn!==4&&(Zn=2),l===null)return!0;v=ks(v,p),p=l;do{switch(p.tag){case 3:return p.flags|=65536,r=_&-_,p.lanes|=r,r=ug(p.stateNode,v,r),hu(p,r),!1;case 1:if(l=p.type,C=p.stateNode,(p.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Bi===null||!Bi.has(C))))return p.flags|=65536,_&=-_,p.lanes|=_,_=fg(_),Yy(_,r,p,v),hu(p,_),!1}p=p.return}while(p!==null);return!1}var ha=Error(i(461)),Ii=!1;function Fi(r,l,p,v){l.child=r===null?no(l,null,p,v):eo(l,r.child,p,v)}function hg(r,l,p,v,_){p=p.render;var C=l.ref;if("ref"in v){var P={};for(var k in v)k!=="ref"&&(P[k]=v[k])}else P=v;return ac(l),v=Qm(r,l,p,P,C,_),k=$m(),r!==null&&!Ii?(Pf(r,l,_),pi(r,l,_)):(xn&&k&&wf(l),l.flags|=1,Fi(r,l,v,_),l.child)}function dg(r,l,p,v,_){if(r===null){var C=p.type;return typeof C=="function"&&!vo(C)&&C.defaultProps===void 0&&p.compare===null?(l.tag=15,l.type=C,pg(r,l,C,v,_)):(r=gu(p.type,null,v,l,l.mode,_),r.ref=l.ref,r.return=l,l.child=r)}if(C=r.child,!_g(r,_)){var P=C.memoizedProps;if(p=p.compare,p=p!==null?p:Qa,p(P,v)&&r.ref===l.ref)return pi(r,l,_)}return l.flags|=1,r=Us(C,v),r.ref=l.ref,r.return=l,l.child=r}function pg(r,l,p,v,_){if(r!==null){var C=r.memoizedProps;if(Qa(C,v)&&r.ref===l.ref)if(Ii=!1,l.pendingProps=v=C,_g(r,_))r.flags&131072&&(Ii=!0);else return l.lanes=r.lanes,pi(r,l,_)}return gg(r,l,p,v,_)}function Wy(r,l,p){var v=l.pendingProps,_=v.children,C=(l.stateNode._pendingVisibility&2)!==0,P=r!==null?r.memoizedState:null;if(lu(r,l),v.mode==="hidden"||C){if(l.flags&128){if(v=P!==null?P.baseLanes|p:p,r!==null){for(_=l.child=r.child,C=0;_!==null;)C=C|_.lanes|_.childLanes,_=_.sibling;l.childLanes=C&~v}else l.childLanes=0,l.child=null;return mg(r,l,v,p)}if(p&536870912)l.memoizedState={baseLanes:0,cachePool:null},r!==null&&iu(l,P!==null?P.cachePool:null),P!==null?tl(l,P):bd(),Km(l);else return l.lanes=l.childLanes=536870912,mg(r,l,P!==null?P.baseLanes|p:p,p)}else P!==null?(iu(l,P.cachePool),tl(l,P),so(),l.memoizedState=null):(r!==null&&iu(l,null),bd(),so());return Fi(r,l,_,p),l.child}function mg(r,l,p,v){var _=Of();return _=_===null?null:{parent:hi._currentValue,pool:_},l.memoizedState={baseLanes:p,cachePool:_},r!==null&&iu(l,null),bd(),Km(l),r!==null&&Hf(r,l,v,!0),null}function lu(r,l){var p=l.ref;if(p===null)r!==null&&r.ref!==null&&(l.flags|=2097664);else{if(typeof p!="function"&&typeof p!="object")throw Error(i(284));(r===null||r.ref!==p)&&(l.flags|=2097664)}}function gg(r,l,p,v,_){return ac(l),p=Qm(r,l,p,v,void 0,_),v=$m(),r!==null&&!Ii?(Pf(r,l,_),pi(r,l,_)):(xn&&v&&wf(l),l.flags|=1,Fi(r,l,p,_),l.child)}function qy(r,l,p,v,_,C){return ac(l),l.updateQueue=null,p=hy(l,v,p,_),fy(r),v=$m(),r!==null&&!Ii?(Pf(r,l,C),pi(r,l,C)):(xn&&v&&wf(l),l.flags|=1,Fi(r,l,p,C),l.child)}function Ky(r,l,p,v,_){if(ac(l),l.stateNode===null){var C=qo,P=p.contextType;typeof P=="object"&&P!==null&&(C=ds(P)),C=new p(v,C),l.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=cg,l.stateNode=C,C._reactInternals=l,C=l.stateNode,C.props=v,C.state=l.memoizedState,C.refs={},Ls(l),P=p.contextType,C.context=typeof P=="object"&&P!==null?ds(P):qo,C.state=l.memoizedState,P=p.getDerivedStateFromProps,typeof P=="function"&&(lg(l,p,P,v),C.state=l.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(P=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),P!==C.state&&cg.enqueueReplaceState(C,C.state,null),nr(l,v,C,_),ps(),C.state=l.memoizedState),typeof C.componentDidMount=="function"&&(l.flags|=4194308),v=!0}else if(r===null){C=l.stateNode;var k=l.memoizedProps,$=ic(p,k);C.props=$;var ut=C.context,Ut=p.contextType;P=qo,typeof Ut=="object"&&Ut!==null&&(P=ds(Ut));var jt=p.getDerivedStateFromProps;Ut=typeof jt=="function"||typeof C.getSnapshotBeforeUpdate=="function",k=l.pendingProps!==k,Ut||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(k||ut!==P)&&Gy(l,C,v,P),wi=!1;var St=l.memoizedState;C.state=St,nr(l,v,C,_),ps(),ut=l.memoizedState,k||St!==ut||wi?(typeof jt=="function"&&(lg(l,p,jt,v),ut=l.memoizedState),($=wi||Hy(l,p,$,v,St,ut,P))?(Ut||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(l.flags|=4194308)):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=ut),C.props=v,C.state=ut,C.context=P,v=$):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{C=l.stateNode,Hd(r,l),P=l.memoizedProps,Ut=ic(p,P),C.props=Ut,jt=l.pendingProps,St=C.context,ut=p.contextType,$=qo,typeof ut=="object"&&ut!==null&&($=ds(ut)),k=p.getDerivedStateFromProps,(ut=typeof k=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(P!==jt||St!==$)&&Gy(l,C,v,$),wi=!1,St=l.memoizedState,C.state=St,nr(l,v,C,_),ps();var wt=l.memoizedState;P!==jt||St!==wt||wi||r!==null&&r.dependencies!==null&&uu(r.dependencies)?(typeof k=="function"&&(lg(l,p,k,v),wt=l.memoizedState),(Ut=wi||Hy(l,p,Ut,v,St,wt,$)||r!==null&&r.dependencies!==null&&uu(r.dependencies))?(ut||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(v,wt,$),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(v,wt,$)),typeof C.componentDidUpdate=="function"&&(l.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof C.componentDidUpdate!="function"||P===r.memoizedProps&&St===r.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&St===r.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=wt),C.props=v,C.state=wt,C.context=$,v=Ut):(typeof C.componentDidUpdate!="function"||P===r.memoizedProps&&St===r.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&St===r.memoizedState||(l.flags|=1024),v=!1)}return C=v,lu(r,l),v=(l.flags&128)!==0,C||v?(C=l.stateNode,p=v&&typeof p.getDerivedStateFromError!="function"?null:C.render(),l.flags|=1,r!==null&&v?(l.child=eo(l,r.child,null,_),l.child=eo(l,null,p,_)):Fi(r,l,p,_),l.memoizedState=C.state,r=l.child):r=pi(r,l,_),r}function vg(r,l,p,v){return tu(),l.flags|=256,Fi(r,l,p,v),l.child}var yg={dehydrated:null,treeContext:null,retryLane:0};function qi(r){return{baseLanes:r,cachePool:ro()}}function Od(r,l,p){return r=r!==null?r.childLanes&~p:0,l&&(r|=Os),r}function Jy(r,l,p){var v=l.pendingProps,_=!1,C=(l.flags&128)!==0,P;if((P=C)||(P=r!==null&&r.memoizedState===null?!1:(Ti.current&2)!==0),P&&(_=!0,l.flags&=-129),P=(l.flags&32)!==0,l.flags&=-33,r===null){if(xn){if(_?io(l):so(),xn){var k=Wi,$;if($=k){t:{for($=k,k=Da;$.nodeType!==8;){if(!k){k=null;break t}if($=So($.nextSibling),$===null){k=null;break t}}k=$}k!==null?(l.memoizedState={dehydrated:k,treeContext:$r!==null?{id:vr,overflow:to}:null,retryLane:536870912},$=yi(18,null,null,0),$.stateNode=k,$.return=l,l.child=$,hs=l,Wi=null,$=!0):$=!1}$||Kl(l)}if(k=l.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return k.data==="$!"?l.lanes=16:l.lanes=536870912,null;Ar(l)}return k=v.children,v=v.fallback,_?(so(),_=l.mode,k=Ag({mode:"hidden",children:k},_),v=yl(v,_,p,null),k.return=l,v.return=l,k.sibling=v,l.child=k,_=l.child,_.memoizedState=qi(p),_.childLanes=Od(r,P,p),l.memoizedState=yg,v):(io(l),xg(l,k))}if($=r.memoizedState,$!==null&&(k=$.dehydrated,k!==null)){if(C)l.flags&256?(io(l),l.flags&=-257,l=Pd(r,l,p)):l.memoizedState!==null?(so(),l.child=r.child,l.flags|=128,l=null):(so(),_=v.fallback,k=l.mode,v=Ag({mode:"visible",children:v.children},k),_=yl(_,k,p,null),_.flags|=2,v.return=l,_.return=l,v.sibling=_,l.child=v,eo(l,r.child,null,p),v=l.child,v.memoizedState=qi(p),v.childLanes=Od(r,P,p),l.memoizedState=yg,l=_);else if(io(l),k.data==="$!"){if(P=k.nextSibling&&k.nextSibling.dataset,P)var ut=P.dgst;P=ut,v=Error(i(419)),v.stack="",v.digest=P,yr({value:v,source:null,stack:null}),l=Pd(r,l,p)}else if(Ii||Hf(r,l,p,!1),P=(p&r.childLanes)!==0,Ii||P){if(P=In,P!==null){if(v=p&-p,v&42)v=1;else switch(v){case 2:v=1;break;case 8:v=4;break;case 32:v=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:v=64;break;case 268435456:v=134217728;break;default:v=0}if(v=v&(P.suspendedLanes|p)?0:v,v!==0&&v!==$.retryLane)throw $.retryLane=v,Qr(r,v),Di(P,r,v),ha}k.data==="$?"||qf(),l=Pd(r,l,p)}else k.data==="$?"?(l.flags|=128,l.child=r.child,l=hc.bind(null,r),k._reactRetry=l,l=null):(r=$.treeContext,Wi=So(k.nextSibling),hs=l,xn=!0,Ba=null,Da=!1,r!==null&&(Yn[ua++]=vr,Yn[ua++]=to,Yn[ua++]=$r,vr=r.id,to=r.overflow,$r=l),l=xg(l,v.children),l.flags|=4096);return l}return _?(so(),_=v.fallback,k=l.mode,$=r.child,ut=$.sibling,v=Us($,{mode:"hidden",children:v.children}),v.subtreeFlags=$.subtreeFlags&31457280,ut!==null?_=Us(ut,_):(_=yl(_,k,p,null),_.flags|=2),_.return=l,v.return=l,v.sibling=_,l.child=v,v=_,_=l.child,k=r.child.memoizedState,k===null?k=qi(p):($=k.cachePool,$!==null?(ut=hi._currentValue,$=$.parent!==ut?{parent:ut,pool:ut}:$):$=ro(),k={baseLanes:k.baseLanes|p,cachePool:$}),_.memoizedState=k,_.childLanes=Od(r,P,p),l.memoizedState=yg,v):(io(l),p=r.child,r=p.sibling,p=Us(p,{mode:"visible",children:v.children}),p.return=l,p.sibling=null,r!==null&&(P=l.deletions,P===null?(l.deletions=[r],l.flags|=16):P.push(r)),l.child=p,l.memoizedState=null,p)}function xg(r,l){return l=Ag({mode:"visible",children:l},r.mode),l.return=r,r.child=l}function Ag(r,l){return bg(r,l,0,null)}function Pd(r,l,p){return eo(l,r.child,null,p),r=xg(l,l.pendingProps.children),r.flags|=2,l.memoizedState=null,r}function Id(r,l,p){r.lanes|=l;var v=r.alternate;v!==null&&(v.lanes|=l),da(r.return,l,p)}function ul(r,l,p,v,_){var C=r.memoizedState;C===null?r.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:_}:(C.isBackwards=l,C.rendering=null,C.renderingStartTime=0,C.last=v,C.tail=p,C.tailMode=_)}function sc(r,l,p){var v=l.pendingProps,_=v.revealOrder,C=v.tail;if(Fi(r,l,v.children,p),v=Ti.current,v&2)v=v&1|2,l.flags|=128;else{if(r!==null&&r.flags&128)t:for(r=l.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Id(r,p,l);else if(r.tag===19)Id(r,p,l);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===l)break t;for(;r.sibling===null;){if(r.return===null||r.return===l)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}v&=1}switch(Xt(Ti,v),_){case"forwards":for(p=l.child,_=null;p!==null;)r=p.alternate,r!==null&&nu(r)===null&&(_=p),p=p.sibling;p=_,p===null?(_=l.child,l.child=null):(_=p.sibling,p.sibling=null),ul(l,!1,_,p,C);break;case"backwards":for(p=null,_=l.child,l.child=null;_!==null;){if(r=_.alternate,r!==null&&nu(r)===null){l.child=_;break}r=_.sibling,_.sibling=p,p=_,_=r}ul(l,!0,p,null,C);break;case"together":ul(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function pi(r,l,p){if(r!==null&&(l.dependencies=r.dependencies),or|=l.lanes,!(p&l.childLanes))if(r!==null){if(Hf(r,l,p,!1),(p&l.childLanes)===0)return null}else return null;if(r!==null&&l.child!==r.child)throw Error(i(153));if(l.child!==null){for(r=l.child,p=Us(r,r.pendingProps),l.child=p,p.return=l;r.sibling!==null;)r=r.sibling,p=p.sibling=Us(r,r.pendingProps),p.return=l;p.sibling=null}return l.child}function _g(r,l){return r.lanes&l?!0:(r=r.dependencies,!!(r!==null&&uu(r)))}function dS(r,l,p){switch(l.tag){case 3:he(l,l.stateNode.containerInfo),fl(l,hi,r.memoizedState.cache),tu();break;case 27:case 5:Qt(l);break;case 4:he(l,l.stateNode.containerInfo);break;case 10:fl(l,l.type,l.memoizedProps.value);break;case 13:var v=l.memoizedState;if(v!==null)return v.dehydrated!==null?(io(l),l.flags|=128,null):p&l.child.childLanes?Jy(r,l,p):(io(l),r=pi(r,l,p),r!==null?r.sibling:null);io(l);break;case 19:var _=(r.flags&128)!==0;if(v=(p&l.childLanes)!==0,v||(Hf(r,l,p,!1),v=(p&l.childLanes)!==0),_){if(v)return sc(r,l,p);l.flags|=128}if(_=l.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Xt(Ti,Ti.current),v)break;return null;case 22:case 23:return l.lanes=0,Wy(r,l,p);case 24:fl(l,hi,r.memoizedState.cache)}return pi(r,l,p)}function zf(r,l,p){if(r!==null)if(r.memoizedProps!==l.pendingProps)Ii=!0;else{if(!_g(r,p)&&!(l.flags&128))return Ii=!1,dS(r,l,p);Ii=!!(r.flags&131072)}else Ii=!1,xn&&l.flags&1048576&&Wm(l,Cf,l.index);switch(l.lanes=0,l.tag){case 16:t:{r=l.pendingProps;var v=l.elementType,_=v._init;if(v=_(v._payload),l.type=v,typeof v=="function")vo(v)?(r=ic(v,r),l.tag=1,l=Ky(null,l,v,r,p)):(l.tag=0,l=gg(null,l,v,r,p));else{if(v!=null){if(_=v.$$typeof,_===b){l.tag=11,l=hg(null,l,v,r,p);break t}else if(_===S){l.tag=14,l=dg(null,l,v,r,p);break t}}throw l=z(v)||v,Error(i(306,l,""))}}return l;case 0:return gg(r,l,l.type,l.pendingProps,p);case 1:return v=l.type,_=ic(v,l.pendingProps),Ky(r,l,v,_,p);case 3:t:{if(he(l,l.stateNode.containerInfo),r===null)throw Error(i(387));var C=l.pendingProps;_=l.memoizedState,v=_.element,Hd(r,l),nr(l,C,null,p);var P=l.memoizedState;if(C=P.cache,fl(l,hi,C),C!==_.cache&&Fd(l,[hi],p,!0),ps(),C=P.element,_.isDehydrated)if(_={element:C,isDehydrated:!1,cache:P.cache},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){l=vg(r,l,C,p);break t}else if(C!==v){v=ks(Error(i(424)),l),yr(v),l=vg(r,l,C,p);break t}else for(Wi=So(l.stateNode.containerInfo.firstChild),hs=l,xn=!0,Ba=null,Da=!0,p=no(l,null,C,p),l.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(tu(),C===v){l=pi(r,l,p);break t}Fi(r,l,C,p)}l=l.child}return l;case 26:return lu(r,l),r===null?(p=Fw(l.type,null,l.pendingProps,null))?l.memoizedState=p:xn||(p=l.type,r=l.pendingProps,v=i1(Rt.current).createElement(p),v[ai]=l,v[Je]=r,Is(v,p,r),gt(v),l.stateNode=v):l.memoizedState=Fw(l.type,r.memoizedProps,l.pendingProps,r.memoizedState),null;case 27:return Qt(l),r===null&&xn&&(v=l.stateNode=Ow(l.type,l.pendingProps,Rt.current),hs=l,Da=!0,Wi=So(v.firstChild)),v=l.pendingProps.children,r!==null||xn?Fi(r,l,v,p):l.child=eo(l,null,v,p),lu(r,l),l.child;case 5:return r===null&&xn&&((_=v=Wi)&&(v=x6(v,l.type,l.pendingProps,Da),v!==null?(l.stateNode=v,hs=l,Wi=So(v.firstChild),Da=!1,_=!0):_=!1),_||Kl(l)),Qt(l),_=l.type,C=l.pendingProps,P=r!==null?r.memoizedProps:null,v=C.children,MS(_,C)?v=null:P!==null&&MS(_,P)&&(l.flags|=32),l.memoizedState!==null&&(_=Qm(r,l,lS,null,null,p),Lg._currentValue=_),lu(r,l),Fi(r,l,v,p),l.child;case 6:return r===null&&xn&&((r=p=Wi)&&(p=A6(p,l.pendingProps,Da),p!==null?(l.stateNode=p,hs=l,Wi=null,r=!0):r=!1),r||Kl(l)),null;case 13:return Jy(r,l,p);case 4:return he(l,l.stateNode.containerInfo),v=l.pendingProps,r===null?l.child=eo(l,null,v,p):Fi(r,l,v,p),l.child;case 11:return hg(r,l,l.type,l.pendingProps,p);case 7:return Fi(r,l,l.pendingProps,p),l.child;case 8:return Fi(r,l,l.pendingProps.children,p),l.child;case 12:return Fi(r,l,l.pendingProps.children,p),l.child;case 10:return v=l.pendingProps,fl(l,l.type,v.value),Fi(r,l,v.children,p),l.child;case 9:return _=l.type._context,v=l.pendingProps.children,ac(l),_=ds(_),v=v(_),l.flags|=1,Fi(r,l,v,p),l.child;case 14:return dg(r,l,l.type,l.pendingProps,p);case 15:return pg(r,l,l.type,l.pendingProps,p);case 19:return sc(r,l,p);case 22:return Wy(r,l,p);case 24:return ac(l),v=ds(hi),r===null?(_=Of(),_===null&&(_=In,C=Jm(),_.pooledCache=C,C.refCount++,C!==null&&(_.pooledCacheLanes|=p),_=C),l.memoizedState={parent:v,cache:_},Ls(l),fl(l,hi,_)):(r.lanes&p&&(Hd(r,l),nr(l,null,null,p),ps()),_=r.memoizedState,C=l.memoizedState,_.parent!==v?(_={parent:v,cache:v},l.memoizedState=_,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=_),fl(l,hi,v)):(v=C.cache,fl(l,hi,v),v!==_.cache&&Fd(l,[hi],p,!0))),Fi(r,l,l.pendingProps.children,p),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}var cu=Ht(null),Mr=null,er=null;function fl(r,l,p){Xt(cu,l._currentValue),l._currentValue=p}function uo(r){r._currentValue=cu.current,fe(cu)}function da(r,l,p){for(;r!==null;){var v=r.alternate;if((r.childLanes&l)!==l?(r.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),r===p)break;r=r.return}}function Fd(r,l,p,v){var _=r.child;for(_!==null&&(_.return=r);_!==null;){var C=_.dependencies;if(C!==null){var P=_.child;C=C.firstContext;t:for(;C!==null;){var k=C;C=_;for(var $=0;$<l.length;$++)if(k.context===l[$]){C.lanes|=p,k=C.alternate,k!==null&&(k.lanes|=p),da(C.return,p,r),v||(P=null);break t}C=k.next}}else if(_.tag===18){if(P=_.return,P===null)throw Error(i(341));P.lanes|=p,C=P.alternate,C!==null&&(C.lanes|=p),da(P,p,r),P=null}else P=_.child;if(P!==null)P.return=_;else for(P=_;P!==null;){if(P===r){P=null;break}if(_=P.sibling,_!==null){_.return=P.return,P=_;break}P=P.return}_=P}}function Hf(r,l,p,v){r=null;for(var _=l,C=!1;_!==null;){if(!C){if(_.flags&524288)C=!0;else if(_.flags&262144)break}if(_.tag===10){var P=_.alternate;if(P===null)throw Error(i(387));if(P=P.memoizedProps,P!==null){var k=_.type;Hs(_.pendingProps.value,P.value)||(r!==null?r.push(k):r=[k])}}else if(_===K.current){if(P=_.alternate,P===null)throw Error(i(387));P.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(r!==null?r.push(Lg):r=[Lg])}_=_.return}r!==null&&Fd(l,r,p,v),l.flags|=262144}function uu(r){for(r=r.firstContext;r!==null;){if(!Hs(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ac(r){Mr=r,er=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function ds(r){return fu(Mr,r)}function zd(r,l){return Mr===null&&ac(r),fu(r,l)}function fu(r,l){var p=l._currentValue;if(l={context:l,memoizedValue:p,next:null},er===null){if(r===null)throw Error(i(308));er=l,r.dependencies={lanes:0,firstContext:l},r.flags|=524288}else er=er.next=l;return p}var wi=!1;function Ls(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hd(r,l){r=r.updateQueue,l.updateQueue===r&&(l.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function pa(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ma(r,l,p){var v=r.updateQueue;if(v===null)return null;if(v=v.shared,Ve&2){var _=v.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),v.pending=l,l=Tf(r),Ef(r,null,p),l}return Mf(r,v,l,p),Tf(r)}function hl(r,l,p){if(l=l.updateQueue,l!==null&&(l=l.shared,(p&4194176)!==0)){var v=l.lanes;v&=r.pendingLanes,p|=v,l.lanes=p,Ca(r,p)}}function hu(r,l){var p=r.updateQueue,v=r.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var _=null,C=null;if(p=p.firstBaseUpdate,p!==null){do{var P={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};C===null?_=C=P:C=C.next=P,p=p.next}while(p!==null);C===null?_=C=l:C=C.next=l}else _=C=l;p={baseState:v.baseState,firstBaseUpdate:_,lastBaseUpdate:C,shared:v.shared,callbacks:v.callbacks},r.updateQueue=p;return}r=p.lastBaseUpdate,r===null?p.firstBaseUpdate=l:r.next=l,p.lastBaseUpdate=l}var Ys=!1;function ps(){if(Ys){var r=il;if(r!==null)throw r}}function nr(r,l,p,v){Ys=!1;var _=r.updateQueue;wi=!1;var C=_.firstBaseUpdate,P=_.lastBaseUpdate,k=_.shared.pending;if(k!==null){_.shared.pending=null;var $=k,ut=$.next;$.next=null,P===null?C=ut:P.next=ut,P=$;var Ut=r.alternate;Ut!==null&&(Ut=Ut.updateQueue,k=Ut.lastBaseUpdate,k!==P&&(k===null?Ut.firstBaseUpdate=ut:k.next=ut,Ut.lastBaseUpdate=$))}if(C!==null){var jt=_.baseState;P=0,Ut=ut=$=null,k=C;do{var St=k.lane&-536870913,wt=St!==k.lane;if(wt?(Be&St)===St:(v&St)===St){St!==0&&St===Ql&&(Ys=!0),Ut!==null&&(Ut=Ut.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});t:{var Ee=r,je=k;St=l;var Li=p;switch(je.tag){case 1:if(Ee=je.payload,typeof Ee=="function"){jt=Ee.call(Li,jt,St);break t}jt=Ee;break t;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=je.payload,St=typeof Ee=="function"?Ee.call(Li,jt,St):Ee,St==null)break t;jt=I({},jt,St);break t;case 2:wi=!0}}St=k.callback,St!==null&&(r.flags|=64,wt&&(r.flags|=8192),wt=_.callbacks,wt===null?_.callbacks=[St]:wt.push(St))}else wt={lane:St,tag:k.tag,payload:k.payload,callback:k.callback,next:null},Ut===null?(ut=Ut=wt,$=jt):Ut=Ut.next=wt,P|=St;if(k=k.next,k===null){if(k=_.shared.pending,k===null)break;wt=k,k=wt.next,wt.next=null,_.lastBaseUpdate=wt,_.shared.pending=null}}while(!0);Ut===null&&($=jt),_.baseState=$,_.firstBaseUpdate=ut,_.lastBaseUpdate=Ut,C===null&&(_.shared.lanes=0),or|=P,r.lanes=P,r.memoizedState=jt}}function Er(r,l){if(typeof r!="function")throw Error(i(191,r));r.call(l)}function Tr(r,l){var p=r.callbacks;if(p!==null)for(r.callbacks=null,r=0;r<p.length;r++)Er(p[r],l)}function mi(r,l){try{var p=l.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var _=v.next;p=_;do{if((p.tag&r)===r){v=void 0;var C=p.create,P=p.inst;v=C(),P.destroy=v}p=p.next}while(p!==_)}}catch(k){Wt(l,l.return,k)}}function La(r,l,p){try{var v=l.updateQueue,_=v!==null?v.lastEffect:null;if(_!==null){var C=_.next;v=C;do{if((v.tag&r)===r){var P=v.inst,k=P.destroy;if(k!==void 0){P.destroy=void 0,_=l;var $=p;try{k()}catch(ut){Wt(_,$,ut)}}}v=v.next}while(v!==C)}}catch(ut){Wt(l,l.return,ut)}}function fo(r){var l=r.updateQueue;if(l!==null){var p=r.stateNode;try{Tr(l,p)}catch(v){Wt(r,r.return,v)}}}function Gf(r,l,p){p.props=ic(r.type,r.memoizedProps),p.state=r.memoizedState;try{p.componentWillUnmount()}catch(v){Wt(r,l,v)}}function gi(r,l){try{var p=r.ref;if(p!==null){var v=r.stateNode;switch(r.tag){case 26:case 27:case 5:var _=v;break;default:_=v}typeof p=="function"?r.refCleanup=p(_):p.current=_}}catch(C){Wt(r,l,C)}}function Pn(r,l){var p=r.ref,v=r.refCleanup;if(p!==null)if(typeof v=="function")try{v()}catch(_){Wt(r,l,_)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(_){Wt(r,l,_)}else p.current=null}function An(r){var l=r.type,p=r.memoizedProps,v=r.stateNode;try{t:switch(l){case"button":case"input":case"select":case"textarea":p.autoFocus&&v.focus();break t;case"img":p.src?v.src=p.src:p.srcSet&&(v.srcset=p.srcSet)}}catch(_){Wt(r,r.return,_)}}function Na(r,l,p){try{var v=r.stateNode;p6(v,r.type,p,l),v[Je]=l}catch(_){Wt(r,r.return,_)}}function ir(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function Vf(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||ir(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ws(r,l,p){var v=r.tag;if(v===5||v===6)r=r.stateNode,l?p.nodeType===8?p.parentNode.insertBefore(r,l):p.insertBefore(r,l):(p.nodeType===8?(l=p.parentNode,l.insertBefore(r,p)):(l=p,l.appendChild(r)),p=p._reactRootContainer,p!=null||l.onclick!==null||(l.onclick=n1));else if(v!==4&&v!==27&&(r=r.child,r!==null))for(Ws(r,l,p),r=r.sibling;r!==null;)Ws(r,l,p),r=r.sibling}function ho(r,l,p){var v=r.tag;if(v===5||v===6)r=r.stateNode,l?p.insertBefore(r,l):p.appendChild(r);else if(v!==4&&v!==27&&(r=r.child,r!==null))for(ho(r,l,p),r=r.sibling;r!==null;)ho(r,l,p),r=r.sibling}var sr=!1,Kn=!1,dl=!1,Gd=typeof WeakSet=="function"?WeakSet:Set,vi=null,Vd=!1;function du(r,l){if(r=r.containerInfo,SS=c1,r=Gm(r),Sf(r)){if("selectionStart"in r)var p={start:r.selectionStart,end:r.selectionEnd};else t:{p=(p=r.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var _=v.anchorOffset,C=v.focusNode;v=v.focusOffset;try{p.nodeType,C.nodeType}catch{p=null;break t}var P=0,k=-1,$=-1,ut=0,Ut=0,jt=r,St=null;e:for(;;){for(var wt;jt!==p||_!==0&&jt.nodeType!==3||(k=P+_),jt!==C||v!==0&&jt.nodeType!==3||($=P+v),jt.nodeType===3&&(P+=jt.nodeValue.length),(wt=jt.firstChild)!==null;)St=jt,jt=wt;for(;;){if(jt===r)break e;if(St===p&&++ut===_&&(k=P),St===C&&++Ut===v&&($=P),(wt=jt.nextSibling)!==null)break;jt=St,St=jt.parentNode}jt=wt}p=k===-1||$===-1?null:{start:k,end:$}}else p=null}p=p||{start:0,end:0}}else p=null;for(bS={focusedElem:r,selectionRange:p},c1=!1,vi=l;vi!==null;)if(l=vi,r=l.child,(l.subtreeFlags&1028)!==0&&r!==null)r.return=l,vi=r;else for(;vi!==null;){switch(l=vi,C=l.alternate,r=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if(r&1024&&C!==null){r=void 0,p=l,_=C.memoizedProps,C=C.memoizedState,v=p.stateNode;try{var Ee=ic(p.type,_,p.elementType===p.type);r=v.getSnapshotBeforeUpdate(Ee,C),v.__reactInternalSnapshotBeforeUpdate=r}catch(je){Wt(p,p.return,je)}}break;case 3:if(r&1024){if(r=l.stateNode.containerInfo,p=r.nodeType,p===9)CS(r);else if(p===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":CS(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(r&1024)throw Error(i(163))}if(r=l.sibling,r!==null){r.return=l.return,vi=r;break}vi=l.return}return Ee=Vd,Vd=!1,Ee}function pu(r,l,p){var v=p.flags;switch(p.tag){case 0:case 11:case 15:Cr(r,p),v&4&&mi(5,p);break;case 1:if(Cr(r,p),v&4)if(r=p.stateNode,l===null)try{r.componentDidMount()}catch(k){Wt(p,p.return,k)}else{var _=ic(p.type,l.memoizedProps);l=l.memoizedState;try{r.componentDidUpdate(_,l,r.__reactInternalSnapshotBeforeUpdate)}catch(k){Wt(p,p.return,k)}}v&64&&fo(p),v&512&&gi(p,p.return);break;case 3:if(Cr(r,p),v&64&&(v=p.updateQueue,v!==null)){if(r=null,p.child!==null)switch(p.child.tag){case 27:case 5:r=p.child.stateNode;break;case 1:r=p.child.stateNode}try{Tr(v,r)}catch(k){Wt(p,p.return,k)}}break;case 26:Cr(r,p),v&512&&gi(p,p.return);break;case 27:case 5:Cr(r,p),l===null&&v&4&&An(p),v&512&&gi(p,p.return);break;case 12:Cr(r,p);break;case 13:Cr(r,p),v&4&&Zy(r,p);break;case 22:if(_=p.memoizedState!==null||sr,!_){l=l!==null&&l.memoizedState!==null||Kn;var C=sr,P=Kn;sr=_,(Kn=l)&&!P?rr(r,p,(p.subtreeFlags&8772)!==0):Cr(r,p),sr=C,Kn=P}v&512&&(p.memoizedProps.mode==="manual"?gi(p,p.return):Pn(p,p.return));break;default:Cr(r,p)}}function kd(r){var l=r.alternate;l!==null&&(r.alternate=null,kd(l)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(l=r.stateNode,l!==null&&Hl(l)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Jn=null,Ki=!1;function ms(r,l,p){for(p=p.child;p!==null;)jd(r,l,p),p=p.sibling}function jd(r,l,p){if(ye&&typeof ye.onCommitFiberUnmount=="function")try{ye.onCommitFiberUnmount(xe,p)}catch{}switch(p.tag){case 26:Kn||Pn(p,l),ms(r,l,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Kn||Pn(p,l);var v=Jn,_=Ki;for(Jn=p.stateNode,ms(r,l,p),p=p.stateNode,l=p.attributes;l.length;)p.removeAttributeNode(l[0]);Hl(p),Jn=v,Ki=_;break;case 5:Kn||Pn(p,l);case 6:_=Jn;var C=Ki;if(Jn=null,ms(r,l,p),Jn=_,Ki=C,Jn!==null)if(Ki)try{r=Jn,v=p.stateNode,r.nodeType===8?r.parentNode.removeChild(v):r.removeChild(v)}catch(P){Wt(p,l,P)}else try{Jn.removeChild(p.stateNode)}catch(P){Wt(p,l,P)}break;case 18:Jn!==null&&(Ki?(l=Jn,p=p.stateNode,l.nodeType===8?TS(l.parentNode,p):l.nodeType===1&&TS(l,p),Pg(l)):TS(Jn,p.stateNode));break;case 4:v=Jn,_=Ki,Jn=p.stateNode.containerInfo,Ki=!0,ms(r,l,p),Jn=v,Ki=_;break;case 0:case 11:case 14:case 15:Kn||La(2,p,l),Kn||La(4,p,l),ms(r,l,p);break;case 1:Kn||(Pn(p,l),v=p.stateNode,typeof v.componentWillUnmount=="function"&&Gf(p,l,v)),ms(r,l,p);break;case 21:ms(r,l,p);break;case 22:Kn||Pn(p,l),Kn=(v=Kn)||p.memoizedState!==null,ms(r,l,p),Kn=v;break;default:ms(r,l,p)}}function Zy(r,l){if(l.memoizedState===null&&(r=l.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Pg(r)}catch(p){Wt(l,l.return,p)}}function kf(r){switch(r.tag){case 13:case 19:var l=r.stateNode;return l===null&&(l=r.stateNode=new Gd),l;case 22:return r=r.stateNode,l=r._retryCache,l===null&&(l=r._retryCache=new Gd),l;default:throw Error(i(435,r.tag))}}function jf(r,l){var p=kf(r);l.forEach(function(v){var _=_t.bind(null,r,v);p.has(v)||(p.add(v),v.then(_,_))})}function Ns(r,l){var p=l.deletions;if(p!==null)for(var v=0;v<p.length;v++){var _=p[v],C=r,P=l,k=P;t:for(;k!==null;){switch(k.tag){case 27:case 5:Jn=k.stateNode,Ki=!1;break t;case 3:Jn=k.stateNode.containerInfo,Ki=!0;break t;case 4:Jn=k.stateNode.containerInfo,Ki=!0;break t}k=k.return}if(Jn===null)throw Error(i(160));jd(C,P,_),Jn=null,Ki=!1,C=_.alternate,C!==null&&(C.return=null),_.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)rc(l,r),l=l.sibling}var gs=null;function rc(r,l){var p=r.alternate,v=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ns(l,r),vs(r),v&4&&(La(3,r,r.return),mi(3,r),La(5,r,r.return));break;case 1:Ns(l,r),vs(r),v&512&&(Kn||p===null||Pn(p,p.return)),v&64&&sr&&(r=r.updateQueue,r!==null&&(v=r.callbacks,v!==null&&(p=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=p===null?v:p.concat(v))));break;case 26:var _=gs;if(Ns(l,r),vs(r),v&512&&(Kn||p===null||Pn(p,p.return)),v&4){var C=p!==null?p.memoizedState:null;if(v=r.memoizedState,p===null)if(v===null)if(r.stateNode===null){t:{v=r.type,p=r.memoizedProps,_=_.ownerDocument||_;e:switch(v){case"title":C=_.getElementsByTagName("title")[0],(!C||C[kr]||C[ai]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=_.createElement(v),_.head.insertBefore(C,_.querySelector("head > title"))),Is(C,v,p),C[ai]=r,gt(C),v=C;break t;case"link":var P=Gw("link","href",_).get(v+(p.href||""));if(P){for(var k=0;k<P.length;k++)if(C=P[k],C.getAttribute("href")===(p.href==null?null:p.href)&&C.getAttribute("rel")===(p.rel==null?null:p.rel)&&C.getAttribute("title")===(p.title==null?null:p.title)&&C.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){P.splice(k,1);break e}}C=_.createElement(v),Is(C,v,p),_.head.appendChild(C);break;case"meta":if(P=Gw("meta","content",_).get(v+(p.content||""))){for(k=0;k<P.length;k++)if(C=P[k],C.getAttribute("content")===(p.content==null?null:""+p.content)&&C.getAttribute("name")===(p.name==null?null:p.name)&&C.getAttribute("property")===(p.property==null?null:p.property)&&C.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&C.getAttribute("charset")===(p.charSet==null?null:p.charSet)){P.splice(k,1);break e}}C=_.createElement(v),Is(C,v,p),_.head.appendChild(C);break;default:throw Error(i(468,v))}C[ai]=r,gt(C),v=C}r.stateNode=v}else Vw(_,r.type,r.stateNode);else r.stateNode=Hw(_,v,r.memoizedProps);else C!==v?(C===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):C.count--,v===null?Vw(_,r.type,r.stateNode):Hw(_,v,r.memoizedProps)):v===null&&r.stateNode!==null&&Na(r,r.memoizedProps,p.memoizedProps)}break;case 27:if(v&4&&r.alternate===null){_=r.stateNode,C=r.memoizedProps;try{for(var $=_.firstChild;$;){var ut=$.nextSibling,Ut=$.nodeName;$[kr]||Ut==="HEAD"||Ut==="BODY"||Ut==="SCRIPT"||Ut==="STYLE"||Ut==="LINK"&&$.rel.toLowerCase()==="stylesheet"||_.removeChild($),$=ut}for(var jt=r.type,St=_.attributes;St.length;)_.removeAttributeNode(St[0]);Is(_,jt,C),_[ai]=r,_[Je]=C}catch(Ee){Wt(r,r.return,Ee)}}case 5:if(Ns(l,r),vs(r),v&512&&(Kn||p===null||Pn(p,p.return)),r.flags&32){_=r.stateNode;try{ws(_,"")}catch(Ee){Wt(r,r.return,Ee)}}v&4&&r.stateNode!=null&&(_=r.memoizedProps,Na(r,_,p!==null?p.memoizedProps:_)),v&1024&&(dl=!0);break;case 6:if(Ns(l,r),vs(r),v&4){if(r.stateNode===null)throw Error(i(162));v=r.memoizedProps,p=r.stateNode;try{p.nodeValue=v}catch(Ee){Wt(r,r.return,Ee)}}break;case 3:if(r1=null,_=gs,gs=s1(l.containerInfo),Ns(l,r),gs=_,vs(r),v&4&&p!==null&&p.memoizedState.isDehydrated)try{Pg(l.containerInfo)}catch(Ee){Wt(r,r.return,Ee)}dl&&(dl=!1,pl(r));break;case 4:v=gs,gs=s1(r.stateNode.containerInfo),Ns(l,r),vs(r),gs=v;break;case 12:Ns(l,r),vs(r);break;case 13:Ns(l,r),vs(r),r.child.flags&8192&&r.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Qe=Ct()),v&4&&(v=r.updateQueue,v!==null&&(r.updateQueue=null,jf(r,v)));break;case 22:if(v&512&&(Kn||p===null||Pn(p,p.return)),$=r.memoizedState!==null,ut=p!==null&&p.memoizedState!==null,Ut=sr,jt=Kn,sr=Ut||$,Kn=jt||ut,Ns(l,r),Kn=jt,sr=Ut,vs(r),l=r.stateNode,l._current=r,l._visibility&=-3,l._visibility|=l._pendingVisibility&2,v&8192&&(l._visibility=$?l._visibility&-2:l._visibility|1,$&&(l=sr||Kn,p===null||ut||l||ar(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))t:for(p=null,l=r;;){if(l.tag===5||l.tag===26||l.tag===27){if(p===null){ut=p=l;try{if(_=ut.stateNode,$)C=_.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{P=ut.stateNode,k=ut.memoizedProps.style;var wt=k!=null&&k.hasOwnProperty("display")?k.display:null;P.style.display=wt==null||typeof wt=="boolean"?"":(""+wt).trim()}}catch(Ee){Wt(ut,ut.return,Ee)}}}else if(l.tag===6){if(p===null){ut=l;try{ut.stateNode.nodeValue=$?"":ut.memoizedProps}catch(Ee){Wt(ut,ut.return,Ee)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===r)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break t;for(;l.sibling===null;){if(l.return===null||l.return===r)break t;p===l&&(p=null),l=l.return}p===l&&(p=null),l.sibling.return=l.return,l=l.sibling}v&4&&(v=r.updateQueue,v!==null&&(p=v.retryQueue,p!==null&&(v.retryQueue=null,jf(r,p))));break;case 19:Ns(l,r),vs(r),v&4&&(v=r.updateQueue,v!==null&&(r.updateQueue=null,jf(r,v)));break;case 21:break;default:Ns(l,r),vs(r)}}function vs(r){var l=r.flags;if(l&2){try{if(r.tag!==27){t:{for(var p=r.return;p!==null;){if(ir(p)){var v=p;break t}p=p.return}throw Error(i(160))}switch(v.tag){case 27:var _=v.stateNode,C=Vf(r);ho(r,C,_);break;case 5:var P=v.stateNode;v.flags&32&&(ws(P,""),v.flags&=-33);var k=Vf(r);ho(r,k,P);break;case 3:case 4:var $=v.stateNode.containerInfo,ut=Vf(r);Ws(r,ut,$);break;default:throw Error(i(161))}}}catch(Ut){Wt(r,r.return,Ut)}r.flags&=-3}l&4096&&(r.flags&=-4097)}function pl(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var l=r;pl(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),r=r.sibling}}function Cr(r,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)pu(r,l.alternate,l),l=l.sibling}function ar(r){for(r=r.child;r!==null;){var l=r;switch(l.tag){case 0:case 11:case 14:case 15:La(4,l,l.return),ar(l);break;case 1:Pn(l,l.return);var p=l.stateNode;typeof p.componentWillUnmount=="function"&&Gf(l,l.return,p),ar(l);break;case 26:case 27:case 5:Pn(l,l.return),ar(l);break;case 22:Pn(l,l.return),l.memoizedState===null&&ar(l);break;default:ar(l)}r=r.sibling}}function rr(r,l,p){for(p=p&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var v=l.alternate,_=r,C=l,P=C.flags;switch(C.tag){case 0:case 11:case 15:rr(_,C,p),mi(4,C);break;case 1:if(rr(_,C,p),v=C,_=v.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(ut){Wt(v,v.return,ut)}if(v=C,_=v.updateQueue,_!==null){var k=v.stateNode;try{var $=_.shared.hiddenCallbacks;if($!==null)for(_.shared.hiddenCallbacks=null,_=0;_<$.length;_++)Er($[_],k)}catch(ut){Wt(v,v.return,ut)}}p&&P&64&&fo(C),gi(C,C.return);break;case 26:case 27:case 5:rr(_,C,p),p&&v===null&&P&4&&An(C),gi(C,C.return);break;case 12:rr(_,C,p);break;case 13:rr(_,C,p),p&&P&4&&Zy(_,C);break;case 22:C.memoizedState===null&&rr(_,C,p),gi(C,C.return);break;default:rr(_,C,p)}l=l.sibling}}function qs(r,l){var p=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(p=r.memoizedState.cachePool.pool),r=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(r=l.memoizedState.cachePool.pool),r!==p&&(r!=null&&r.refCount++,p!=null&&el(p))}function Ua(r,l){r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&el(r))}function Wn(r,l,p,v){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)po(r,l,p,v),l=l.sibling}function po(r,l,p,v){var _=l.flags;switch(l.tag){case 0:case 11:case 15:Wn(r,l,p,v),_&2048&&mi(9,l);break;case 3:Wn(r,l,p,v),_&2048&&(r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&el(r)));break;case 12:if(_&2048){Wn(r,l,p,v),r=l.stateNode;try{var C=l.memoizedProps,P=C.id,k=C.onPostCommit;typeof k=="function"&&k(P,l.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch($){Wt(l,l.return,$)}}else Wn(r,l,p,v);break;case 23:break;case 22:C=l.stateNode,l.memoizedState!==null?C._visibility&4?Wn(r,l,p,v):Mn(r,l):C._visibility&4?Wn(r,l,p,v):(C._visibility|=4,Ge(r,l,p,v,(l.subtreeFlags&10256)!==0)),_&2048&&qs(l.alternate,l);break;case 24:Wn(r,l,p,v),_&2048&&Ua(l.alternate,l);break;default:Wn(r,l,p,v)}}function Ge(r,l,p,v,_){for(_=_&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var C=r,P=l,k=p,$=v,ut=P.flags;switch(P.tag){case 0:case 11:case 15:Ge(C,P,k,$,_),mi(8,P);break;case 23:break;case 22:var Ut=P.stateNode;P.memoizedState!==null?Ut._visibility&4?Ge(C,P,k,$,_):Mn(C,P):(Ut._visibility|=4,Ge(C,P,k,$,_)),_&&ut&2048&&qs(P.alternate,P);break;case 24:Ge(C,P,k,$,_),_&&ut&2048&&Ua(P.alternate,P);break;default:Ge(C,P,k,$,_)}l=l.sibling}}function Mn(r,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var p=r,v=l,_=v.flags;switch(v.tag){case 22:Mn(p,v),_&2048&&qs(v.alternate,v);break;case 24:Mn(p,v),_&2048&&Ua(v.alternate,v);break;default:Mn(p,v)}l=l.sibling}}var ti=8192;function mo(r){if(r.subtreeFlags&ti)for(r=r.child;r!==null;)oc(r),r=r.sibling}function oc(r){switch(r.tag){case 26:mo(r),r.flags&ti&&r.memoizedState!==null&&N6(gs,r.memoizedState,r.memoizedProps);break;case 5:mo(r);break;case 3:case 4:var l=gs;gs=s1(r.stateNode.containerInfo),mo(r),gs=l;break;case 22:r.memoizedState===null&&(l=r.alternate,l!==null&&l.memoizedState!==null?(l=ti,ti=16777216,mo(r),ti=l):mo(r));break;default:mo(r)}}function ml(r){var l=r.alternate;if(l!==null&&(r=l.child,r!==null)){l.child=null;do l=r.sibling,r.sibling=null,r=l;while(r!==null)}}function gl(r){var l=r.deletions;if(r.flags&16){if(l!==null)for(var p=0;p<l.length;p++){var v=l[p];vi=v,Qy(v,r)}ml(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)mu(r),r=r.sibling}function mu(r){switch(r.tag){case 0:case 11:case 15:gl(r),r.flags&2048&&La(9,r,r.return);break;case 3:gl(r);break;case 12:gl(r);break;case 22:var l=r.stateNode;r.memoizedState!==null&&l._visibility&4&&(r.return===null||r.return.tag!==13)?(l._visibility&=-5,go(r)):gl(r);break;default:gl(r)}}function go(r){var l=r.deletions;if(r.flags&16){if(l!==null)for(var p=0;p<l.length;p++){var v=l[p];vi=v,Qy(v,r)}ml(r)}for(r=r.child;r!==null;){switch(l=r,l.tag){case 0:case 11:case 15:La(8,l,l.return),go(l);break;case 22:p=l.stateNode,p._visibility&4&&(p._visibility&=-5,go(l));break;default:go(l)}r=r.sibling}}function Qy(r,l){for(;vi!==null;){var p=vi;switch(p.tag){case 0:case 11:case 15:La(8,p,l);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var v=p.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:el(p.memoizedState.cache)}if(v=p.child,v!==null)v.return=p,vi=v;else t:for(p=r;vi!==null;){v=vi;var _=v.sibling,C=v.return;if(kd(v),v===p){vi=null;break t}if(_!==null){_.return=C,vi=_;break t}vi=C}}}function Sg(r,l,p,v){this.tag=r,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yi(r,l,p,v){return new Sg(r,l,p,v)}function vo(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Us(r,l){var p=r.alternate;return p===null?(p=yi(r.tag,l,r.key,r.mode),p.elementType=r.elementType,p.type=r.type,p.stateNode=r.stateNode,p.alternate=r,r.alternate=p):(p.pendingProps=l,p.type=r.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=r.flags&31457280,p.childLanes=r.childLanes,p.lanes=r.lanes,p.child=r.child,p.memoizedProps=r.memoizedProps,p.memoizedState=r.memoizedState,p.updateQueue=r.updateQueue,l=r.dependencies,p.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},p.sibling=r.sibling,p.index=r.index,p.ref=r.ref,p.refCleanup=r.refCleanup,p}function vl(r,l){r.flags&=31457282;var p=r.alternate;return p===null?(r.childLanes=0,r.lanes=l,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=p.childLanes,r.lanes=p.lanes,r.child=p.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=p.memoizedProps,r.memoizedState=p.memoizedState,r.updateQueue=p.updateQueue,r.type=p.type,l=p.dependencies,r.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),r}function gu(r,l,p,v,_,C){var P=0;if(v=r,typeof r=="function")vo(r)&&(P=1);else if(typeof r=="string")P=D6(r,p,ne.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case u:return yl(p.children,_,C,l);case d:P=8,_|=24;break;case m:return r=yi(12,p,l,_|2),r.elementType=m,r.lanes=C,r;case T:return r=yi(13,p,l,_),r.elementType=T,r.lanes=C,r;case E:return r=yi(19,p,l,_),r.elementType=E,r.lanes=C,r;case B:return bg(p,_,C,l);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case g:case A:P=10;break t;case y:P=9;break t;case b:P=11;break t;case S:P=14;break t;case R:P=16,v=null;break t}P=29,p=Error(i(130,r===null?"null":typeof r,"")),v=null}return l=yi(P,p,l,_),l.elementType=r,l.type=v,l.lanes=C,l}function yl(r,l,p,v){return r=yi(7,r,v,l),r.lanes=p,r}function bg(r,l,p,v){r=yi(22,r,v,l),r.elementType=B,r.lanes=p;var _={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var C=_._current;if(C===null)throw Error(i(456));if(!(_._pendingVisibility&2)){var P=Qr(C,2);P!==null&&(_._pendingVisibility|=2,Di(P,C,2))}},attach:function(){var C=_._current;if(C===null)throw Error(i(456));if(_._pendingVisibility&2){var P=Qr(C,2);P!==null&&(_._pendingVisibility&=-3,Di(P,C,2))}}};return r.stateNode=_,r}function Ri(r,l,p){return r=yi(6,r,null,l),r.lanes=p,r}function Xf(r,l,p){return l=yi(4,r.children!==null?r.children:[],r.key,l),l.lanes=p,l.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},l}function Oa(r){r.flags|=4}function xl(r,l){if(l.type!=="stylesheet"||l.state.loading&4)r.flags&=-16777217;else if(r.flags|=16777216,!kw(l)){if(l=js.current,l!==null&&((Be&4194176)===Be?xr!==null:(Be&62914560)!==Be&&!(Be&536870912)||l!==xr))throw eu=_d,qm;r.flags|=8192}}function Pa(r,l){l!==null&&(r.flags|=4),r.flags&16384&&(l=r.tag!==22?dn():536870912,r.lanes|=l,Rr|=l)}function Yf(r,l){if(!xn)switch(r.tailMode){case"hidden":l=r.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?r.tail=null:p.sibling=null;break;case"collapsed":p=r.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?l||r.tail===null?r.tail=null:r.tail.sibling=null:v.sibling=null}}function ii(r){var l=r.alternate!==null&&r.alternate.child===r.child,p=0,v=0;if(l)for(var _=r.child;_!==null;)p|=_.lanes|_.childLanes,v|=_.subtreeFlags&31457280,v|=_.flags&31457280,_.return=r,_=_.sibling;else for(_=r.child;_!==null;)p|=_.lanes|_.childLanes,v|=_.subtreeFlags,v|=_.flags,_.return=r,_=_.sibling;return r.subtreeFlags|=v,r.childLanes=p,l}function pS(r,l,p){var v=l.pendingProps;switch(Jo(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ii(l),null;case 1:return ii(l),null;case 3:return p=l.stateNode,v=null,r!==null&&(v=r.memoizedState.cache),l.memoizedState.cache!==v&&(l.flags|=2048),uo(hi),Vt(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(r===null||r.child===null)&&($c(l)?Oa(l):r===null||r.memoizedState.isDehydrated&&!(l.flags&256)||(l.flags|=1024,Ba!==null&&(Ha(Ba),Ba=null))),ii(l),null;case 26:return p=l.memoizedState,r===null?(Oa(l),p!==null?(ii(l),xl(l,p)):(ii(l),l.flags&=-16777217)):p?p!==r.memoizedState?(Oa(l),ii(l),xl(l,p)):(ii(l),l.flags&=-16777217):(r.memoizedProps!==v&&Oa(l),ii(l),l.flags&=-16777217),null;case 27:Jt(l),p=Rt.current;var _=l.type;if(r!==null&&l.stateNode!=null)r.memoizedProps!==v&&Oa(l);else{if(!v){if(l.stateNode===null)throw Error(i(166));return ii(l),null}r=ne.current,$c(l)?ry(l):(r=Ow(_,v,p),l.stateNode=r,Oa(l))}return ii(l),null;case 5:if(Jt(l),p=l.type,r!==null&&l.stateNode!=null)r.memoizedProps!==v&&Oa(l);else{if(!v){if(l.stateNode===null)throw Error(i(166));return ii(l),null}if(r=ne.current,$c(l))ry(l);else{switch(_=i1(Rt.current),r){case 1:r=_.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:r=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":r=_.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":r=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":r=_.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof v.is=="string"?_.createElement("select",{is:v.is}):_.createElement("select"),v.multiple?r.multiple=!0:v.size&&(r.size=v.size);break;default:r=typeof v.is=="string"?_.createElement(p,{is:v.is}):_.createElement(p)}}r[ai]=l,r[Je]=v;t:for(_=l.child;_!==null;){if(_.tag===5||_.tag===6)r.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===l)break t;for(;_.sibling===null;){if(_.return===null||_.return===l)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}l.stateNode=r;t:switch(Is(r,p,v),p){case"button":case"input":case"select":case"textarea":r=!!v.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&Oa(l)}}return ii(l),l.flags&=-16777217,null;case 6:if(r&&l.stateNode!=null)r.memoizedProps!==v&&Oa(l);else{if(typeof v!="string"&&l.stateNode===null)throw Error(i(166));if(r=Rt.current,$c(l)){if(r=l.stateNode,p=l.memoizedProps,v=null,_=hs,_!==null)switch(_.tag){case 27:case 5:v=_.memoizedProps}r[ai]=l,r=!!(r.nodeValue===p||v!==null&&v.suppressHydrationWarning===!0||Rw(r.nodeValue,p)),r||Kl(l)}else r=i1(r).createTextNode(v),r[ai]=l,l.stateNode=r}return ii(l),null;case 13:if(v=l.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(_=$c(l),v!==null&&v.dehydrated!==null){if(r===null){if(!_)throw Error(i(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(i(317));_[ai]=l}else tu(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;ii(l),_=!1}else Ba!==null&&(Ha(Ba),Ba=null),_=!0;if(!_)return l.flags&256?(Ar(l),l):(Ar(l),null)}if(Ar(l),l.flags&128)return l.lanes=p,l;if(p=v!==null,r=r!==null&&r.memoizedState!==null,p){v=l.child,_=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(_=v.alternate.memoizedState.cachePool.pool);var C=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(C=v.memoizedState.cachePool.pool),C!==_&&(v.flags|=2048)}return p!==r&&p&&(l.child.flags|=8192),Pa(l,l.updateQueue),ii(l),null;case 4:return Vt(),r===null&&xS(l.stateNode.containerInfo),ii(l),null;case 10:return uo(l.type),ii(l),null;case 19:if(fe(Ti),_=l.memoizedState,_===null)return ii(l),null;if(v=(l.flags&128)!==0,C=_.rendering,C===null)if(v)Yf(_,!1);else{if(Zn!==0||r!==null&&r.flags&128)for(r=l.child;r!==null;){if(C=nu(r),C!==null){for(l.flags|=128,Yf(_,!1),r=C.updateQueue,l.updateQueue=r,Pa(l,r),l.subtreeFlags=0,r=p,p=l.child;p!==null;)vl(p,r),p=p.sibling;return Xt(Ti,Ti.current&1|2),l.child}r=r.sibling}_.tail!==null&&Ct()>on&&(l.flags|=128,v=!0,Yf(_,!1),l.lanes=4194304)}else{if(!v)if(r=nu(C),r!==null){if(l.flags|=128,v=!0,r=r.updateQueue,l.updateQueue=r,Pa(l,r),Yf(_,!0),_.tail===null&&_.tailMode==="hidden"&&!C.alternate&&!xn)return ii(l),null}else 2*Ct()-_.renderingStartTime>on&&p!==536870912&&(l.flags|=128,v=!0,Yf(_,!1),l.lanes=4194304);_.isBackwards?(C.sibling=l.child,l.child=C):(r=_.last,r!==null?r.sibling=C:l.child=C,_.last=C)}return _.tail!==null?(l=_.tail,_.rendering=l,_.tail=l.sibling,_.renderingStartTime=Ct(),l.sibling=null,r=Ti.current,Xt(Ti,v?r&1|2:r&1),l):(ii(l),null);case 22:case 23:return Ar(l),Uf(),v=l.memoizedState!==null,r!==null?r.memoizedState!==null!==v&&(l.flags|=8192):v&&(l.flags|=8192),v?p&536870912&&!(l.flags&128)&&(ii(l),l.subtreeFlags&6&&(l.flags|=8192)):ii(l),p=l.updateQueue,p!==null&&Pa(l,p.retryQueue),p=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(p=r.memoizedState.cachePool.pool),v=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(v=l.memoizedState.cachePool.pool),v!==p&&(l.flags|=2048),r!==null&&fe(ao),null;case 24:return p=null,r!==null&&(p=r.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),uo(hi),ii(l),null;case 25:return null}throw Error(i(156,l.tag))}function li(r,l){switch(Jo(l),l.tag){case 1:return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 3:return uo(hi),Vt(),r=l.flags,r&65536&&!(r&128)?(l.flags=r&-65537|128,l):null;case 26:case 27:case 5:return Jt(l),null;case 13:if(Ar(l),r=l.memoizedState,r!==null&&r.dehydrated!==null){if(l.alternate===null)throw Error(i(340));tu()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 19:return fe(Ti),null;case 4:return Vt(),null;case 10:return uo(l.type),null;case 22:case 23:return Ar(l),Uf(),r!==null&&fe(ao),r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 24:return uo(hi),null;case 25:return null;default:return null}}function Mg(r,l){switch(Jo(l),l.tag){case 3:uo(hi),Vt();break;case 26:case 27:case 5:Jt(l);break;case 4:Vt();break;case 13:Ar(l);break;case 19:fe(Ti);break;case 10:uo(l.type);break;case 22:case 23:Ar(l),Uf(),r!==null&&fe(ao);break;case 24:uo(hi)}}var lc={getCacheForType:function(r){var l=ds(hi),p=l.data.get(r);return p===void 0&&(p=r(),l.data.set(r,p)),p}},yo=typeof WeakMap=="function"?WeakMap:Map,Ve=0,In=null,en=null,Be=0,Vn=0,En=null,xi=!1,ys=!1,Al=!1,xo=0,Zn=0,or=0,wr=0,vu=0,Os=0,Rr=0,Wf=null,rn=null,Fn=!1,Qe=0,on=1/0,Un=null,Bi=null,Ia=!1,Fa=null,cc=0,lr=0,ei=null,za=0,Ao=null;function Ps(){if(Ve&2&&Be!==0)return Be&-Be;if(O.T!==null){var r=Ql;return r!==0?r:mS()}return zc()}function ga(){Os===0&&(Os=!(Be&536870912)||xn?ni():536870912);var r=js.current;return r!==null&&(r.flags|=32),Os}function Di(r,l,p){(r===In&&Vn===2||r.cancelPendingCommit!==null)&&(_o(r,0),va(r,Be,Os,!1)),ls(r,p),(!(Ve&2)||r!==In)&&(r===In&&(!(Ve&2)&&(wr|=p),Zn===4&&va(r,Be,Os,!1)),kn(r))}function yu(r,l,p){if(Ve&6)throw Error(i(327));var v=!p&&(l&60)===0&&(l&r.expiredLanes)===0||Le(r,l),_=v?f(r,l):fc(r,l,!0),C=v;do{if(_===0){ys&&!v&&va(r,l,0,!1);break}else if(_===6)va(r,l,0,!xi);else{if(p=r.current.alternate,C&&!Eg(p)){_=fc(r,l,!1),C=!1;continue}if(_===2){if(C=l,r.errorRecoveryDisabledLanes&C)var P=0;else P=r.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){l=P;t:{var k=r;_=Wf;var $=k.current.memoizedState.isDehydrated;if($&&(_o(k,P).flags|=256),P=fc(k,P,!1),P!==2){if(Al&&!$){k.errorRecoveryDisabledLanes|=C,wr|=C,_=4;break t}C=rn,rn=_,C!==null&&Ha(C)}_=P}if(C=!1,_!==2)continue}}if(_===1){_o(r,0),va(r,l,0,!0);break}t:{switch(v=r,_){case 0:case 1:throw Error(i(345));case 4:if((l&4194176)===l){va(v,l,Os,!xi);break t}break;case 2:rn=null;break;case 3:case 5:break;default:throw Error(i(329))}if(v.finishedWork=p,v.finishedLanes=l,(l&62914560)===l&&(C=Qe+300-Ct(),10<C)){if(va(v,l,Os,!xi),se(v,0)!==0)break t;v.timeoutHandle=Lw(Xd.bind(null,v,p,rn,Un,Fn,l,Os,wr,Rr,xi,2,-0,0),C);break t}Xd(v,p,rn,Un,Fn,l,Os,wr,Rr,xi,0,-0,0)}}break}while(!0);kn(r)}function Ha(r){rn===null?rn=r:rn.push.apply(rn,r)}function Xd(r,l,p,v,_,C,P,k,$,ut,Ut,jt,St){var wt=l.subtreeFlags;if((wt&8192||(wt&16785408)===16785408)&&(Dg={stylesheets:null,count:0,unsuspend:L6},oc(l),l=U6(),l!==null)){r.cancelPendingCommit=l(nt.bind(null,r,p,v,_,P,k,$,1,jt,St)),va(r,C,P,!ut);return}nt(r,p,v,_,P,k,$,Ut,jt,St)}function Eg(r){for(var l=r;;){var p=l.tag;if((p===0||p===11||p===15)&&l.flags&16384&&(p=l.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var v=0;v<p.length;v++){var _=p[v],C=_.getSnapshot;_=_.value;try{if(!Hs(C(),_))return!1}catch{return!1}}if(p=l.child,l.subtreeFlags&16384&&p!==null)p.return=l,l=p;else{if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function va(r,l,p,v){l&=~vu,l&=~wr,r.suspendedLanes|=l,r.pingedLanes&=~l,v&&(r.warmLanes|=l),v=r.expirationTimes;for(var _=l;0<_;){var C=31-be(_),P=1<<C;v[C]=-1,_&=~P}p!==0&&zl(r,p,l)}function uc(){return Ve&6?!0:(fn(0),!1)}function Br(){if(en!==null){if(Vn===0)var r=en.return;else r=en,er=Mr=null,Ed(r),$o=null,Df=0,r=en;for(;r!==null;)Mg(r.alternate,r),r=r.return;en=null}}function _o(r,l){r.finishedWork=null,r.finishedLanes=0;var p=r.timeoutHandle;p!==-1&&(r.timeoutHandle=-1,g6(p)),p=r.cancelPendingCommit,p!==null&&(r.cancelPendingCommit=null,p()),Br(),In=r,en=p=Us(r.current,null),Be=l,Vn=0,En=null,xi=!1,ys=Le(r,l),Al=!1,Rr=Os=vu=wr=or=Zn=0,rn=Wf=null,Fn=!1,l&8&&(l|=l&32);var v=r.entangledLanes;if(v!==0)for(r=r.entanglements,v&=l;0<v;){var _=31-be(v),C=1<<_;l|=r[_],v&=~C}return xo=l,bf(),p}function _l(r,l){Ze=null,O.H=br,l===Zo?(l=Rn(),Vn=3):l===qm?(l=Rn(),Vn=4):Vn=l===ha?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,En=l,en===null&&(Zn=1,Ud(r,ks(l,r.current)))}function xu(){var r=O.H;return O.H=br,r===null?br:r}function Yd(){var r=O.A;return O.A=lc,r}function qf(){Zn=4,xi||(Be&4194176)!==Be&&js.current!==null||(ys=!0),!(or&134217727)&&!(wr&134217727)||In===null||va(In,Be,Os,!1)}function fc(r,l,p){var v=Ve;Ve|=2;var _=xu(),C=Yd();(In!==r||Be!==l)&&(Un=null,_o(r,l)),l=!1;var P=Zn;t:do try{if(Vn!==0&&en!==null){var k=en,$=En;switch(Vn){case 8:Br(),P=6;break t;case 3:case 2:case 6:js.current===null&&(l=!0);var ut=Vn;if(Vn=0,En=null,w(r,k,$,ut),p&&ys){P=0;break t}break;default:ut=Vn,Vn=0,En=null,w(r,k,$,ut)}}Tg(),P=Zn;break}catch(Ut){_l(r,Ut)}while(!0);return l&&r.shellSuspendCounter++,er=Mr=null,Ve=v,O.H=_,O.A=C,en===null&&(In=null,Be=0,bf()),P}function Tg(){for(;en!==null;)x(en)}function f(r,l){var p=Ve;Ve|=2;var v=xu(),_=Yd();In!==r||Be!==l?(Un=null,on=Ct()+500,_o(r,l)):ys=Le(r,l);t:do try{if(Vn!==0&&en!==null){l=en;var C=En;e:switch(Vn){case 1:Vn=0,En=null,w(r,l,C,1);break;case 2:if(ly(C)){Vn=0,En=null,M(l);break}l=function(){Vn===2&&In===r&&(Vn=7),kn(r)},C.then(l,l);break t;case 3:Vn=7;break t;case 4:Vn=5;break t;case 7:ly(C)?(Vn=0,En=null,M(l)):(Vn=0,En=null,w(r,l,C,7));break;case 5:var P=null;switch(en.tag){case 26:P=en.memoizedState;case 5:case 27:var k=en;if(!P||kw(P)){Vn=0,En=null;var $=k.sibling;if($!==null)en=$;else{var ut=k.return;ut!==null?(en=ut,L(ut)):en=null}break e}}Vn=0,En=null,w(r,l,C,5);break;case 6:Vn=0,En=null,w(r,l,C,6);break;case 8:Br(),Zn=6;break t;default:throw Error(i(462))}}h();break}catch(Ut){_l(r,Ut)}while(!0);return er=Mr=null,O.H=v,O.A=_,Ve=p,en!==null?0:(In=null,Be=0,bf(),Zn)}function h(){for(;en!==null&&!H();)x(en)}function x(r){var l=zf(r.alternate,r,xo);r.memoizedProps=r.pendingProps,l===null?L(r):en=l}function M(r){var l=r,p=l.alternate;switch(l.tag){case 15:case 0:l=qy(p,l,l.pendingProps,l.type,void 0,Be);break;case 11:l=qy(p,l,l.pendingProps,l.type.render,l.ref,Be);break;case 5:Ed(l);default:Mg(p,l),l=en=vl(l,xo),l=zf(p,l,xo)}r.memoizedProps=r.pendingProps,l===null?L(r):en=l}function w(r,l,p,v){er=Mr=null,Ed(l),$o=null,Df=0;var _=l.return;try{if(hS(r,_,l,p,Be)){Zn=1,Ud(r,ks(p,r.current)),en=null;return}}catch(C){if(_!==null)throw en=_,C;Zn=1,Ud(r,ks(p,r.current)),en=null;return}l.flags&32768?(xn||v===1?r=!0:ys||Be&536870912?r=!1:(xi=r=!0,(v===2||v===3||v===6)&&(v=js.current,v!==null&&v.tag===13&&(v.flags|=16384))),j(l,r)):L(l)}function L(r){var l=r;do{if(l.flags&32768){j(l,xi);return}r=l.return;var p=pS(l.alternate,l,xo);if(p!==null){en=p;return}if(l=l.sibling,l!==null){en=l;return}en=l=r}while(l!==null);Zn===0&&(Zn=5)}function j(r,l){do{var p=li(r.alternate,r);if(p!==null){p.flags&=32767,en=p;return}if(p=r.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!l&&(r=r.sibling,r!==null)){en=r;return}en=r=p}while(r!==null);Zn=6,en=null}function nt(r,l,p,v,_,C,P,k,$,ut){var Ut=O.T,jt=st.p;try{st.p=2,O.T=null,mt(r,l,p,v,jt,_,C,P,k,$,ut)}finally{O.T=Ut,st.p=jt}}function mt(r,l,p,v,_,C,P,k){do Kt();while(Fa!==null);if(Ve&6)throw Error(i(327));var $=r.finishedWork;if(v=r.finishedLanes,$===null)return null;if(r.finishedWork=null,r.finishedLanes=0,$===r.current)throw Error(i(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var ut=$.lanes|$.childLanes;if(ut|=Zr,rf(r,v,ut,C,P,k),r===In&&(en=In=null,Be=0),!($.subtreeFlags&10256)&&!($.flags&10256)||Ia||(Ia=!0,lr=ut,ei=p,ht(ee,function(){return Kt(),null})),p=($.flags&15990)!==0,$.subtreeFlags&15990||p?(p=O.T,O.T=null,C=st.p,st.p=2,P=Ve,Ve|=4,du(r,$),rc($,r),Vm(bS,r.containerInfo),c1=!!SS,bS=SS=null,r.current=$,pu(r,$.alternate,$),yt(),Ve=P,st.p=C,O.T=p):r.current=$,Ia?(Ia=!1,Fa=r,cc=v):Nt(r,ut),ut=r.pendingLanes,ut===0&&(Bi=null),pe($.stateNode),kn(r),l!==null)for(_=r.onRecoverableError,$=0;$<l.length;$++)ut=l[$],_(ut.value,{componentStack:ut.stack});return cc&3&&Kt(),ut=r.pendingLanes,v&4194218&&ut&42?r===Ao?za++:(za=0,Ao=r):za=0,fn(0),null}function Nt(r,l){(r.pooledCacheLanes&=l)===0&&(l=r.pooledCache,l!=null&&(r.pooledCache=null,el(l)))}function Kt(){if(Fa!==null){var r=Fa,l=lr;lr=0;var p=la(cc),v=O.T,_=st.p;try{if(st.p=32>p?32:p,O.T=null,Fa===null)var C=!1;else{p=ei,ei=null;var P=Fa,k=cc;if(Fa=null,cc=0,Ve&6)throw Error(i(331));var $=Ve;if(Ve|=4,mu(P.current),po(P,P.current,k,p),Ve=$,fn(0,!1),ye&&typeof ye.onPostCommitFiberRoot=="function")try{ye.onPostCommitFiberRoot(xe,P)}catch{}C=!0}return C}finally{st.p=_,O.T=v,Nt(r,l)}}return!1}function le(r,l,p){l=ks(p,l),l=ug(r.stateNode,l,2),r=ma(r,l,2),r!==null&&(ls(r,2),kn(r))}function Wt(r,l,p){if(r.tag===3)le(r,r,p);else for(;l!==null;){if(l.tag===3){le(l,r,p);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Bi===null||!Bi.has(v))){r=ks(p,r),p=fg(2),v=ma(l,p,2),v!==null&&(Yy(p,v,l,r),ls(v,2),kn(v));break}}l=l.return}}function ke(r,l,p){var v=r.pingCache;if(v===null){v=r.pingCache=new yo;var _=new Set;v.set(l,_)}else _=v.get(l),_===void 0&&(_=new Set,v.set(l,_));_.has(p)||(Al=!0,_.add(p),r=Ga.bind(null,r,l,p),l.then(r,r))}function Ga(r,l,p){var v=r.pingCache;v!==null&&v.delete(l),r.pingedLanes|=r.suspendedLanes&p,r.warmLanes&=~p,In===r&&(Be&p)===p&&(Zn===4||Zn===3&&(Be&62914560)===Be&&300>Ct()-Qe?!(Ve&2)&&_o(r,0):vu|=p,Rr===Be&&(Rr=0)),kn(r)}function Au(r,l){l===0&&(l=dn()),r=Qr(r,l),r!==null&&(ls(r,l),kn(r))}function hc(r){var l=r.memoizedState,p=0;l!==null&&(p=l.retryLane),Au(r,p)}function _t(r,l){var p=0;switch(r.tag){case 13:var v=r.stateNode,_=r.memoizedState;_!==null&&(p=_.retryLane);break;case 19:v=r.stateNode;break;case 22:v=r.stateNode._retryCache;break;default:throw Error(i(314))}v!==null&&v.delete(l),Au(r,p)}function ht(r,l){return Zt(r,l)}var bt=null,Yt=null,Me=!1,zn=!1,De=!1,nn=0;function kn(r){r!==Yt&&r.next===null&&(Yt===null?bt=Yt=r:Yt=Yt.next=r),zn=!0,Me||(Me=!0,o6(Sl))}function fn(r,l){if(!De&&zn){De=!0;do for(var p=!1,v=bt;v!==null;){if(r!==0){var _=v.pendingLanes;if(_===0)var C=0;else{var P=v.suspendedLanes,k=v.pingedLanes;C=(1<<31-be(42|r)+1)-1,C&=_&~(P&~k),C=C&201326677?C&201326677|1:C?C|2:0}C!==0&&(p=!0,Sw(v,C))}else C=Be,C=se(v,v===In?C:0),!(C&3)||Le(v,C)||(p=!0,Sw(v,C));v=v.next}while(p);De=!1}}function Sl(){zn=Me=!1;var r=0;nn!==0&&(m6()&&(r=nn),nn=0);for(var l=Ct(),p=null,v=bt;v!==null;){var _=v.next,C=$y(v,l);C===0?(v.next=null,p===null?bt=_:p.next=_,_===null&&(Yt=p)):(p=v,(r!==0||C&3)&&(zn=!0)),v=_}fn(r)}function $y(r,l){for(var p=r.suspendedLanes,v=r.pingedLanes,_=r.expirationTimes,C=r.pendingLanes&-62914561;0<C;){var P=31-be(C),k=1<<P,$=_[P];$===-1?(!(k&p)||k&v)&&(_[P]=Gn(k,l)):$<=l&&(r.expiredLanes|=k),C&=~k}if(l=In,p=Be,p=se(r,r===l?p:0),v=r.callbackNode,p===0||r===l&&Vn===2||r.cancelPendingCommit!==null)return v!==null&&v!==null&&W(v),r.callbackNode=null,r.callbackPriority=0;if(!(p&3)||Le(r,p)){if(l=p&-p,l===r.callbackPriority)return l;switch(v!==null&&W(v),la(p)){case 2:case 8:p=ue;break;case 32:p=ee;break;case 268435456:p=Ke;break;default:p=ee}return v=_w.bind(null,r),p=Zt(p,v),r.callbackPriority=l,r.callbackNode=p,l}return v!==null&&v!==null&&W(v),r.callbackPriority=2,r.callbackNode=null,2}function _w(r,l){var p=r.callbackNode;if(Kt()&&r.callbackNode!==p)return null;var v=Be;return v=se(r,r===In?v:0),v===0?null:(yu(r,v,l),$y(r,Ct()),r.callbackNode!=null&&r.callbackNode===p?_w.bind(null,r):null)}function Sw(r,l){if(Kt())return null;yu(r,l,!0)}function o6(r){v6(function(){Ve&6?Zt(Lt,r):r()})}function mS(){return nn===0&&(nn=ni()),nn}function bw(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:cf(""+r)}function Mw(r,l){var p=l.ownerDocument.createElement("input");return p.name=l.name,p.value=l.value,r.id&&p.setAttribute("form",r.id),l.parentNode.insertBefore(p,l),r=new FormData(r),p.parentNode.removeChild(p),r}function l6(r,l,p,v,_){if(l==="submit"&&p&&p.stateNode===_){var C=bw((_[Je]||null).action),P=v.submitter;P&&(l=(l=P[Je]||null)?bw(l.formAction):P.getAttribute("formAction"),l!==null&&(C=l,P=null));var k=new kc("action","action",null,v,_);r.push({event:k,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(nn!==0){var $=P?Mw(_,P):new FormData(_);ag(p,{pending:!0,data:$,method:_.method,action:C},null,$)}}else typeof C=="function"&&(k.preventDefault(),$=P?Mw(_,P):new FormData(_),ag(p,{pending:!0,data:$,method:_.method,action:C},C,$))},currentTarget:_}]})}}for(var gS=0;gS<Jr.length;gS++){var vS=Jr[gS],c6=vS.toLowerCase(),u6=vS[0].toUpperCase()+vS.slice(1);Ra(c6,"on"+u6)}Ra(Xm,"onAnimationEnd"),Ra(Vs,"onAnimationIteration"),Ra(Ym,"onAnimationStart"),Ra("dblclick","onDoubleClick"),Ra("focusin","onFocus"),Ra("focusout","onBlur"),Ra(Kr,"onTransitionRun"),Ra(Qc,"onTransitionStart"),Ra(Wo,"onTransitionCancel"),Ra(yd,"onTransitionEnd"),oe("onMouseEnter",["mouseout","mouseover"]),oe("onMouseLeave",["mouseout","mouseover"]),oe("onPointerEnter",["pointerout","pointerover"]),oe("onPointerLeave",["pointerout","pointerover"]),$t("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$t("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$t("onBeforeInput",["compositionend","keypress","textInput","paste"]),$t("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$t("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$t("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cg));function Ew(r,l){l=(l&4)!==0;for(var p=0;p<r.length;p++){var v=r[p],_=v.event;v=v.listeners;t:{var C=void 0;if(l)for(var P=v.length-1;0<=P;P--){var k=v[P],$=k.instance,ut=k.currentTarget;if(k=k.listener,$!==C&&_.isPropagationStopped())break t;C=k,_.currentTarget=ut;try{C(_)}catch(Ut){Nd(Ut)}_.currentTarget=null,C=$}else for(P=0;P<v.length;P++){if(k=v[P],$=k.instance,ut=k.currentTarget,k=k.listener,$!==C&&_.isPropagationStopped())break t;C=k,_.currentTarget=ut;try{C(_)}catch(Ut){Nd(Ut)}_.currentTarget=null,C=$}}}}function _n(r,l){var p=l[Ho];p===void 0&&(p=l[Ho]=new Set);var v=r+"__bubble";p.has(v)||(Tw(l,r,2,!1),p.add(v))}function yS(r,l,p){var v=0;l&&(v|=4),Tw(p,r,v,l)}var t1="_reactListening"+Math.random().toString(36).slice(2);function xS(r){if(!r[t1]){r[t1]=!0,ft.forEach(function(p){p!=="selectionchange"&&(f6.has(p)||yS(p,!1,r),yS(p,!0,r))});var l=r.nodeType===9?r:r.ownerDocument;l===null||l[t1]||(l[t1]=!0,yS("selectionchange",!1,l))}}function Tw(r,l,p,v){switch(Kw(l)){case 2:var _=I6;break;case 8:_=F6;break;default:_=LS}p=_.bind(null,l,p,r),_=void 0,!ff||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(_=!0),v?_!==void 0?r.addEventListener(l,p,{capture:!0,passive:_}):r.addEventListener(l,p,!0):_!==void 0?r.addEventListener(l,p,{passive:_}):r.addEventListener(l,p,!1)}function AS(r,l,p,v,_){var C=v;if(!(l&1)&&!(l&2)&&v!==null)t:for(;;){if(v===null)return;var P=v.tag;if(P===3||P===4){var k=v.stateNode.containerInfo;if(k===_||k.nodeType===8&&k.parentNode===_)break;if(P===4)for(P=v.return;P!==null;){var $=P.tag;if(($===3||$===4)&&($=P.stateNode.containerInfo,$===_||$.nodeType===8&&$.parentNode===_))return;P=P.return}for(;k!==null;){if(P=Ja(k),P===null)return;if($=P.tag,$===5||$===6||$===26||$===27){v=C=P;continue t}k=k.parentNode}}v=v.return}Cm(function(){var ut=C,Ut=uf(p),jt=[];t:{var St=xd.get(r);if(St!==void 0){var wt=kc,Ee=r;switch(r){case"keypress":if(Go(p)===0)break t;case"keydown":case"keyup":wt=Lm;break;case"focusin":Ee="focus",wt=ld;break;case"focusout":Ee="blur",wt=ld;break;case"beforeblur":case"afterblur":wt=ld;break;case"click":if(p.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":wt=Bm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":wt=nS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":wt=Um;break;case Xm:case Vs:case Ym:wt=Yv;break;case yd:wt=Yr;break;case"scroll":case"scrollend":wt=kv;break;case"wheel":wt=iS;break;case"copy":case"cut":case"paste":wt=qv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":wt=ud;break;case"toggle":case"beforetoggle":wt=ko}var je=(l&4)!==0,Li=!je&&(r==="scroll"||r==="scrollend"),pt=je?St!==null?St+"Capture":null:St;je=[];for(var ot=ut,xt;ot!==null;){var zt=ot;if(xt=zt.stateNode,zt=zt.tag,zt!==5&&zt!==26&&zt!==27||xt===null||pt===null||(zt=Hc(ot,pt),zt!=null&&je.push(wg(ot,zt,xt))),Li)break;ot=ot.return}0<je.length&&(St=new wt(St,Ee,null,p,Ut),jt.push({event:St,listeners:je}))}}if(!(l&7)){t:{if(St=r==="mouseover"||r==="pointerover",wt=r==="mouseout"||r==="pointerout",St&&p!==sd&&(Ee=p.relatedTarget||p.fromElement)&&(Ja(Ee)||Ee[Ka]))break t;if((wt||St)&&(St=Ut.window===Ut?Ut:(St=Ut.ownerDocument)?St.defaultView||St.parentWindow:window,wt?(Ee=p.relatedTarget||p.toElement,wt=ut,Ee=Ee?Ja(Ee):null,Ee!==null&&(Li=Z(Ee),je=Ee.tag,Ee!==Li||je!==5&&je!==27&&je!==6)&&(Ee=null)):(wt=null,Ee=ut),wt!==Ee)){if(je=Bm,zt="onMouseLeave",pt="onMouseEnter",ot="mouse",(r==="pointerout"||r==="pointerover")&&(je=ud,zt="onPointerLeave",pt="onPointerEnter",ot="pointer"),Li=wt==null?St:rt(wt),xt=Ee==null?St:rt(Ee),St=new je(zt,ot+"leave",wt,p,Ut),St.target=Li,St.relatedTarget=xt,zt=null,Ja(Ut)===ut&&(je=new je(pt,ot+"enter",Ee,p,Ut),je.target=xt,je.relatedTarget=Li,zt=je),Li=zt,wt&&Ee)e:{for(je=wt,pt=Ee,ot=0,xt=je;xt;xt=Wd(xt))ot++;for(xt=0,zt=pt;zt;zt=Wd(zt))xt++;for(;0<ot-xt;)je=Wd(je),ot--;for(;0<xt-ot;)pt=Wd(pt),xt--;for(;ot--;){if(je===pt||pt!==null&&je===pt.alternate)break e;je=Wd(je),pt=Wd(pt)}je=null}else je=null;wt!==null&&Cw(jt,St,wt,je,!1),Ee!==null&&Li!==null&&Cw(jt,Li,Ee,je,!0)}}t:{if(St=ut?rt(ut):window,wt=St.nodeName&&St.nodeName.toLowerCase(),wt==="select"||wt==="input"&&St.type==="file")var Ae=hd;else if(Fm(St))if(dd)Ae=Yo;else{Ae=sy;var hn=sS}else wt=St.nodeName,!wt||wt.toLowerCase()!=="input"||St.type!=="checkbox"&&St.type!=="radio"?ut&&lf(ut.elementType)&&(Ae=hd):Ae=_f;if(Ae&&(Ae=Ae(r,ut))){zs(jt,Ae,p,Ut);break t}hn&&hn(r,St,ut),r==="focusout"&&ut&&St.type==="number"&&ut.memoizedProps.value!=null&&Qi(St,"number",St.value)}switch(hn=ut?rt(ut):window,r){case"focusin":(Fm(hn)||hn.contentEditable==="true")&&(Xl=hn,km=ut,Zc=null);break;case"focusout":Zc=km=Xl=null;break;case"mousedown":gd=!0;break;case"contextmenu":case"mouseup":case"dragend":gd=!1,wa(jt,p,Ut);break;case"selectionchange":if(md)break;case"keydown":case"keyup":wa(jt,p,Ut)}var we;if(mf)t:{switch(r){case"compositionstart":var Pe="onCompositionStart";break t;case"compositionend":Pe="onCompositionEnd";break t;case"compositionupdate":Pe="onCompositionUpdate";break t}Pe=void 0}else Xo?yf(r,p)&&(Pe="onCompositionEnd"):r==="keydown"&&p.keyCode===229&&(Pe="onCompositionStart");Pe&&(vf&&p.locale!=="ko"&&(Xo||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Xo&&(we=Rm()):(jr=Ut,wm="value"in jr?jr.value:jr.textContent,Xo=!0)),hn=e1(ut,Pe),0<hn.length&&(Pe=new cd(Pe,r,null,p,Ut),jt.push({event:Pe,listeners:hn}),we?Pe.data=we:(we=Pm(p),we!==null&&(Pe.data=we)))),(we=gf?xf(r,p):Im(r,p))&&(Pe=e1(ut,"onBeforeInput"),0<Pe.length&&(hn=new cd("onBeforeInput","beforeinput",null,p,Ut),jt.push({event:hn,listeners:Pe}),hn.data=we)),l6(jt,r,ut,p,Ut)}Ew(jt,l)})}function wg(r,l,p){return{instance:r,listener:l,currentTarget:p}}function e1(r,l){for(var p=l+"Capture",v=[];r!==null;){var _=r,C=_.stateNode;_=_.tag,_!==5&&_!==26&&_!==27||C===null||(_=Hc(r,p),_!=null&&v.unshift(wg(r,_,C)),_=Hc(r,l),_!=null&&v.push(wg(r,_,C))),r=r.return}return v}function Wd(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Cw(r,l,p,v,_){for(var C=l._reactName,P=[];p!==null&&p!==v;){var k=p,$=k.alternate,ut=k.stateNode;if(k=k.tag,$!==null&&$===v)break;k!==5&&k!==26&&k!==27||ut===null||($=ut,_?(ut=Hc(p,C),ut!=null&&P.unshift(wg(p,ut,$))):_||(ut=Hc(p,C),ut!=null&&P.push(wg(p,ut,$)))),p=p.return}P.length!==0&&r.push({event:l,listeners:P})}var h6=/\r\n?/g,d6=/\u0000|\uFFFD/g;function ww(r){return(typeof r=="string"?r:""+r).replace(h6,`
`).replace(d6,"")}function Rw(r,l){return l=ww(l),ww(r)===l}function n1(){}function qn(r,l,p,v,_,C){switch(p){case"children":typeof v=="string"?l==="body"||l==="textarea"&&v===""||ws(r,v):(typeof v=="number"||typeof v=="bigint")&&l!=="body"&&ws(r,""+v);break;case"className":Xn(r,"class",v);break;case"tabIndex":Xn(r,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Xn(r,p,v);break;case"style":Tm(r,v,C);break;case"data":if(l!=="object"){Xn(r,"data",v);break}case"src":case"href":if(v===""&&(l!=="a"||p!=="href")){r.removeAttribute(p);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){r.removeAttribute(p);break}v=cf(""+v),r.setAttribute(p,v);break;case"action":case"formAction":if(typeof v=="function"){r.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(p==="formAction"?(l!=="input"&&qn(r,l,"name",_.name,_,null),qn(r,l,"formEncType",_.formEncType,_,null),qn(r,l,"formMethod",_.formMethod,_,null),qn(r,l,"formTarget",_.formTarget,_,null)):(qn(r,l,"encType",_.encType,_,null),qn(r,l,"method",_.method,_,null),qn(r,l,"target",_.target,_,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){r.removeAttribute(p);break}v=cf(""+v),r.setAttribute(p,v);break;case"onClick":v!=null&&(r.onclick=n1);break;case"onScroll":v!=null&&_n("scroll",r);break;case"onScrollEnd":v!=null&&_n("scrollend",r);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(p=v.__html,p!=null){if(_.children!=null)throw Error(i(60));r.innerHTML=p}}break;case"multiple":r.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":r.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){r.removeAttribute("xlink:href");break}p=cf(""+v),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?r.setAttribute(p,""+v):r.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?r.setAttribute(p,""):r.removeAttribute(p);break;case"capture":case"download":v===!0?r.setAttribute(p,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?r.setAttribute(p,v):r.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?r.setAttribute(p,v):r.removeAttribute(p);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?r.removeAttribute(p):r.setAttribute(p,v);break;case"popover":_n("beforetoggle",r),_n("toggle",r),cn(r,"popover",v);break;case"xlinkActuate":vn(r,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":vn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":vn(r,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":vn(r,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":vn(r,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":vn(r,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":vn(r,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":vn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":vn(r,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":cn(r,"is",v);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Gv.get(p)||p,cn(r,p,v))}}function _S(r,l,p,v,_,C){switch(p){case"style":Tm(r,v,C);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(p=v.__html,p!=null){if(_.children!=null)throw Error(i(60));r.innerHTML=p}}break;case"children":typeof v=="string"?ws(r,v):(typeof v=="number"||typeof v=="bigint")&&ws(r,""+v);break;case"onScroll":v!=null&&_n("scroll",r);break;case"onScrollEnd":v!=null&&_n("scrollend",r);break;case"onClick":v!=null&&(r.onclick=n1);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kt.hasOwnProperty(p))t:{if(p[0]==="o"&&p[1]==="n"&&(_=p.endsWith("Capture"),l=p.slice(2,_?p.length-7:void 0),C=r[Je]||null,C=C!=null?C[p]:null,typeof C=="function"&&r.removeEventListener(l,C,_),typeof v=="function")){typeof C!="function"&&C!==null&&(p in r?r[p]=null:r.hasAttribute(p)&&r.removeAttribute(p)),r.addEventListener(l,v,_);break t}p in r?r[p]=v:v===!0?r.setAttribute(p,""):cn(r,p,v)}}}function Is(r,l,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_n("error",r),_n("load",r);var v=!1,_=!1,C;for(C in p)if(p.hasOwnProperty(C)){var P=p[C];if(P!=null)switch(C){case"src":v=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:qn(r,l,C,P,p,null)}}_&&qn(r,l,"srcSet",p.srcSet,p,null),v&&qn(r,l,"src",p.src,p,null);return;case"input":_n("invalid",r);var k=C=P=_=null,$=null,ut=null;for(v in p)if(p.hasOwnProperty(v)){var Ut=p[v];if(Ut!=null)switch(v){case"name":_=Ut;break;case"type":P=Ut;break;case"checked":$=Ut;break;case"defaultChecked":ut=Ut;break;case"value":C=Ut;break;case"defaultValue":k=Ut;break;case"children":case"dangerouslySetInnerHTML":if(Ut!=null)throw Error(i(137,l));break;default:qn(r,l,v,Ut,p,null)}}us(r,C,k,$,ut,P,_,!1),un(r);return;case"select":_n("invalid",r),v=P=C=null;for(_ in p)if(p.hasOwnProperty(_)&&(k=p[_],k!=null))switch(_){case"value":C=k;break;case"defaultValue":P=k;break;case"multiple":v=k;default:qn(r,l,_,k,p,null)}l=C,p=P,r.multiple=!!v,l!=null?ri(r,!!v,l,!1):p!=null&&ri(r,!!v,p,!0);return;case"textarea":_n("invalid",r),C=_=v=null;for(P in p)if(p.hasOwnProperty(P)&&(k=p[P],k!=null))switch(P){case"value":v=k;break;case"defaultValue":_=k;break;case"children":C=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:qn(r,l,P,k,p,null)}Za(r,v,_,C),un(r);return;case"option":for($ in p)if(p.hasOwnProperty($)&&(v=p[$],v!=null))switch($){case"selected":r.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:qn(r,l,$,v,p,null)}return;case"dialog":_n("cancel",r),_n("close",r);break;case"iframe":case"object":_n("load",r);break;case"video":case"audio":for(v=0;v<Cg.length;v++)_n(Cg[v],r);break;case"image":_n("error",r),_n("load",r);break;case"details":_n("toggle",r);break;case"embed":case"source":case"link":_n("error",r),_n("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ut in p)if(p.hasOwnProperty(ut)&&(v=p[ut],v!=null))switch(ut){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:qn(r,l,ut,v,p,null)}return;default:if(lf(l)){for(Ut in p)p.hasOwnProperty(Ut)&&(v=p[Ut],v!==void 0&&_S(r,l,Ut,v,p,void 0));return}}for(k in p)p.hasOwnProperty(k)&&(v=p[k],v!=null&&qn(r,l,k,v,p,null))}function p6(r,l,p,v){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,C=null,P=null,k=null,$=null,ut=null,Ut=null;for(wt in p){var jt=p[wt];if(p.hasOwnProperty(wt)&&jt!=null)switch(wt){case"checked":break;case"value":break;case"defaultValue":$=jt;default:v.hasOwnProperty(wt)||qn(r,l,wt,null,v,jt)}}for(var St in v){var wt=v[St];if(jt=p[St],v.hasOwnProperty(St)&&(wt!=null||jt!=null))switch(St){case"type":C=wt;break;case"name":_=wt;break;case"checked":ut=wt;break;case"defaultChecked":Ut=wt;break;case"value":P=wt;break;case"defaultValue":k=wt;break;case"children":case"dangerouslySetInnerHTML":if(wt!=null)throw Error(i(137,l));break;default:wt!==jt&&qn(r,l,St,wt,v,jt)}}Ln(r,P,k,$,ut,Ut,C,_);return;case"select":wt=P=k=St=null;for(C in p)if($=p[C],p.hasOwnProperty(C)&&$!=null)switch(C){case"value":break;case"multiple":wt=$;default:v.hasOwnProperty(C)||qn(r,l,C,null,v,$)}for(_ in v)if(C=v[_],$=p[_],v.hasOwnProperty(_)&&(C!=null||$!=null))switch(_){case"value":St=C;break;case"defaultValue":k=C;break;case"multiple":P=C;default:C!==$&&qn(r,l,_,C,v,$)}l=k,p=P,v=wt,St!=null?ri(r,!!p,St,!1):!!v!=!!p&&(l!=null?ri(r,!!p,l,!0):ri(r,!!p,p?[]:"",!1));return;case"textarea":wt=St=null;for(k in p)if(_=p[k],p.hasOwnProperty(k)&&_!=null&&!v.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:qn(r,l,k,null,v,_)}for(P in v)if(_=v[P],C=p[P],v.hasOwnProperty(P)&&(_!=null||C!=null))switch(P){case"value":St=_;break;case"defaultValue":wt=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:_!==C&&qn(r,l,P,_,v,C)}Yi(r,St,wt);return;case"option":for(var Ee in p)if(St=p[Ee],p.hasOwnProperty(Ee)&&St!=null&&!v.hasOwnProperty(Ee))switch(Ee){case"selected":r.selected=!1;break;default:qn(r,l,Ee,null,v,St)}for($ in v)if(St=v[$],wt=p[$],v.hasOwnProperty($)&&St!==wt&&(St!=null||wt!=null))switch($){case"selected":r.selected=St&&typeof St!="function"&&typeof St!="symbol";break;default:qn(r,l,$,St,v,wt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in p)St=p[je],p.hasOwnProperty(je)&&St!=null&&!v.hasOwnProperty(je)&&qn(r,l,je,null,v,St);for(ut in v)if(St=v[ut],wt=p[ut],v.hasOwnProperty(ut)&&St!==wt&&(St!=null||wt!=null))switch(ut){case"children":case"dangerouslySetInnerHTML":if(St!=null)throw Error(i(137,l));break;default:qn(r,l,ut,St,v,wt)}return;default:if(lf(l)){for(var Li in p)St=p[Li],p.hasOwnProperty(Li)&&St!==void 0&&!v.hasOwnProperty(Li)&&_S(r,l,Li,void 0,v,St);for(Ut in v)St=v[Ut],wt=p[Ut],!v.hasOwnProperty(Ut)||St===wt||St===void 0&&wt===void 0||_S(r,l,Ut,St,v,wt);return}}for(var pt in p)St=p[pt],p.hasOwnProperty(pt)&&St!=null&&!v.hasOwnProperty(pt)&&qn(r,l,pt,null,v,St);for(jt in v)St=v[jt],wt=p[jt],!v.hasOwnProperty(jt)||St===wt||St==null&&wt==null||qn(r,l,jt,St,v,wt)}var SS=null,bS=null;function i1(r){return r.nodeType===9?r:r.ownerDocument}function Bw(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dw(r,l){if(r===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&l==="foreignObject"?0:r}function MS(r,l){return r==="textarea"||r==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var ES=null;function m6(){var r=window.event;return r&&r.type==="popstate"?r===ES?!1:(ES=r,!0):(ES=null,!1)}var Lw=typeof setTimeout=="function"?setTimeout:void 0,g6=typeof clearTimeout=="function"?clearTimeout:void 0,Nw=typeof Promise=="function"?Promise:void 0,v6=typeof queueMicrotask=="function"?queueMicrotask:typeof Nw<"u"?function(r){return Nw.resolve(null).then(r).catch(y6)}:Lw;function y6(r){setTimeout(function(){throw r})}function TS(r,l){var p=l,v=0;do{var _=p.nextSibling;if(r.removeChild(p),_&&_.nodeType===8)if(p=_.data,p==="/$"){if(v===0){r.removeChild(_),Pg(l);return}v--}else p!=="$"&&p!=="$?"&&p!=="$!"||v++;p=_}while(p);Pg(l)}function CS(r){var l=r.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var p=l;switch(l=l.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":CS(p),Hl(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}r.removeChild(p)}}function x6(r,l,p,v){for(;r.nodeType===1;){var _=p;if(r.nodeName.toLowerCase()!==l.toLowerCase()){if(!v&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(v){if(!r[kr])switch(l){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(C=r.getAttribute("rel"),C==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(C!==_.rel||r.getAttribute("href")!==(_.href==null?null:_.href)||r.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||r.getAttribute("title")!==(_.title==null?null:_.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(C=r.getAttribute("src"),(C!==(_.src==null?null:_.src)||r.getAttribute("type")!==(_.type==null?null:_.type)||r.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&C&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(l==="input"&&r.type==="hidden"){var C=_.name==null?null:""+_.name;if(_.type==="hidden"&&r.getAttribute("name")===C)return r}else return r;if(r=So(r.nextSibling),r===null)break}return null}function A6(r,l,p){if(l==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!p||(r=So(r.nextSibling),r===null))return null;return r}function So(r){for(;r!=null;r=r.nextSibling){var l=r.nodeType;if(l===1||l===3)break;if(l===8){if(l=r.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return r}function Uw(r){r=r.previousSibling;for(var l=0;r;){if(r.nodeType===8){var p=r.data;if(p==="$"||p==="$!"||p==="$?"){if(l===0)return r;l--}else p==="/$"&&l++}r=r.previousSibling}return null}function Ow(r,l,p){switch(l=i1(p),r){case"html":if(r=l.documentElement,!r)throw Error(i(452));return r;case"head":if(r=l.head,!r)throw Error(i(453));return r;case"body":if(r=l.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}var Dr=new Map,Pw=new Set;function s1(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var dc=st.d;st.d={f:_6,r:S6,D:b6,C:M6,L:E6,m:T6,X:w6,S:C6,M:R6};function _6(){var r=dc.f(),l=uc();return r||l}function S6(r){var l=V(r);l!==null&&l.tag===5&&l.type==="form"?Uy(l):dc.r(r)}var qd=typeof document>"u"?null:document;function Iw(r,l,p){var v=qd;if(v&&typeof l=="string"&&l){var _=Pi(l);_='link[rel="'+r+'"][href="'+_+'"]',typeof p=="string"&&(_+='[crossorigin="'+p+'"]'),Pw.has(_)||(Pw.add(_),r={rel:r,crossOrigin:p,href:l},v.querySelector(_)===null&&(l=v.createElement("link"),Is(l,"link",r),gt(l),v.head.appendChild(l)))}}function b6(r){dc.D(r),Iw("dns-prefetch",r,null)}function M6(r,l){dc.C(r,l),Iw("preconnect",r,l)}function E6(r,l,p){dc.L(r,l,p);var v=qd;if(v&&r&&l){var _='link[rel="preload"][as="'+Pi(l)+'"]';l==="image"&&p&&p.imageSrcSet?(_+='[imagesrcset="'+Pi(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(_+='[imagesizes="'+Pi(p.imageSizes)+'"]')):_+='[href="'+Pi(r)+'"]';var C=_;switch(l){case"style":C=Kd(r);break;case"script":C=Jd(r)}Dr.has(C)||(r=I({rel:"preload",href:l==="image"&&p&&p.imageSrcSet?void 0:r,as:l},p),Dr.set(C,r),v.querySelector(_)!==null||l==="style"&&v.querySelector(Rg(C))||l==="script"&&v.querySelector(Bg(C))||(l=v.createElement("link"),Is(l,"link",r),gt(l),v.head.appendChild(l)))}}function T6(r,l){dc.m(r,l);var p=qd;if(p&&r){var v=l&&typeof l.as=="string"?l.as:"script",_='link[rel="modulepreload"][as="'+Pi(v)+'"][href="'+Pi(r)+'"]',C=_;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=Jd(r)}if(!Dr.has(C)&&(r=I({rel:"modulepreload",href:r},l),Dr.set(C,r),p.querySelector(_)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Bg(C)))return}v=p.createElement("link"),Is(v,"link",r),gt(v),p.head.appendChild(v)}}}function C6(r,l,p){dc.S(r,l,p);var v=qd;if(v&&r){var _=At(v).hoistableStyles,C=Kd(r);l=l||"default";var P=_.get(C);if(!P){var k={loading:0,preload:null};if(P=v.querySelector(Rg(C)))k.loading=5;else{r=I({rel:"stylesheet",href:r,"data-precedence":l},p),(p=Dr.get(C))&&wS(r,p);var $=P=v.createElement("link");gt($),Is($,"link",r),$._p=new Promise(function(ut,Ut){$.onload=ut,$.onerror=Ut}),$.addEventListener("load",function(){k.loading|=1}),$.addEventListener("error",function(){k.loading|=2}),k.loading|=4,a1(P,l,v)}P={type:"stylesheet",instance:P,count:1,state:k},_.set(C,P)}}}function w6(r,l){dc.X(r,l);var p=qd;if(p&&r){var v=At(p).hoistableScripts,_=Jd(r),C=v.get(_);C||(C=p.querySelector(Bg(_)),C||(r=I({src:r,async:!0},l),(l=Dr.get(_))&&RS(r,l),C=p.createElement("script"),gt(C),Is(C,"link",r),p.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},v.set(_,C))}}function R6(r,l){dc.M(r,l);var p=qd;if(p&&r){var v=At(p).hoistableScripts,_=Jd(r),C=v.get(_);C||(C=p.querySelector(Bg(_)),C||(r=I({src:r,async:!0,type:"module"},l),(l=Dr.get(_))&&RS(r,l),C=p.createElement("script"),gt(C),Is(C,"link",r),p.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},v.set(_,C))}}function Fw(r,l,p,v){var _=(_=Rt.current)?s1(_):null;if(!_)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(l=Kd(p.href),p=At(_).hoistableStyles,v=p.get(l),v||(v={type:"style",instance:null,count:0,state:null},p.set(l,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){r=Kd(p.href);var C=At(_).hoistableStyles,P=C.get(r);if(P||(_=_.ownerDocument||_,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(r,P),(C=_.querySelector(Rg(r)))&&!C._p&&(P.instance=C,P.state.loading=5),Dr.has(r)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Dr.set(r,p),C||B6(_,r,p,P.state))),l&&v===null)throw Error(i(528,""));return P}if(l&&v!==null)throw Error(i(529,""));return null;case"script":return l=p.async,p=p.src,typeof p=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Jd(p),p=At(_).hoistableScripts,v=p.get(l),v||(v={type:"script",instance:null,count:0,state:null},p.set(l,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Kd(r){return'href="'+Pi(r)+'"'}function Rg(r){return'link[rel="stylesheet"]['+r+"]"}function zw(r){return I({},r,{"data-precedence":r.precedence,precedence:null})}function B6(r,l,p,v){r.querySelector('link[rel="preload"][as="style"]['+l+"]")?v.loading=1:(l=r.createElement("link"),v.preload=l,l.addEventListener("load",function(){return v.loading|=1}),l.addEventListener("error",function(){return v.loading|=2}),Is(l,"link",p),gt(l),r.head.appendChild(l))}function Jd(r){return'[src="'+Pi(r)+'"]'}function Bg(r){return"script[async]"+r}function Hw(r,l,p){if(l.count++,l.instance===null)switch(l.type){case"style":var v=r.querySelector('style[data-href~="'+Pi(p.href)+'"]');if(v)return l.instance=v,gt(v),v;var _=I({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return v=(r.ownerDocument||r).createElement("style"),gt(v),Is(v,"style",_),a1(v,p.precedence,r),l.instance=v;case"stylesheet":_=Kd(p.href);var C=r.querySelector(Rg(_));if(C)return l.state.loading|=4,l.instance=C,gt(C),C;v=zw(p),(_=Dr.get(_))&&wS(v,_),C=(r.ownerDocument||r).createElement("link"),gt(C);var P=C;return P._p=new Promise(function(k,$){P.onload=k,P.onerror=$}),Is(C,"link",v),l.state.loading|=4,a1(C,p.precedence,r),l.instance=C;case"script":return C=Jd(p.src),(_=r.querySelector(Bg(C)))?(l.instance=_,gt(_),_):(v=p,(_=Dr.get(C))&&(v=I({},p),RS(v,_)),r=r.ownerDocument||r,_=r.createElement("script"),gt(_),Is(_,"link",v),r.head.appendChild(_),l.instance=_);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&!(l.state.loading&4)&&(v=l.instance,l.state.loading|=4,a1(v,p.precedence,r));return l.instance}function a1(r,l,p){for(var v=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=v.length?v[v.length-1]:null,C=_,P=0;P<v.length;P++){var k=v[P];if(k.dataset.precedence===l)C=k;else if(C!==_)break}C?C.parentNode.insertBefore(r,C.nextSibling):(l=p.nodeType===9?p.head:p,l.insertBefore(r,l.firstChild))}function wS(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.title==null&&(r.title=l.title)}function RS(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.integrity==null&&(r.integrity=l.integrity)}var r1=null;function Gw(r,l,p){if(r1===null){var v=new Map,_=r1=new Map;_.set(p,v)}else _=r1,v=_.get(p),v||(v=new Map,_.set(p,v));if(v.has(r))return v;for(v.set(r,null),p=p.getElementsByTagName(r),_=0;_<p.length;_++){var C=p[_];if(!(C[kr]||C[ai]||r==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var P=C.getAttribute(l)||"";P=r+P;var k=v.get(P);k?k.push(C):v.set(P,[C])}}return v}function Vw(r,l,p){r=r.ownerDocument||r,r.head.insertBefore(p,l==="title"?r.querySelector("head > title"):null)}function D6(r,l,p){if(p===1||l.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return r=l.disabled,typeof l.precedence=="string"&&r==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function kw(r){return!(r.type==="stylesheet"&&!(r.state.loading&3))}var Dg=null;function L6(){}function N6(r,l,p){if(Dg===null)throw Error(i(475));var v=Dg;if(l.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&!(l.state.loading&4)){if(l.instance===null){var _=Kd(p.href),C=r.querySelector(Rg(_));if(C){r=C._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(v.count++,v=o1.bind(v),r.then(v,v)),l.state.loading|=4,l.instance=C,gt(C);return}C=r.ownerDocument||r,p=zw(p),(_=Dr.get(_))&&wS(p,_),C=C.createElement("link"),gt(C);var P=C;P._p=new Promise(function(k,$){P.onload=k,P.onerror=$}),Is(C,"link",p),l.instance=C}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(l,r),(r=l.state.preload)&&!(l.state.loading&3)&&(v.count++,l=o1.bind(v),r.addEventListener("load",l),r.addEventListener("error",l))}}function U6(){if(Dg===null)throw Error(i(475));var r=Dg;return r.stylesheets&&r.count===0&&BS(r,r.stylesheets),0<r.count?function(l){var p=setTimeout(function(){if(r.stylesheets&&BS(r,r.stylesheets),r.unsuspend){var v=r.unsuspend;r.unsuspend=null,v()}},6e4);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(p)}}:null}function o1(){if(this.count--,this.count===0){if(this.stylesheets)BS(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var l1=null;function BS(r,l){r.stylesheets=null,r.unsuspend!==null&&(r.count++,l1=new Map,l.forEach(O6,r),l1=null,o1.call(r))}function O6(r,l){if(!(l.state.loading&4)){var p=l1.get(r);if(p)var v=p.get(null);else{p=new Map,l1.set(r,p);for(var _=r.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<_.length;C++){var P=_[C];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(p.set(P.dataset.precedence,P),v=P)}v&&p.set(null,v)}_=l.instance,P=_.getAttribute("data-precedence"),C=p.get(P)||v,C===v&&p.set(null,_),p.set(P,_),this.count++,v=o1.bind(this),_.addEventListener("load",v),_.addEventListener("error",v),C?C.parentNode.insertBefore(_,C.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(_,r.firstChild)),l.state.loading|=4}}var Lg={$$typeof:A,Provider:null,Consumer:null,_currentValue:Et,_currentValue2:Et,_threadCount:0};function P6(r,l,p,v,_,C,P,k){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=os(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=os(0),this.hiddenUpdates=os(null),this.identifierPrefix=v,this.onUncaughtError=_,this.onCaughtError=C,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function jw(r,l,p,v,_,C,P,k,$,ut,Ut,jt){return r=new P6(r,l,p,P,k,$,ut,jt),l=1,C===!0&&(l|=24),C=yi(3,null,null,l),r.current=C,C.stateNode=r,l=Jm(),l.refCount++,r.pooledCache=l,l.refCount++,C.memoizedState={element:v,isDehydrated:p,cache:l},Ls(C),r}function Xw(r){return r?(r=qo,r):qo}function Yw(r,l,p,v,_,C){_=Xw(_),v.context===null?v.context=_:v.pendingContext=_,v=pa(l),v.payload={element:p},C=C===void 0?null:C,C!==null&&(v.callback=C),p=ma(r,v,l),p!==null&&(Di(p,r,l),hl(p,r,l))}function Ww(r,l){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var p=r.retryLane;r.retryLane=p!==0&&p<l?p:l}}function DS(r,l){Ww(r,l),(r=r.alternate)&&Ww(r,l)}function qw(r){if(r.tag===13){var l=Qr(r,67108864);l!==null&&Di(l,r,67108864),DS(r,67108864)}}var c1=!0;function I6(r,l,p,v){var _=O.T;O.T=null;var C=st.p;try{st.p=2,LS(r,l,p,v)}finally{st.p=C,O.T=_}}function F6(r,l,p,v){var _=O.T;O.T=null;var C=st.p;try{st.p=8,LS(r,l,p,v)}finally{st.p=C,O.T=_}}function LS(r,l,p,v){if(c1){var _=NS(v);if(_===null)AS(r,l,v,u1,p),Jw(r,v);else if(H6(_,r,l,p,v))v.stopPropagation();else if(Jw(r,v),l&4&&-1<z6.indexOf(r)){for(;_!==null;){var C=V(_);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var P=te(C.pendingLanes);if(P!==0){var k=C;for(k.pendingLanes|=2,k.entangledLanes|=2;P;){var $=1<<31-be(P);k.entanglements[1]|=$,P&=~$}kn(C),!(Ve&6)&&(on=Ct()+500,fn(0))}}break;case 13:k=Qr(C,2),k!==null&&Di(k,C,2),uc(),DS(C,2)}if(C=NS(v),C===null&&AS(r,l,v,u1,p),C===_)break;_=C}_!==null&&v.stopPropagation()}else AS(r,l,v,null,p)}}function NS(r){return r=uf(r),US(r)}var u1=null;function US(r){if(u1=null,r=Ja(r),r!==null){var l=Z(r);if(l===null)r=null;else{var p=l.tag;if(p===13){if(r=vt(l),r!==null)return r;r=null}else if(p===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;r=null}else l!==r&&(r=null)}}return u1=r,null}function Kw(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gt()){case Lt:return 2;case ue:return 8;case ee:case de:return 32;case Ke:return 268435456;default:return 32}default:return 32}}var OS=!1,_u=null,Su=null,bu=null,Ng=new Map,Ug=new Map,Mu=[],z6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jw(r,l){switch(r){case"focusin":case"focusout":_u=null;break;case"dragenter":case"dragleave":Su=null;break;case"mouseover":case"mouseout":bu=null;break;case"pointerover":case"pointerout":Ng.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ug.delete(l.pointerId)}}function Og(r,l,p,v,_,C){return r===null||r.nativeEvent!==C?(r={blockedOn:l,domEventName:p,eventSystemFlags:v,nativeEvent:C,targetContainers:[_]},l!==null&&(l=V(l),l!==null&&qw(l)),r):(r.eventSystemFlags|=v,l=r.targetContainers,_!==null&&l.indexOf(_)===-1&&l.push(_),r)}function H6(r,l,p,v,_){switch(l){case"focusin":return _u=Og(_u,r,l,p,v,_),!0;case"dragenter":return Su=Og(Su,r,l,p,v,_),!0;case"mouseover":return bu=Og(bu,r,l,p,v,_),!0;case"pointerover":var C=_.pointerId;return Ng.set(C,Og(Ng.get(C)||null,r,l,p,v,_)),!0;case"gotpointercapture":return C=_.pointerId,Ug.set(C,Og(Ug.get(C)||null,r,l,p,v,_)),!0}return!1}function Zw(r){var l=Ja(r.target);if(l!==null){var p=Z(l);if(p!==null){if(l=p.tag,l===13){if(l=vt(p),l!==null){r.blockedOn=l,qa(r.priority,function(){if(p.tag===13){var v=Ps(),_=Qr(p,v);_!==null&&Di(_,p,v),DS(p,v)}});return}}else if(l===3&&p.stateNode.current.memoizedState.isDehydrated){r.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}r.blockedOn=null}function f1(r){if(r.blockedOn!==null)return!1;for(var l=r.targetContainers;0<l.length;){var p=NS(r.nativeEvent);if(p===null){p=r.nativeEvent;var v=new p.constructor(p.type,p);sd=v,p.target.dispatchEvent(v),sd=null}else return l=V(p),l!==null&&qw(l),r.blockedOn=p,!1;l.shift()}return!0}function Qw(r,l,p){f1(r)&&p.delete(l)}function G6(){OS=!1,_u!==null&&f1(_u)&&(_u=null),Su!==null&&f1(Su)&&(Su=null),bu!==null&&f1(bu)&&(bu=null),Ng.forEach(Qw),Ug.forEach(Qw)}function h1(r,l){r.blockedOn===l&&(r.blockedOn=null,OS||(OS=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,G6)))}var d1=null;function $w(r){d1!==r&&(d1=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){d1===r&&(d1=null);for(var l=0;l<r.length;l+=3){var p=r[l],v=r[l+1],_=r[l+2];if(typeof v!="function"){if(US(v||p)===null)continue;break}var C=V(p);C!==null&&(r.splice(l,3),l-=3,ag(C,{pending:!0,data:_,method:p.method,action:v},v,_))}}))}function Pg(r){function l($){return h1($,r)}_u!==null&&h1(_u,r),Su!==null&&h1(Su,r),bu!==null&&h1(bu,r),Ng.forEach(l),Ug.forEach(l);for(var p=0;p<Mu.length;p++){var v=Mu[p];v.blockedOn===r&&(v.blockedOn=null)}for(;0<Mu.length&&(p=Mu[0],p.blockedOn===null);)Zw(p),p.blockedOn===null&&Mu.shift();if(p=(r.ownerDocument||r).$$reactFormReplay,p!=null)for(v=0;v<p.length;v+=3){var _=p[v],C=p[v+1],P=_[Je]||null;if(typeof C=="function")P||$w(p);else if(P){var k=null;if(C&&C.hasAttribute("formAction")){if(_=C,P=C[Je]||null)k=P.formAction;else if(US(_)!==null)continue}else k=P.action;typeof k=="function"?p[v+1]=k:(p.splice(v,3),v-=3),$w(p)}}}function PS(r){this._internalRoot=r}p1.prototype.render=PS.prototype.render=function(r){var l=this._internalRoot;if(l===null)throw Error(i(409));var p=l.current,v=Ps();Yw(p,v,r,l,null,null)},p1.prototype.unmount=PS.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var l=r.containerInfo;r.tag===0&&Kt(),Yw(r.current,2,null,r,null,null),uc(),l[Ka]=null}};function p1(r){this._internalRoot=r}p1.prototype.unstable_scheduleHydration=function(r){if(r){var l=zc();r={blockedOn:null,target:r,priority:l};for(var p=0;p<Mu.length&&l!==0&&l<Mu[p].priority;p++);Mu.splice(p,0,r),p===0&&Zw(r)}};var tR=t.version;if(tR!=="19.0.0")throw Error(i(527,tR,"19.0.0"));st.findDOMNode=function(r){var l=r._reactInternals;if(l===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=it(l),r=r!==null?Mt(r):null,r=r===null?null:r.stateNode,r};var V6={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:O,findFiberByHostInstance:Ja,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var m1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!m1.isDisabled&&m1.supportsFiber)try{xe=m1.inject(V6),ye=m1}catch{}}return Fg.createRoot=function(r,l){if(!s(r))throw Error(i(299));var p=!1,v="",_=Vy,C=ky,P=jy,k=null;return l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(P=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(k=l.unstable_transitionCallbacks)),l=jw(r,1,!1,null,null,p,v,_,C,P,k,null),r[Ka]=l.current,xS(r.nodeType===8?r.parentNode:r),new PS(l)},Fg.hydrateRoot=function(r,l,p){if(!s(r))throw Error(i(299));var v=!1,_="",C=Vy,P=ky,k=jy,$=null,ut=null;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(_=p.identifierPrefix),p.onUncaughtError!==void 0&&(C=p.onUncaughtError),p.onCaughtError!==void 0&&(P=p.onCaughtError),p.onRecoverableError!==void 0&&(k=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&($=p.unstable_transitionCallbacks),p.formState!==void 0&&(ut=p.formState)),l=jw(r,1,!0,l,p??null,v,_,C,P,k,$,ut),l.context=Xw(null),p=l.current,v=Ps(),_=pa(v),_.callback=null,ma(p,_,v),l.current.lanes=v,ls(l,v),kn(l),r[Ka]=l.current,xS(r),new p1(l)},Fg.version="19.0.0",Fg}var uR;function Z6(){if(uR)return zS.exports;uR=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),zS.exports=J6(),zS.exports}var CN=Z6();const $E=J.createContext({});function Xu(n){const t=J.useRef(null);return t.current===null&&(t.current=n()),t.current}const n_=J.createContext(null),dv=J.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});let Q6=class extends J.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const i=e.offsetParent,s=i instanceof HTMLElement&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=e.offsetHeight||0,a.width=e.offsetWidth||0,a.top=e.offsetTop,a.left=e.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}};function $6({children:n,isPresent:t,anchorX:e}){const i=J.useId(),s=J.useRef(null),a=J.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=J.useContext(dv);return J.useInsertionEffect(()=>{const{width:c,height:u,top:d,left:m,right:g}=a.current;if(t||!s.current||!c||!u)return;const y=e==="left"?`left: ${m}`:`right: ${g}`;s.current.dataset.motionPopId=i;const A=document.createElement("style");return o&&(A.nonce=o),document.head.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${y}px !important;
            top: ${d}px !important;
          }
        `),()=>{document.head.removeChild(A)}},[t]),G.jsx(Q6,{isPresent:t,childRef:s,sizeRef:a,children:J.cloneElement(n,{ref:s})})}const tF=({children:n,initial:t,isPresent:e,onExitComplete:i,custom:s,presenceAffectsLayout:a,mode:o,anchorX:c})=>{const u=Xu(eF),d=J.useId(),m=J.useCallback(y=>{u.set(y,!0);for(const A of u.values())if(!A)return;i&&i()},[u,i]),g=J.useMemo(()=>({id:d,initial:t,isPresent:e,custom:s,onExitComplete:m,register:y=>(u.set(y,!1),()=>u.delete(y))}),a?[Math.random(),m]:[e,m]);return J.useMemo(()=>{u.forEach((y,A)=>u.set(A,!1))},[e]),J.useEffect(()=>{!e&&!u.size&&i&&i()},[e]),o==="popLayout"&&(n=G.jsx($6,{isPresent:e,anchorX:c,children:n})),G.jsx(n_.Provider,{value:g,children:n})};function eF(){return new Map}function wN(n=!0){const t=J.useContext(n_);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:s}=t,a=J.useId();J.useEffect(()=>{n&&s(a)},[n]);const o=J.useCallback(()=>n&&i&&i(a),[a,i,n]);return!e&&i?[!1,o]:[!0]}const g1=n=>n.key||"";function fR(n){const t=[];return J.Children.forEach(n,e=>{J.isValidElement(e)&&t.push(e)}),t}const tT=typeof window<"u",pv=tT?J.useLayoutEffect:J.useEffect,RN=({children:n,custom:t,initial:e=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:a="sync",propagate:o=!1,anchorX:c="left"})=>{const[u,d]=wN(o),m=J.useMemo(()=>fR(n),[n]),g=o&&!u?[]:m.map(g1),y=J.useRef(!0),A=J.useRef(m),b=Xu(()=>new Map),[T,E]=J.useState(m),[S,R]=J.useState(m);pv(()=>{y.current=!1,A.current=m;for(let U=0;U<S.length;U++){const N=g1(S[U]);g.includes(N)?b.delete(N):b.get(N)!==!0&&b.set(N,!1)}},[S,g.length,g.join("-")]);const B=[];if(m!==T){let U=[...m];for(let N=0;N<S.length;N++){const F=S[N],z=g1(F);g.includes(z)||(U.splice(N,0,F),B.push(F))}return a==="wait"&&B.length&&(U=B),R(fR(U)),E(m),null}const{forceRender:D}=J.useContext($E);return G.jsx(G.Fragment,{children:S.map(U=>{const N=g1(U),F=o&&!u?!1:m===S||g.includes(N),z=()=>{if(b.has(N))b.set(N,!0);else return;let O=!0;b.forEach(I=>{I||(O=!1)}),O&&(D==null||D(),R(A.current),o&&(d==null||d()),i&&i())};return G.jsx(tF,{isPresent:F,initial:!y.current||e?void 0:!1,custom:t,presenceAffectsLayout:s,mode:a,onExitComplete:F?void 0:z,anchorX:c,children:U},N)})})},sa=n=>n;let nF=sa,BN=sa;const iF={useManualTiming:!1},v1=["read","resolveKeyframes","update","preRender","render","postRender"];function sF(n,t){let e=new Set,i=new Set,s=!1,a=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(m){o.has(m)&&(d.schedule(m),n()),m(c)}const d={schedule:(m,g=!1,y=!1)=>{const b=y&&s?e:i;return g&&o.add(m),b.has(m)||b.add(m),m},cancel:m=>{i.delete(m),o.delete(m)},process:m=>{if(c=m,s){a=!0;return}s=!0,[e,i]=[i,e],e.forEach(u),e.clear(),s=!1,a&&(a=!1,d.process(m))}};return d}const aF=40;function DN(n,t){let e=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>e=!0,o=v1.reduce((S,R)=>(S[R]=sF(a),S),{}),{read:c,resolveKeyframes:u,update:d,preRender:m,render:g,postRender:y}=o,A=()=>{const S=performance.now();e=!1,s.delta=i?1e3/60:Math.max(Math.min(S-s.timestamp,aF),1),s.timestamp=S,s.isProcessing=!0,c.process(s),u.process(s),d.process(s),m.process(s),g.process(s),y.process(s),s.isProcessing=!1,e&&t&&(i=!1,n(A))},b=()=>{e=!0,i=!0,s.isProcessing||n(A)};return{schedule:v1.reduce((S,R)=>{const B=o[R];return S[R]=(D,U=!1,N=!1)=>(e||b(),B.schedule(D,U,N)),S},{}),cancel:S=>{for(let R=0;R<v1.length;R++)o[v1[R]].cancel(S)},state:s,steps:o}}const{schedule:Cn,cancel:No,state:Ss,steps:kS}=DN(typeof requestAnimationFrame<"u"?requestAnimationFrame:sa,!0),LN=J.createContext({strict:!1}),hR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jp={};for(const n in hR)jp[n]={isEnabled:t=>hR[n].some(e=>!!t[e])};function rF(n){for(const t in n)jp[t]={...jp[t],...n[t]}}const oF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yx(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||oF.has(n)}let NN=n=>!Yx(n);function lF(n){n&&(NN=t=>t.startsWith("on")?!Yx(t):n(t))}try{lF(require("@emotion/is-prop-valid").default)}catch{}function cF(n,t,e){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(NN(s)||e===!0&&Yx(s)||!t&&!Yx(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}function uF(n){if(typeof Proxy>"u")return n;const t=new Map,e=(...i)=>n(...i);return new Proxy(e,{get:(i,s)=>s==="create"?n:(t.has(s)||t.set(s,n(s)),t.get(s))})}const i_=J.createContext({});function s_(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function z0(n){return typeof n=="string"||Array.isArray(n)}const eT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],nT=["initial",...eT];function a_(n){return s_(n.animate)||nT.some(t=>z0(n[t]))}function UN(n){return!!(a_(n)||n.variants)}function fF(n,t){if(a_(n)){const{initial:e,animate:i}=n;return{initial:e===!1||z0(e)?e:void 0,animate:z0(i)?i:void 0}}return n.inherit!==!1?t:{}}function hF(n){const{initial:t,animate:e}=fF(n,J.useContext(i_));return J.useMemo(()=>({initial:t,animate:e}),[dR(t),dR(e)])}function dR(n){return Array.isArray(n)?n.join(" "):n}const dF=Symbol.for("motionComponentSymbol");function bp(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function pF(n,t,e){return J.useCallback(i=>{i&&n.onMount&&n.onMount(i),t&&(i?t.mount(i):t.unmount()),e&&(typeof e=="function"?e(i):bp(e)&&(e.current=i))},[t])}const iT=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),mF="framerAppearId",ON="data-"+iT(mF),{schedule:sT}=DN(queueMicrotask,!1),PN=J.createContext({});function gF(n,t,e,i,s){var a,o;const{visualElement:c}=J.useContext(i_),u=J.useContext(LN),d=J.useContext(n_),m=J.useContext(dv).reducedMotion,g=J.useRef(null);i=i||u.renderer,!g.current&&i&&(g.current=i(n,{visualState:t,parent:c,props:e,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const y=g.current,A=J.useContext(PN);y&&!y.projection&&s&&(y.type==="html"||y.type==="svg")&&vF(g.current,e,s,A);const b=J.useRef(!1);J.useInsertionEffect(()=>{y&&b.current&&y.update(e,d)});const T=e[ON],E=J.useRef(!!T&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,T))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,T)));return pv(()=>{y&&(b.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),sT.render(y.render),E.current&&y.animationState&&y.animationState.animateChanges())}),J.useEffect(()=>{y&&(!E.current&&y.animationState&&y.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)===null||S===void 0||S.call(window,T)}),E.current=!1))}),y}function vF(n,t,e,i){const{layoutId:s,layout:a,drag:o,dragConstraints:c,layoutScroll:u,layoutRoot:d}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:IN(n.parent)),n.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!o||c&&bp(c),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,layoutScroll:u,layoutRoot:d})}function IN(n){if(n)return n.options.allowProjection!==!1?n.projection:IN(n.parent)}function yF({preloadedFeatures:n,createVisualElement:t,useRender:e,useVisualState:i,Component:s}){var a,o;n&&rF(n);function c(d,m){let g;const y={...J.useContext(dv),...d,layoutId:xF(d)},{isStatic:A}=y,b=hF(d),T=i(d,A);if(!A&&tT){AF();const E=_F(y);g=E.MeasureLayout,b.visualElement=gF(s,T,y,t,E.ProjectionNode)}return G.jsxs(i_.Provider,{value:b,children:[g&&b.visualElement?G.jsx(g,{visualElement:b.visualElement,...y}):null,e(s,d,pF(T,b.visualElement,m),T,A,b.visualElement)]})}c.displayName=`motion.${typeof s=="string"?s:`create(${(o=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&o!==void 0?o:""})`}`;const u=J.forwardRef(c);return u[dF]=s,u}function xF({layoutId:n}){const t=J.useContext($E).id;return t&&n!==void 0?t+"-"+n:n}function AF(n,t){J.useContext(LN).strict}function _F(n){const{drag:t,layout:e}=jp;if(!t&&!e)return{};const i={...t,...e};return{MeasureLayout:t!=null&&t.isEnabled(n)||e!=null&&e.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const FN=n=>t=>typeof t=="string"&&t.startsWith(n),aT=FN("--"),SF=FN("var(--"),rT=n=>SF(n)?bF.test(n.split("/*")[0].trim()):!1,bF=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,H0={};function MF(n){for(const t in n)H0[t]=n[t],aT(t)&&(H0[t].isCSSVariable=!0)}const um=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Kh=new Set(um);function zN(n,{layout:t,layoutId:e}){return Kh.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!H0[n]||n==="opacity")}const Es=n=>!!(n&&n.getVelocity),HN=(n,t)=>t&&typeof n=="number"?t.transform(n):n,Ul=(n,t,e)=>e>t?t:e<n?n:e,fm={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},G0={...fm,transform:n=>Ul(0,1,n)},y1={...fm,default:1},mv=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Pu=mv("deg"),Tl=mv("%"),Ie=mv("px"),EF=mv("vh"),TF=mv("vw"),pR={...Tl,parse:n=>Tl.parse(n)/100,transform:n=>Tl.transform(n*100)},CF={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,backgroundPositionX:Ie,backgroundPositionY:Ie},wF={rotate:Pu,rotateX:Pu,rotateY:Pu,rotateZ:Pu,scale:y1,scaleX:y1,scaleY:y1,scaleZ:y1,skew:Pu,skewX:Pu,skewY:Pu,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:G0,originX:pR,originY:pR,originZ:Ie},mR={...fm,transform:Math.round},oT={...CF,...wF,zIndex:mR,size:Ie,fillOpacity:G0,strokeOpacity:G0,numOctaves:mR},RF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},BF=um.length;function DF(n,t,e){let i="",s=!0;for(let a=0;a<BF;a++){const o=um[a],c=n[o];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(o.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||e){const d=HN(c,oT[o]);if(!u){s=!1;const m=RF[o]||o;i+=`${m}(${d}) `}e&&(t[o]=d)}}return i=i.trim(),e?i=e(t,s?"":i):s&&(i="none"),i}function lT(n,t,e){const{style:i,vars:s,transformOrigin:a}=n;let o=!1,c=!1;for(const u in t){const d=t[u];if(Kh.has(u)){o=!0;continue}else if(aT(u)){s[u]=d;continue}else{const m=HN(d,oT[u]);u.startsWith("origin")?(c=!0,a[u]=m):i[u]=m}}if(t.transform||(o||e?i.transform=DF(t,n.transform,e):i.transform&&(i.transform="none")),c){const{originX:u="50%",originY:d="50%",originZ:m=0}=a;i.transformOrigin=`${u} ${d} ${m}`}}const cT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function GN(n,t,e){for(const i in t)!Es(t[i])&&!zN(i,e)&&(n[i]=t[i])}function LF({transformTemplate:n},t){return J.useMemo(()=>{const e=cT();return lT(e,t,n),Object.assign({},e.vars,e.style)},[t])}function NF(n,t){const e=n.style||{},i={};return GN(i,e,n),Object.assign(i,LF(n,t)),i}function UF(n,t){const e={},i=NF(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=i,e}const OF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function uT(n){return typeof n!="string"||n.includes("-")?!1:!!(OF.indexOf(n)>-1||/[A-Z]/u.test(n))}const PF={offset:"stroke-dashoffset",array:"stroke-dasharray"},IF={offset:"strokeDashoffset",array:"strokeDasharray"};function FF(n,t,e=1,i=0,s=!0){n.pathLength=1;const a=s?PF:IF;n[a.offset]=Ie.transform(-i);const o=Ie.transform(t),c=Ie.transform(e);n[a.array]=`${o} ${c}`}function gR(n,t,e){return typeof n=="string"?n:Ie.transform(t+e*n)}function zF(n,t,e){const i=gR(t,n.x,n.width),s=gR(e,n.y,n.height);return`${i} ${s}`}function fT(n,{attrX:t,attrY:e,attrScale:i,originX:s,originY:a,pathLength:o,pathSpacing:c=1,pathOffset:u=0,...d},m,g){if(lT(n,d,g),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:y,style:A,dimensions:b}=n;y.transform&&(b&&(A.transform=y.transform),delete y.transform),b&&(s!==void 0||a!==void 0||A.transform)&&(A.transformOrigin=zF(b,s!==void 0?s:.5,a!==void 0?a:.5)),t!==void 0&&(y.x=t),e!==void 0&&(y.y=e),i!==void 0&&(y.scale=i),o!==void 0&&FF(y,o,c,u,!1)}const VN=()=>({...cT(),attrs:{}}),hT=n=>typeof n=="string"&&n.toLowerCase()==="svg";function HF(n,t,e,i){const s=J.useMemo(()=>{const a=VN();return fT(a,t,hT(i),n.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(n.style){const a={};GN(a,n.style,n),s.style={...a,...s.style}}return s}function GF(n=!1){return(e,i,s,{latestValues:a},o)=>{const u=(uT(e)?HF:UF)(i,a,o,e),d=cF(i,typeof e=="string",n),m=e!==J.Fragment?{...d,...u,ref:s}:{},{children:g}=i,y=J.useMemo(()=>Es(g)?g.get():g,[g]);return J.createElement(e,{...m,children:y})}}function vR(n){const t=[{},{}];return n==null||n.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function dT(n,t,e,i){if(typeof t=="function"){const[s,a]=vR(i);t=t(e!==void 0?e:n.custom,s,a)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[s,a]=vR(i);t=t(e!==void 0?e:n.custom,s,a)}return t}const OM=n=>Array.isArray(n),VF=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),kF=n=>OM(n)?n[n.length-1]||0:n;function Ex(n){const t=Es(n)?n.get():n;return VF(t)?t.toValue():t}function jF({scrapeMotionValuesFromProps:n,createRenderState:t,onUpdate:e},i,s,a){const o={latestValues:XF(i,s,a,n),renderState:t()};return e&&(o.onMount=c=>e({props:i,current:c,...o}),o.onUpdate=c=>e(c)),o}const kN=n=>(t,e)=>{const i=J.useContext(i_),s=J.useContext(n_),a=()=>jF(n,t,i,s);return e?a():Xu(a)};function XF(n,t,e,i){const s={},a=i(n,{});for(const y in a)s[y]=Ex(a[y]);let{initial:o,animate:c}=n;const u=a_(n),d=UN(n);t&&d&&!u&&n.inherit!==!1&&(o===void 0&&(o=t.initial),c===void 0&&(c=t.animate));let m=e?e.initial===!1:!1;m=m||o===!1;const g=m?c:o;if(g&&typeof g!="boolean"&&!s_(g)){const y=Array.isArray(g)?g:[g];for(let A=0;A<y.length;A++){const b=dT(n,y[A]);if(b){const{transitionEnd:T,transition:E,...S}=b;for(const R in S){let B=S[R];if(Array.isArray(B)){const D=m?B.length-1:0;B=B[D]}B!==null&&(s[R]=B)}for(const R in T)s[R]=T[R]}}}return s}function pT(n,t,e){var i;const{style:s}=n,a={};for(const o in s)(Es(s[o])||t.style&&Es(t.style[o])||zN(o,n)||((i=e==null?void 0:e.getValue(o))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(a[o]=s[o]);return a}const YF={useVisualState:kN({scrapeMotionValuesFromProps:pT,createRenderState:cT})};function jN(n,t){try{t.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function XN(n,{style:t,vars:e},i,s){Object.assign(n.style,t,s&&s.getProjectionStyles(i));for(const a in e)n.style.setProperty(a,e[a])}const YN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function WN(n,t,e,i){XN(n,t,void 0,i);for(const s in t.attrs)n.setAttribute(YN.has(s)?s:iT(s),t.attrs[s])}function qN(n,t,e){const i=pT(n,t,e);for(const s in n)if(Es(n[s])||Es(t[s])){const a=um.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[a]=n[s]}return i}const yR=["x","y","width","height","cx","cy","r"],WF={useVisualState:kN({scrapeMotionValuesFromProps:qN,createRenderState:VN,onUpdate:({props:n,prevProps:t,current:e,renderState:i,latestValues:s})=>{if(!e)return;let a=!!n.drag;if(!a){for(const c in s)if(Kh.has(c)){a=!0;break}}if(!a)return;let o=!t;if(t)for(let c=0;c<yR.length;c++){const u=yR[c];n[u]!==t[u]&&(o=!0)}o&&Cn.read(()=>{jN(e,i),Cn.render(()=>{fT(i,s,hT(e.tagName),n.transformTemplate),WN(e,i)})})}})};function qF(n,t){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...uT(i)?WF:YF,preloadedFeatures:n,useRender:GF(s),createVisualElement:t,Component:i};return yF(o)}}function V0(n,t,e){const i=n.getProps();return dT(i,t,e!==void 0?e:i.custom,n)}function mT(n,t){return n?n[t]||n.default||n:void 0}const KN=new Set(["width","height","top","left","right","bottom",...um]);let Tx;function KF(){Tx=void 0}const Cl={now:()=>(Tx===void 0&&Cl.set(Ss.isProcessing||iF.useManualTiming?Ss.timestamp:performance.now()),Tx),set:n=>{Tx=n,queueMicrotask(KF)}};function gT(n,t){n.indexOf(t)===-1&&n.push(t)}function vT(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let yT=class{constructor(){this.subscriptions=[]}add(t){return gT(this.subscriptions,t),()=>vT(this.subscriptions,t)}notify(t,e,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,e,i);else for(let a=0;a<s;a++){const o=this.subscriptions[a];o&&o(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};function xT(n,t){return t?n*(1e3/t):0}const xR=30,JF=n=>!isNaN(parseFloat(n)),v0={current:void 0};let ZF=class{constructor(t,e={}){this.version="12.4.5",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{const a=Cl.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Cl.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=JF(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new yT);const i=this.events[t].add(e);return t==="change"?()=>{i(),Cn.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){!e||!this.passiveEffect?this.updateAndNotify(t,e):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return v0.current&&v0.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Cl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>xR)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,xR);return xT(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function Ml(n,t){return new ZF(n,t)}function QF(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,Ml(e))}function $F(n,t){const e=V0(n,t);let{transitionEnd:i={},transition:s={},...a}=e||{};a={...a,...i};for(const o in a){const c=kF(a[o]);QF(n,o,c)}}function tz(n){return!!(Es(n)&&n.add)}function PM(n,t){const e=n.getValue("willChange");if(tz(e))return e.add(t)}function JN(n){return n.props[ON]}function AT(n){let t;return()=>(t===void 0&&(t=n()),t)}const ZN=AT(()=>window.ScrollTimeline!==void 0);let ez=class{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,e){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=e}attachTimeline(t,e){const i=this.animations.map(s=>{if(ZN()&&s.attachTimeline)return s.attachTimeline(t);if(typeof e=="function")return e(s)});return()=>{i.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach(e=>e[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}},nz=class extends ez{then(t,e){return Promise.all(this.animations).then(t).catch(e)}};const Rc=n=>n*1e3,Bc=n=>n/1e3;function _T(n){return typeof n=="function"}function AR(n,t){n.timeline=t,n.onfinish=null}const ST=n=>Array.isArray(n)&&typeof n[0]=="number",iz={linearEasing:void 0};function sz(n,t){const e=AT(n);return()=>{var i;return(i=iz[t])!==null&&i!==void 0?i:e()}}const Wx=sz(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Fh=(n,t,e)=>{const i=t-n;return i===0?1:(e-n)/i},QN=(n,t,e=10)=>{let i="";const s=Math.max(Math.round(t/e),2);for(let a=0;a<s;a++)i+=n(Fh(0,s-1,a))+", ";return`linear(${i.substring(0,i.length-2)})`};function $N(n){return!!(typeof n=="function"&&Wx()||!n||typeof n=="string"&&(n in IM||Wx())||ST(n)||Array.isArray(n)&&n.every($N))}const u0=([n,t,e,i])=>`cubic-bezier(${n}, ${t}, ${e}, ${i})`,IM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:u0([0,.65,.55,1]),circOut:u0([.55,0,1,.45]),backIn:u0([.31,.01,.66,-.59]),backOut:u0([.33,1.53,.69,.99])};function tU(n,t){if(n)return typeof n=="function"&&Wx()?QN(n,t):ST(n)?u0(n):Array.isArray(n)?n.map(e=>tU(e,t)||IM.easeOut):IM[n]}const eU=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,az=1e-7,rz=12;function oz(n,t,e,i,s){let a,o,c=0;do o=t+(e-t)/2,a=eU(o,i,s)-n,a>0?e=o:t=o;while(Math.abs(a)>az&&++c<rz);return o}function gv(n,t,e,i){if(n===t&&e===i)return sa;const s=a=>oz(a,0,1,n,e);return a=>a===0||a===1?a:eU(s(a),t,i)}const nU=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,iU=n=>t=>1-n(1-t),sU=gv(.33,1.53,.69,.99),bT=iU(sU),aU=nU(bT),rU=n=>(n*=2)<1?.5*bT(n):.5*(2-Math.pow(2,-10*(n-1))),MT=n=>1-Math.sin(Math.acos(n)),oU=iU(MT),lU=nU(MT),cU=n=>/^0[^.\s]+$/u.test(n);function lz(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||cU(n):!0}const y0=n=>Math.round(n*1e5)/1e5,ET=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function cz(n){return n==null}const uz=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,TT=(n,t)=>e=>!!(typeof e=="string"&&uz.test(e)&&e.startsWith(n)||t&&!cz(e)&&Object.prototype.hasOwnProperty.call(e,t)),uU=(n,t,e)=>i=>{if(typeof i!="string")return i;const[s,a,o,c]=i.match(ET);return{[n]:parseFloat(s),[t]:parseFloat(a),[e]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},fz=n=>Ul(0,255,n),jS={...fm,transform:n=>Math.round(fz(n))},Ah={test:TT("rgb","red"),parse:uU("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:i=1})=>"rgba("+jS.transform(n)+", "+jS.transform(t)+", "+jS.transform(e)+", "+y0(G0.transform(i))+")"};function hz(n){let t="",e="",i="",s="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),t+=t,e+=e,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const FM={test:TT("#"),parse:hz,transform:Ah.transform},Mp={test:TT("hsl","hue"),parse:uU("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(n)+", "+Tl.transform(y0(t))+", "+Tl.transform(y0(e))+", "+y0(G0.transform(i))+")"},$s={test:n=>Ah.test(n)||FM.test(n)||Mp.test(n),parse:n=>Ah.test(n)?Ah.parse(n):Mp.test(n)?Mp.parse(n):FM.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ah.transform(n):Mp.transform(n)},dz=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function pz(n){var t,e;return isNaN(n)&&typeof n=="string"&&(((t=n.match(ET))===null||t===void 0?void 0:t.length)||0)+(((e=n.match(dz))===null||e===void 0?void 0:e.length)||0)>0}const fU="number",hU="color",mz="var",gz="var(",_R="${}",vz=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function k0(n){const t=n.toString(),e=[],i={color:[],number:[],var:[]},s=[];let a=0;const c=t.replace(vz,u=>($s.test(u)?(i.color.push(a),s.push(hU),e.push($s.parse(u))):u.startsWith(gz)?(i.var.push(a),s.push(mz),e.push(u)):(i.number.push(a),s.push(fU),e.push(parseFloat(u))),++a,_R)).split(_R);return{values:e,split:c,indexes:i,types:s}}function dU(n){return k0(n).values}function pU(n){const{split:t,types:e}=k0(n),i=t.length;return s=>{let a="";for(let o=0;o<i;o++)if(a+=t[o],s[o]!==void 0){const c=e[o];c===fU?a+=y0(s[o]):c===hU?a+=$s.transform(s[o]):a+=s[o]}return a}}const yz=n=>typeof n=="number"?0:n;function xz(n){const t=dU(n);return pU(n)(t.map(yz))}const Yu={test:pz,parse:dU,createTransformer:pU,getAnimatableNone:xz},Az=new Set(["brightness","contrast","saturate","opacity"]);function _z(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=e.match(ET)||[];if(!i)return n;const s=e.replace(i,"");let a=Az.has(t)?1:0;return i!==e&&(a*=100),t+"("+a+s+")"}const Sz=/\b([a-z-]*)\(.*?\)/gu,zM={...Yu,getAnimatableNone:n=>{const t=n.match(Sz);return t?t.map(_z).join(" "):n}},bz={...oT,color:$s,backgroundColor:$s,outlineColor:$s,fill:$s,stroke:$s,borderColor:$s,borderTopColor:$s,borderRightColor:$s,borderBottomColor:$s,borderLeftColor:$s,filter:zM,WebkitFilter:zM},CT=n=>bz[n];function mU(n,t){let e=CT(n);return e!==zM&&(e=Yu),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const Mz=new Set(["auto","none","0"]);function Ez(n,t,e){let i=0,s;for(;i<n.length&&!s;){const a=n[i];typeof a=="string"&&!Mz.has(a)&&k0(a).values.length&&(s=n[i]),i++}if(s&&e)for(const a of t)n[a]=mU(e,s)}const SR=n=>n===fm||n===Ie,bR=(n,t)=>parseFloat(n.split(", ")[t]),MR=(n,t)=>(e,{transform:i})=>{if(i==="none"||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/u);if(s)return bR(s[1],t);{const a=i.match(/^matrix\((.+)\)$/u);return a?bR(a[1],n):0}},Tz=new Set(["x","y","z"]),Cz=um.filter(n=>!Tz.has(n));function wz(n){const t=[];return Cz.forEach(e=>{const i=n.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const Xp={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:MR(4,13),y:MR(5,14)};Xp.translateX=Xp.x;Xp.translateY=Xp.y;const Bh=new Set;let HM=!1,GM=!1;function gU(){if(GM){const n=Array.from(Bh).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),e=new Map;t.forEach(i=>{const s=wz(i);s.length&&(e.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=e.get(i);s&&s.forEach(([a,o])=>{var c;(c=i.getValue(a))===null||c===void 0||c.set(o)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}GM=!1,HM=!1,Bh.forEach(n=>n.complete()),Bh.clear()}function vU(){Bh.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(GM=!0)})}function Rz(){vU(),gU()}let wT=class{constructor(t,e,i,s,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=s,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Bh.add(this),HM||(HM=!0,Cn.read(vU),Cn.resolveKeyframes(gU))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:s}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const o=s==null?void 0:s.get(),c=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&e){const u=i.readValue(e,c);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=c),s&&o===void 0&&s.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Bh.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Bh.delete(this))}resume(){this.isComplete||this.scheduleResolve()}};const yU=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),Bz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Dz(n){const t=Bz.exec(n);if(!t)return[,];const[,e,i,s]=t;return[`--${e??i}`,s]}function xU(n,t,e=1){const[i,s]=Dz(n);if(!i)return;const a=window.getComputedStyle(t).getPropertyValue(i);if(a){const o=a.trim();return yU(o)?parseFloat(o):o}return rT(s)?xU(s,t,e+1):s}const AU=n=>t=>t.test(n),Lz={test:n=>n==="auto",parse:n=>n},_U=[fm,Ie,Tl,Pu,TF,EF,Lz],ER=n=>_U.find(AU(n));let SU=class extends wT{constructor(t,e,i,s,a){super(t,e,i,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let d=t[u];if(typeof d=="string"&&(d=d.trim(),rT(d))){const m=xU(d,e.current);m!==void 0&&(t[u]=m),u===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!KN.has(i)||t.length!==2)return;const[s,a]=t,o=ER(s),c=ER(a);if(o!==c)if(SR(o)&&SR(c))for(let u=0;u<t.length;u++){const d=t[u];typeof d=="string"&&(t[u]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let s=0;s<t.length;s++)lz(t[s])&&i.push(s);i.length&&Ez(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xp[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const s=e[e.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){var t;const{element:e,name:i,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(i);a&&a.jump(this.measuredOrigin,!1);const o=s.length-1,c=s[o];s[o]=Xp[i](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([u,d])=>{e.getValue(u).set(d)}),this.resolveNoneKeyframes()}};const TR=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Yu.test(n)||n==="0")&&!n.startsWith("url("));function Nz(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function Uz(n,t,e,i){const s=n[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=n[n.length-1],o=TR(s,t),c=TR(a,t);return!o||!c?!1:Nz(n)||(e==="spring"||_T(e))&&i}const Oz=n=>n!==null;function r_(n,{repeat:t,repeatType:e="loop"},i){const s=n.filter(Oz),a=t&&e!=="loop"&&t%2===1?0:s.length-1;return!a||i===void 0?s[a]:i}const Pz=40;let bU=class{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Cl.now(),this.options={autoplay:t,delay:e,type:i,repeat:s,repeatDelay:a,repeatType:o,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Pz?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Rz(),this._resolved}onKeyframesResolved(t,e){this.resolvedAt=Cl.now(),this.hasAttemptedResolve=!0;const{name:i,type:s,velocity:a,delay:o,onComplete:c,onUpdate:u,isGenerator:d}=this.options;if(!d&&!Uz(t,i,s,a))if(o)this.options.duration=0;else{u&&u(r_(t,this.options,e)),c&&c(),this.resolveFinishedPromise();return}const m=this.initPlayback(t,e);m!==!1&&(this._resolved={keyframes:t,finalKeyframe:e,...m},this.onPostResolved())}onPostResolved(){}then(t,e){return this.currentFinishedPromise.then(t,e)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}};const VM=2e4;function MU(n){let t=0;const e=50;let i=n.next(t);for(;!i.done&&t<VM;)t+=e,i=n.next(t);return t>=VM?1/0:t}const _i=(n,t,e)=>n+(t-n)*e;function XS(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function Iz({hue:n,saturation:t,lightness:e,alpha:i}){n/=360,t/=100,e/=100;let s=0,a=0,o=0;if(!t)s=a=o=e;else{const c=e<.5?e*(1+t):e+t-e*t,u=2*e-c;s=XS(u,c,n+1/3),a=XS(u,c,n),o=XS(u,c,n-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:i}}function qx(n,t){return e=>e>0?t:n}const YS=(n,t,e)=>{const i=n*n,s=e*(t*t-i)+i;return s<0?0:Math.sqrt(s)},Fz=[FM,Ah,Mp],zz=n=>Fz.find(t=>t.test(n));function CR(n){const t=zz(n);if(!t)return!1;let e=t.parse(n);return t===Mp&&(e=Iz(e)),e}const wR=(n,t)=>{const e=CR(n),i=CR(t);if(!e||!i)return qx(n,t);const s={...e};return a=>(s.red=YS(e.red,i.red,a),s.green=YS(e.green,i.green,a),s.blue=YS(e.blue,i.blue,a),s.alpha=_i(e.alpha,i.alpha,a),Ah.transform(s))},Hz=(n,t)=>e=>t(n(e)),vv=(...n)=>n.reduce(Hz),kM=new Set(["none","hidden"]);function Gz(n,t){return kM.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function Vz(n,t){return e=>_i(n,t,e)}function RT(n){return typeof n=="number"?Vz:typeof n=="string"?rT(n)?qx:$s.test(n)?wR:Xz:Array.isArray(n)?EU:typeof n=="object"?$s.test(n)?wR:kz:qx}function EU(n,t){const e=[...n],i=e.length,s=n.map((a,o)=>RT(a)(a,t[o]));return a=>{for(let o=0;o<i;o++)e[o]=s[o](a);return e}}function kz(n,t){const e={...n,...t},i={};for(const s in e)n[s]!==void 0&&t[s]!==void 0&&(i[s]=RT(n[s])(n[s],t[s]));return s=>{for(const a in i)e[a]=i[a](s);return e}}function jz(n,t){var e;const i=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],c=n.indexes[o][s[o]],u=(e=n.values[c])!==null&&e!==void 0?e:0;i[a]=u,s[o]++}return i}const Xz=(n,t)=>{const e=Yu.createTransformer(t),i=k0(n),s=k0(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?kM.has(n)&&!s.values.length||kM.has(t)&&!i.values.length?Gz(n,t):vv(EU(jz(i,s),s.values),e):qx(n,t)};function TU(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?_i(n,t,e):RT(n)(n,t)}const Yz=5;function CU(n,t,e){const i=Math.max(t-Yz,0);return xT(e-n(i),t-i)}const Ui={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},RR=.001;function Wz({duration:n=Ui.duration,bounce:t=Ui.bounce,velocity:e=Ui.velocity,mass:i=Ui.mass}){let s,a,o=1-t;o=Ul(Ui.minDamping,Ui.maxDamping,o),n=Ul(Ui.minDuration,Ui.maxDuration,Bc(n)),o<1?(s=d=>{const m=d*o,g=m*n,y=m-e,A=jM(d,o),b=Math.exp(-g);return RR-y/A*b},a=d=>{const g=d*o*n,y=g*e+e,A=Math.pow(o,2)*Math.pow(d,2)*n,b=Math.exp(-g),T=jM(Math.pow(d,2),o);return(-s(d)+RR>0?-1:1)*((y-A)*b)/T}):(s=d=>{const m=Math.exp(-d*n),g=(d-e)*n+1;return-.001+m*g},a=d=>{const m=Math.exp(-d*n),g=(e-d)*(n*n);return m*g});const c=5/n,u=Kz(s,a,c);if(n=Rc(n),isNaN(u))return{stiffness:Ui.stiffness,damping:Ui.damping,duration:n};{const d=Math.pow(u,2)*i;return{stiffness:d,damping:o*2*Math.sqrt(i*d),duration:n}}}const qz=12;function Kz(n,t,e){let i=e;for(let s=1;s<qz;s++)i=i-n(i)/t(i);return i}function jM(n,t){return n*Math.sqrt(1-t*t)}const Jz=["duration","bounce"],Zz=["stiffness","damping","mass"];function BR(n,t){return t.some(e=>n[e]!==void 0)}function Qz(n){let t={velocity:Ui.velocity,stiffness:Ui.stiffness,damping:Ui.damping,mass:Ui.mass,isResolvedFromDuration:!1,...n};if(!BR(n,Zz)&&BR(n,Jz))if(n.visualDuration){const e=n.visualDuration,i=2*Math.PI/(e*1.2),s=i*i,a=2*Ul(.05,1,1-(n.bounce||0))*Math.sqrt(s);t={...t,mass:Ui.mass,stiffness:s,damping:a}}else{const e=Wz(n);t={...t,...e,mass:Ui.mass},t.isResolvedFromDuration=!0}return t}function wU(n=Ui.visualDuration,t=Ui.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:i,restDelta:s}=e;const a=e.keyframes[0],o=e.keyframes[e.keyframes.length-1],c={done:!1,value:a},{stiffness:u,damping:d,mass:m,duration:g,velocity:y,isResolvedFromDuration:A}=Qz({...e,velocity:-Bc(e.velocity||0)}),b=y||0,T=d/(2*Math.sqrt(u*m)),E=o-a,S=Bc(Math.sqrt(u/m)),R=Math.abs(E)<5;i||(i=R?Ui.restSpeed.granular:Ui.restSpeed.default),s||(s=R?Ui.restDelta.granular:Ui.restDelta.default);let B;if(T<1){const U=jM(S,T);B=N=>{const F=Math.exp(-T*S*N);return o-F*((b+T*S*E)/U*Math.sin(U*N)+E*Math.cos(U*N))}}else if(T===1)B=U=>o-Math.exp(-S*U)*(E+(b+S*E)*U);else{const U=S*Math.sqrt(T*T-1);B=N=>{const F=Math.exp(-T*S*N),z=Math.min(U*N,300);return o-F*((b+T*S*E)*Math.sinh(z)+U*E*Math.cosh(z))/U}}const D={calculatedDuration:A&&g||null,next:U=>{const N=B(U);if(A)c.done=U>=g;else{let F=0;T<1&&(F=U===0?Rc(b):CU(B,U,N));const z=Math.abs(F)<=i,O=Math.abs(o-N)<=s;c.done=z&&O}return c.value=c.done?o:N,c},toString:()=>{const U=Math.min(MU(D),VM),N=QN(F=>D.next(U*F).value,U,30);return U+"ms "+N}};return D}function DR({keyframes:n,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:c,max:u,restDelta:d=.5,restSpeed:m}){const g=n[0],y={done:!1,value:g},A=z=>c!==void 0&&z<c||u!==void 0&&z>u,b=z=>c===void 0?u:u===void 0||Math.abs(c-z)<Math.abs(u-z)?c:u;let T=e*t;const E=g+T,S=o===void 0?E:o(E);S!==E&&(T=S-g);const R=z=>-T*Math.exp(-z/i),B=z=>S+R(z),D=z=>{const O=R(z),I=B(z);y.done=Math.abs(O)<=d,y.value=y.done?S:I};let U,N;const F=z=>{A(y.value)&&(U=z,N=wU({keyframes:[y.value,b(y.value)],velocity:CU(B,z,y.value),damping:s,stiffness:a,restDelta:d,restSpeed:m}))};return F(0),{calculatedDuration:null,next:z=>{let O=!1;return!N&&U===void 0&&(O=!0,D(z),F(z)),U!==void 0&&z>=U?N.next(z-U):(!O&&D(z),y)}}}const $z=gv(.42,0,1,1),t9=gv(0,0,.58,1),RU=gv(.42,0,.58,1),e9=n=>Array.isArray(n)&&typeof n[0]!="number",n9={linear:sa,easeIn:$z,easeInOut:RU,easeOut:t9,circIn:MT,circInOut:lU,circOut:oU,backIn:bT,backInOut:aU,backOut:sU,anticipate:rU},LR=n=>{if(ST(n)){BN(n.length===4);const[t,e,i,s]=n;return gv(t,e,i,s)}else if(typeof n=="string")return n9[n];return n};function i9(n,t,e){const i=[],s=e||TU,a=n.length-1;for(let o=0;o<a;o++){let c=s(n[o],n[o+1]);if(t){const u=Array.isArray(t)?t[o]||sa:t;c=vv(u,c)}i.push(c)}return i}function BT(n,t,{clamp:e=!0,ease:i,mixer:s}={}){const a=n.length;if(BN(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),t=[...t].reverse());const c=i9(t,i,s),u=c.length,d=m=>{if(o&&m<n[0])return t[0];let g=0;if(u>1)for(;g<n.length-2&&!(m<n[g+1]);g++);const y=Fh(n[g],n[g+1],m);return c[g](y)};return e?m=>d(Ul(n[0],n[a-1],m)):d}function s9(n,t){const e=n[n.length-1];for(let i=1;i<=t;i++){const s=Fh(0,t,i);n.push(_i(e,1,s))}}function BU(n){const t=[0];return s9(t,n.length-1),t}function a9(n,t){return n.map(e=>e*t)}function r9(n,t){return n.map(()=>t||RU).splice(0,n.length-1)}function Kx({duration:n=300,keyframes:t,times:e,ease:i="easeInOut"}){const s=e9(i)?i.map(LR):LR(i),a={done:!1,value:t[0]},o=a9(e&&e.length===t.length?e:BU(t),n),c=BT(o,t,{ease:Array.isArray(s)?s:r9(t,s)});return{calculatedDuration:n,next:u=>(a.value=c(u),a.done=u>=n,a)}}const o9=n=>{const t=({timestamp:e})=>n(e);return{start:()=>Cn.update(t,!0),stop:()=>No(t),now:()=>Ss.isProcessing?Ss.timestamp:Cl.now()}},l9={decay:DR,inertia:DR,tween:Kx,keyframes:Kx,spring:wU},c9=n=>n/100;let o_=class extends bU{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:e,motionValue:i,element:s,keyframes:a}=this.options,o=(s==null?void 0:s.KeyframeResolver)||wT,c=(u,d)=>this.onKeyframesResolved(u,d);this.resolver=new o(a,c,e,i,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:e="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a,velocity:o=0}=this.options,c=_T(e)?e:l9[e]||Kx;let u,d;c!==Kx&&typeof t[0]!="number"&&(u=vv(c9,TU(t[0],t[1])),t=[0,100]);const m=c({...this.options,keyframes:t});a==="mirror"&&(d=c({...this.options,keyframes:[...t].reverse(),velocity:-o})),m.calculatedDuration===null&&(m.calculatedDuration=MU(m));const{calculatedDuration:g}=m,y=g+s,A=y*(i+1)-s;return{generator:m,mirroredGenerator:d,mapPercentToKeyframes:u,calculatedDuration:g,resolvedDuration:y,totalDuration:A}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,e=!1){const{resolved:i}=this;if(!i){const{keyframes:z}=this.options;return{done:!0,value:z[z.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:o,mapPercentToKeyframes:c,keyframes:u,calculatedDuration:d,totalDuration:m,resolvedDuration:g}=i;if(this.startTime===null)return a.next(0);const{delay:y,repeat:A,repeatType:b,repeatDelay:T,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-m/this.speed,this.startTime)),e?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const S=this.currentTime-y*(this.speed>=0?1:-1),R=this.speed>=0?S<0:S>m;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let B=this.currentTime,D=a;if(A){const z=Math.min(this.currentTime,m)/g;let O=Math.floor(z),I=z%1;!I&&z>=1&&(I=1),I===1&&O--,O=Math.min(O,A+1),!!(O%2)&&(b==="reverse"?(I=1-I,T&&(I-=T/g)):b==="mirror"&&(D=o)),B=Ul(0,1,I)*g}const U=R?{done:!1,value:u[0]}:D.next(B);c&&(U.value=c(U.value));let{done:N}=U;!R&&d!==null&&(N=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return F&&s!==void 0&&(U.value=r_(u,this.options,s)),E&&E(U.value),F&&this.finish(),U}get duration(){const{resolved:t}=this;return t?Bc(t.calculatedDuration):0}get time(){return Bc(this.currentTime)}set time(t){t=Rc(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Bc(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=o9,onPlay:e,startTime:i}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),e&&e();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}};function u9(n){return new o_(n)}const f9=new Set(["opacity","clipPath","filter","transform"]);function h9(n,t,e,{delay:i=0,duration:s=300,repeat:a=0,repeatType:o="loop",ease:c="easeInOut",times:u}={}){const d={[t]:e};u&&(d.offset=u);const m=tU(c,s);return Array.isArray(m)&&(d.easing=m),n.animate(d,{delay:i,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const d9=AT(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Jx=10,p9=2e4;function m9(n){return _T(n.type)||n.type==="spring"||!$N(n.ease)}function g9(n,t){const e=new o_({...t,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const s=[];let a=0;for(;!i.done&&a<p9;)i=e.sample(a),s.push(i.value),a+=Jx;return{times:void 0,keyframes:s,duration:a-Jx,ease:"linear"}}const DU={anticipate:rU,backInOut:aU,circInOut:lU};function v9(n){return n in DU}let NR=class extends bU{constructor(t){super(t);const{name:e,motionValue:i,element:s,keyframes:a}=this.options;this.resolver=new SU(a,(o,c)=>this.onKeyframesResolved(o,c),e,i,s),this.resolver.scheduleResolve()}initPlayback(t,e){let{duration:i=300,times:s,ease:a,type:o,motionValue:c,name:u,startTime:d}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof a=="string"&&Wx()&&v9(a)&&(a=DU[a]),m9(this.options)){const{onComplete:g,onUpdate:y,motionValue:A,element:b,...T}=this.options,E=g9(t,T);t=E.keyframes,t.length===1&&(t[1]=t[0]),i=E.duration,s=E.times,a=E.ease,o="keyframes"}const m=h9(c.owner.current,u,t,{...this.options,duration:i,times:s,ease:a});return m.startTime=d??this.calcStartTime(),this.pendingTimeline?(AR(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:g}=this.options;c.set(r_(t,this.options,e)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:i,times:s,type:o,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:e}=t;return Bc(e)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:e}=t;return Bc(e.currentTime||0)}set time(t){const{resolved:e}=this;if(!e)return;const{animation:i}=e;i.currentTime=Rc(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:e}=t;return e.playbackRate}set speed(t){const{resolved:e}=this;if(!e)return;const{animation:i}=e;i.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:e}=t;return e.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:e}=t;return e.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:e}=this;if(!e)return sa;const{animation:i}=e;AR(i,t)}return sa}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.playState==="finished"&&this.updateFinishedPromise(),e.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:e,keyframes:i,duration:s,type:a,ease:o,times:c}=t;if(e.playState==="idle"||e.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:m,onComplete:g,element:y,...A}=this.options,b=new o_({...A,keyframes:i,duration:s,type:a,ease:o,times:c,isGenerator:!0}),T=Rc(this.time);d.setWithVelocity(b.sample(T-Jx).value,b.sample(T).value,Jx)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:e,name:i,repeatDelay:s,repeatType:a,damping:o,type:c}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=e.owner.getProps();return d9()&&i&&f9.has(i)&&!u&&!d&&!s&&a!=="mirror"&&o!==0&&c!=="inertia"}};const y9={type:"spring",stiffness:500,damping:25,restSpeed:10},x9=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),A9={type:"keyframes",duration:.8},_9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},S9=(n,{keyframes:t})=>t.length>2?A9:Kh.has(n)?n.startsWith("scale")?x9(t[1]):y9:_9;function b9({when:n,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:c,from:u,elapsed:d,...m}){return!!Object.keys(m).length}const DT=(n,t,e,i={},s,a)=>o=>{const c=mT(i,n)||{},u=c.delay||i.delay||0;let{elapsed:d=0}=i;d=d-Rc(u);let m={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-d,onUpdate:y=>{t.set(y),c.onUpdate&&c.onUpdate(y)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:n,motionValue:t,element:a?void 0:s};b9(c)||(m={...m,...S9(n,m)}),m.duration&&(m.duration=Rc(m.duration)),m.repeatDelay&&(m.repeatDelay=Rc(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(g=!0)),g&&!a&&t.get()!==void 0){const y=r_(m.keyframes,c);if(y!==void 0)return Cn.update(()=>{m.onUpdate(y),m.onComplete()}),new nz([])}return!a&&NR.supports(m)?new NR(m):new o_(m)};function M9({protectedKeys:n,needsAnimating:t},e){const i=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function LU(n,t,{delay:e=0,transitionOverride:i,type:s}={}){var a;let{transition:o=n.getDefaultTransition(),transitionEnd:c,...u}=t;i&&(o=i);const d=[],m=s&&n.animationState&&n.animationState.getState()[s];for(const g in u){const y=n.getValue(g,(a=n.latestValues[g])!==null&&a!==void 0?a:null),A=u[g];if(A===void 0||m&&M9(m,g))continue;const b={delay:e,...mT(o||{},g)};let T=!1;if(window.MotionHandoffAnimation){const S=JN(n);if(S){const R=window.MotionHandoffAnimation(S,g,Cn);R!==null&&(b.startTime=R,T=!0)}}PM(n,g),y.start(DT(g,y,A,n.shouldReduceMotion&&KN.has(g)?{type:!1}:b,n,T));const E=y.animation;E&&d.push(E)}return c&&Promise.all(d).then(()=>{Cn.update(()=>{c&&$F(n,c)})}),d}function XM(n,t,e={}){var i;const s=V0(n,t,e.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=s||{};e.transitionOverride&&(a=e.transitionOverride);const o=s?()=>Promise.all(LU(n,s,e)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:y}=a;return E9(n,t,m+d,g,y,e)}:()=>Promise.resolve(),{when:u}=a;if(u){const[d,m]=u==="beforeChildren"?[o,c]:[c,o];return d().then(()=>m())}else return Promise.all([o(),c(e.delay)])}function E9(n,t,e=0,i=0,s=1,a){const o=[],c=(n.variantChildren.size-1)*i,u=s===1?(d=0)=>d*i:(d=0)=>c-d*i;return Array.from(n.variantChildren).sort(T9).forEach((d,m)=>{d.notify("AnimationStart",t),o.push(XM(d,t,{...a,delay:e+u(m)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function T9(n,t){return n.sortNodePosition(t)}function C9(n,t,e={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(a=>XM(n,a,e));i=Promise.all(s)}else if(typeof t=="string")i=XM(n,t,e);else{const s=typeof t=="function"?V0(n,t,e.custom):t;i=Promise.all(LU(n,s,e))}return i.then(()=>{n.notify("AnimationComplete",t)})}function NU(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0}const w9=nT.length;function UU(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?UU(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<w9;e++){const i=nT[e],s=n.props[i];(z0(s)||s===!1)&&(t[i]=s)}return t}const R9=[...eT].reverse(),B9=eT.length;function D9(n){return t=>Promise.all(t.map(({animation:e,options:i})=>C9(n,e,i)))}function L9(n){let t=D9(n),e=UR(),i=!0;const s=u=>(d,m)=>{var g;const y=V0(n,m,u==="exit"?(g=n.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(y){const{transition:A,transitionEnd:b,...T}=y;d={...d,...T,...b}}return d};function a(u){t=u(n)}function o(u){const{props:d}=n,m=UU(n.parent)||{},g=[],y=new Set;let A={},b=1/0;for(let E=0;E<B9;E++){const S=R9[E],R=e[S],B=d[S]!==void 0?d[S]:m[S],D=z0(B),U=S===u?R.isActive:null;U===!1&&(b=E);let N=B===m[S]&&B!==d[S]&&D;if(N&&i&&n.manuallyAnimateOnMount&&(N=!1),R.protectedKeys={...A},!R.isActive&&U===null||!B&&!R.prevProp||s_(B)||typeof B=="boolean")continue;const F=N9(R.prevProp,B);let z=F||S===u&&R.isActive&&!N&&D||E>b&&D,O=!1;const I=Array.isArray(B)?B:[B];let Y=I.reduce(s(S),{});U===!1&&(Y={});const{prevResolvedValues:dt={}}=R,at={...dt,...Y},Q=et=>{z=!0,y.has(et)&&(O=!0,y.delete(et)),R.needsAnimating[et]=!0;const Z=n.getValue(et);Z&&(Z.liveStyle=!1)};for(const et in at){const Z=Y[et],vt=dt[et];if(A.hasOwnProperty(et))continue;let X=!1;OM(Z)&&OM(vt)?X=!NU(Z,vt):X=Z!==vt,X?Z!=null?Q(et):y.add(et):Z!==void 0&&y.has(et)?Q(et):R.protectedKeys[et]=!0}R.prevProp=B,R.prevResolvedValues=Y,R.isActive&&(A={...A,...Y}),i&&n.blockInitialAnimation&&(z=!1),z&&(!(N&&F)||O)&&g.push(...I.map(et=>({animation:et,options:{type:S}})))}if(y.size){const E={};if(typeof d.initial!="boolean"){const S=V0(n,Array.isArray(d.initial)?d.initial[0]:d.initial);S&&S.transition&&(E.transition=S.transition)}y.forEach(S=>{const R=n.getBaseTarget(S),B=n.getValue(S);B&&(B.liveStyle=!0),E[S]=R??null}),g.push({animation:E})}let T=!!g.length;return i&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(T=!1),i=!1,T?t(g):Promise.resolve()}function c(u,d){var m;if(e[u].isActive===d)return Promise.resolve();(m=n.variantChildren)===null||m===void 0||m.forEach(y=>{var A;return(A=y.animationState)===null||A===void 0?void 0:A.setActive(u,d)}),e[u].isActive=d;const g=o(u);for(const y in e)e[y].protectedKeys={};return g}return{animateChanges:o,setActive:c,setAnimateFunction:a,getState:()=>e,reset:()=>{e=UR(),i=!0}}}function N9(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!NU(t,n):!1}function Kf(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function UR(){return{animate:Kf(!0),whileInView:Kf(),whileHover:Kf(),whileTap:Kf(),whileDrag:Kf(),whileFocus:Kf(),exit:Kf()}}let $u=class{constructor(t){this.isMounted=!1,this.node=t}update(){}},U9=class extends $u{constructor(t){super(t),t.animationState||(t.animationState=L9(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();s_(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}},O9=0,P9=class extends $u{constructor(){super(...arguments),this.id=O9++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);e&&!t&&s.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}};const I9={animation:{Feature:U9},exit:{Feature:P9}},Co={x:!1,y:!1};function OU(){return Co.x||Co.y}function F9(n){return n==="x"||n==="y"?Co[n]?null:(Co[n]=!0,()=>{Co[n]=!1}):Co.x||Co.y?null:(Co.x=Co.y=!0,()=>{Co.x=Co.y=!1})}function j0(n,t,e,i={passive:!0}){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e)}const LT=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function yv(n){return{point:{x:n.pageX,y:n.pageY}}}const z9=n=>t=>LT(t)&&n(t,yv(t));function Ep(n,t,e,i){return j0(n,t,z9(e),i)}function PU({top:n,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:n,max:i}}}function H9({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function G9(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}const IU=1e-4,V9=1-IU,k9=1+IU,FU=.01,j9=0-FU,X9=0+FU;function ba(n){return n.max-n.min}function Y9(n,t,e){return Math.abs(n-t)<=e}function OR(n,t,e,i=.5){n.origin=i,n.originPoint=_i(t.min,t.max,n.origin),n.scale=ba(e)/ba(t),n.translate=_i(e.min,e.max,n.origin)-n.originPoint,(n.scale>=V9&&n.scale<=k9||isNaN(n.scale))&&(n.scale=1),(n.translate>=j9&&n.translate<=X9||isNaN(n.translate))&&(n.translate=0)}function x0(n,t,e,i){OR(n.x,t.x,e.x,i?i.originX:void 0),OR(n.y,t.y,e.y,i?i.originY:void 0)}function PR(n,t,e){n.min=e.min+t.min,n.max=n.min+ba(t)}function W9(n,t,e){PR(n.x,t.x,e.x),PR(n.y,t.y,e.y)}function IR(n,t,e){n.min=t.min-e.min,n.max=n.min+ba(t)}function A0(n,t,e){IR(n.x,t.x,e.x),IR(n.y,t.y,e.y)}const FR=()=>({translate:0,scale:1,origin:0,originPoint:0}),Tp=()=>({x:FR(),y:FR()}),zR=()=>({min:0,max:0}),Hi=()=>({x:zR(),y:zR()});function Pr(n){return[n("x"),n("y")]}function WS(n){return n===void 0||n===1}function YM({scale:n,scaleX:t,scaleY:e}){return!WS(n)||!WS(t)||!WS(e)}function ph(n){return YM(n)||zU(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function zU(n){return HR(n.x)||HR(n.y)}function HR(n){return n&&n!=="0%"}function Zx(n,t,e){const i=n-e,s=t*i;return e+s}function GR(n,t,e,i,s){return s!==void 0&&(n=Zx(n,s,i)),Zx(n,e,i)+t}function WM(n,t=0,e=1,i,s){n.min=GR(n.min,t,e,i,s),n.max=GR(n.max,t,e,i,s)}function HU(n,{x:t,y:e}){WM(n.x,t.translate,t.scale,t.originPoint),WM(n.y,e.translate,e.scale,e.originPoint)}const VR=.999999999999,kR=1.0000000000001;function q9(n,t,e,i=!1){const s=e.length;if(!s)return;t.x=t.y=1;let a,o;for(let c=0;c<s;c++){a=e[c],o=a.projectionDelta;const{visualElement:u}=a.options;u&&u.props.style&&u.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&wp(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,HU(n,o)),i&&ph(a.latestValues)&&wp(n,a.latestValues))}t.x<kR&&t.x>VR&&(t.x=1),t.y<kR&&t.y>VR&&(t.y=1)}function Cp(n,t){n.min=n.min+t,n.max=n.max+t}function jR(n,t,e,i,s=.5){const a=_i(n.min,n.max,s);WM(n,t,e,a,i)}function wp(n,t){jR(n.x,t.x,t.scaleX,t.scale,t.originX),jR(n.y,t.y,t.scaleY,t.scale,t.originY)}function GU(n,t){return PU(G9(n.getBoundingClientRect(),t))}function K9(n,t,e){const i=GU(n,e),{scroll:s}=t;return s&&(Cp(i.x,s.offset.x),Cp(i.y,s.offset.y)),i}function Qx(n,t){const e=`${t}PointerCapture`;if(n.target instanceof Element&&e in n.target&&n.pointerId!==void 0)try{n.target[e](n.pointerId)}catch{}}const XR=(n,t)=>Math.abs(n-t);function J9(n,t){const e=XR(n.x,t.x),i=XR(n.y,t.y);return Math.sqrt(e**2+i**2)}let VU=class{constructor(t,e,{transformPagePoint:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=KS(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,y=J9(m.offset,{x:0,y:0})>=3;if(!g&&!y)return;const{point:A}=m,{timestamp:b}=Ss;this.history.push({...A,timestamp:b});const{onStart:T,onMove:E}=this.handlers;g||(T&&T(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,m)},this.handlePointerMove=(m,g)=>{if(m.currentTarget instanceof Element&&m.currentTarget.hasPointerCapture&&m.pointerId!==void 0)try{if(!m.currentTarget.hasPointerCapture(m.pointerId))return}catch{}this.lastMoveEvent=m,this.lastMoveEventInfo=qS(g,this.transformPagePoint),Cn.update(this.updatePoint,!0)},this.handlePointerUp=(m,g)=>{Qx(m,"release"),this.end();const{onEnd:y,onSessionEnd:A,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=KS(m.type==="pointercancel"||m.type==="lostpointercapture"?this.lastMoveEventInfo:qS(g,this.transformPagePoint),this.history);this.startEvent&&y&&y(m,T),A&&A(m,T)},!LT(t))return;this.dragSnapToOrigin=s,this.handlers=e,this.transformPagePoint=i;const a=yv(t),o=qS(a,this.transformPagePoint),{point:c}=o,{timestamp:u}=Ss;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=e;d&&d(t,KS(o,this.history)),Qx(t,"set"),this.removeListeners=vv(Ep(t.currentTarget,"pointermove",this.handlePointerMove),Ep(t.currentTarget,"pointerup",this.handlePointerUp),Ep(t.currentTarget,"pointercancel",this.handlePointerUp),Ep(t.currentTarget,"lostpointercapture",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),No(this.updatePoint)}};function qS(n,t){return t?{point:t(n.point)}:n}function YR(n,t){return{x:n.x-t.x,y:n.y-t.y}}function KS({point:n},t){return{point:n,delta:YR(n,kU(t)),offset:YR(n,Z9(t)),velocity:Q9(t,.1)}}function Z9(n){return n[0]}function kU(n){return n[n.length-1]}function Q9(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,i=null;const s=kU(n);for(;e>=0&&(i=n[e],!(s.timestamp-i.timestamp>Rc(t)));)e--;if(!i)return{x:0,y:0};const a=Bc(s.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const o={x:(s.x-i.x)/a,y:(s.y-i.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function $9(n,{min:t,max:e},i){return t!==void 0&&n<t?n=i?_i(t,n,i.min):Math.max(n,t):e!==void 0&&n>e&&(n=i?_i(e,n,i.max):Math.min(n,e)),n}function WR(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function t8(n,{top:t,left:e,bottom:i,right:s}){return{x:WR(n.x,e,s),y:WR(n.y,t,i)}}function qR(n,t){let e=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,i]=[i,e]),{min:e,max:i}}function e8(n,t){return{x:qR(n.x,t.x),y:qR(n.y,t.y)}}function n8(n,t){let e=.5;const i=ba(n),s=ba(t);return s>i?e=Fh(t.min,t.max-i,n.min):i>s&&(e=Fh(n.min,n.max-s,t.min)),Ul(0,1,e)}function i8(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const qM=.35;function s8(n=qM){return n===!1?n=0:n===!0&&(n=qM),{x:KR(n,"left","right"),y:KR(n,"top","bottom")}}function KR(n,t,e){return{min:JR(n,t),max:JR(n,e)}}function JR(n,t){return typeof n=="number"?n:n[t]||0}const a8=new WeakMap;let r8=class{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Hi(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(yv(m).point)},a=(m,g)=>{const{drag:y,dragPropagation:A,onDragStart:b}=this.getProps();if(y&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=F9(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Pr(E=>{let S=this.getAxisMotionValue(E).get()||0;if(Tl.test(S)){const{projection:R}=this.visualElement;if(R&&R.layout){const B=R.layout.layoutBox[E];B&&(S=ba(B)*(parseFloat(S)/100))}}this.originPoint[E]=S}),b&&Cn.postRender(()=>b(m,g)),PM(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},o=(m,g)=>{const{dragPropagation:y,dragDirectionLock:A,onDirectionLock:b,onDrag:T}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:E}=g;if(A&&this.currentDirection===null){this.currentDirection=o8(E),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",g.point,E),this.updateAxis("y",g.point,E),this.visualElement.render(),T&&T(m,g)},c=(m,g)=>this.stop(m,g),u=()=>Pr(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new VU(t,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d})}stop(t,e){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=e;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Cn.postRender(()=>a(t,e))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,i){const{drag:s}=this.getProps();if(!i||!x1(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(o=$9(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:e,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;e&&bp(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=t8(s.layoutBox,e):this.constraints=!1,this.elastic=s8(i),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Pr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=i8(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!bp(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=K9(i,s.root,this.visualElement.getTransformPagePoint());let o=e8(s.layout.layoutBox,a);if(e){const c=e(H9(o));this.hasMutatedConstraints=!!c,c&&(o=PU(c))}return o}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:s,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},d=Pr(m=>{if(!x1(m,e,this.currentDirection))return;let g=u&&u[m]||{};o&&(g={min:0,max:0});const y=s?200:1e6,A=s?40:1e7,b={type:"inertia",velocity:i?t[m]:0,bounceStiffness:y,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(m,b)});return Promise.all(d).then(c)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return PM(this.visualElement,t),i.start(DT(t,i,0,e,this.visualElement,!1))}stopAnimation(){Pr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Pr(t=>{var e;return(e=this.getAxisMotionValue(t).animation)===null||e===void 0?void 0:e.pause()})}getAnimationState(t){var e;return(e=this.getAxisMotionValue(t).animation)===null||e===void 0?void 0:e.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[e];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Pr(e=>{const{drag:i}=this.getProps();if(!x1(e,i,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(e);if(s&&s.layout){const{min:o,max:c}=s.layout.layoutBox[e];a.set(t[e]-_i(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!bp(e)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Pr(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const u=c.get();s[o]=n8({min:u,max:u},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Pr(o=>{if(!x1(o,t,null))return;const c=this.getAxisMotionValue(o),{min:u,max:d}=this.constraints[o];c.set(_i(u,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;a8.set(this.visualElement,this);const t=this.visualElement.current,e=Ep(t,"pointerdown",u=>{const{drag:d,dragListener:m=!0}=this.getProps();d&&m&&this.start(u)}),i=()=>{const{dragConstraints:u}=this.getProps();bp(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Cn.read(i);const o=j0(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(Pr(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=u[m].translate,g.set(g.get()+u[m].translate))}),this.visualElement.render())});return()=>{o(),e(),a(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:o=qM,dragMomentum:c=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:s,dragConstraints:a,dragElastic:o,dragMomentum:c}}};function x1(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function o8(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}let l8=class extends $u{constructor(t){super(t),this.removeGroupControls=sa,this.removeListeners=sa,this.controls=new r8(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||sa}unmount(){this.removeGroupControls(),this.removeListeners()}};const ZR=n=>(t,e)=>{n&&Cn.postRender(()=>n(t,e))};let c8=class extends $u{constructor(){super(...arguments),this.removePointerDownListener=sa}onPointerDown(t){this.session=new VU(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:ZR(t),onStart:ZR(e),onMove:i,onEnd:(a,o)=>{delete this.session,s&&Cn.postRender(()=>s(a,o))}}}mount(){this.removePointerDownListener=Ep(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};const Cx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function QR(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const zg={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(Ie.test(n))n=parseFloat(n);else return n;const e=QR(n,t.target.x),i=QR(n,t.target.y);return`${e}% ${i}%`}},u8={correct:(n,{treeScale:t,projectionDelta:e})=>{const i=n,s=Yu.parse(n);if(s.length>5)return i;const a=Yu.createTransformer(n),o=typeof s[0]!="number"?1:0,c=e.x.scale*t.x,u=e.y.scale*t.y;s[0+o]/=c,s[1+o]/=u;const d=_i(c,u,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),a(s)}};let f8=class extends J.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:s}=this.props,{projection:a}=t;MF(h8),a&&(e.group&&e.group.add(a),i&&i.register&&s&&i.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Cx.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:s,isPresent:a}=this.props,o=i.projection;return o&&(o.isPresent=a,s||t.layoutDependency!==e||e===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||Cn.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),sT.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}};function jU(n){const[t,e]=wN(),i=J.useContext($E);return G.jsx(f8,{...n,layoutGroup:i,switchLayoutGroup:J.useContext(PN),isPresent:t,safeToRemove:e})}const h8={borderRadius:{...zg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zg,borderTopRightRadius:zg,borderBottomLeftRadius:zg,borderBottomRightRadius:zg,boxShadow:u8};function d8(n,t,e){const i=Es(n)?n:Ml(n);return i.start(DT("",i,t,e)),i.animation}function p8(n){return n instanceof SVGElement&&n.tagName!=="svg"}const m8=(n,t)=>n.depth-t.depth;let g8=class{constructor(){this.children=[],this.isDirty=!1}add(t){gT(this.children,t),this.isDirty=!0}remove(t){vT(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(m8),this.isDirty=!1,this.children.forEach(t)}};function v8(n,t){const e=Cl.now(),i=({timestamp:s})=>{const a=s-e;a>=t&&(No(i),n(a-t))};return Cn.read(i,!0),()=>No(i)}const XU=["TopLeft","TopRight","BottomLeft","BottomRight"],y8=XU.length,$R=n=>typeof n=="string"?parseFloat(n):n,t2=n=>typeof n=="number"||Ie.test(n);function x8(n,t,e,i,s,a){s?(n.opacity=_i(0,e.opacity!==void 0?e.opacity:1,A8(i)),n.opacityExit=_i(t.opacity!==void 0?t.opacity:1,0,_8(i))):a&&(n.opacity=_i(t.opacity!==void 0?t.opacity:1,e.opacity!==void 0?e.opacity:1,i));for(let o=0;o<y8;o++){const c=`border${XU[o]}Radius`;let u=e2(t,c),d=e2(e,c);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||t2(u)===t2(d)?(n[c]=Math.max(_i($R(u),$R(d),i),0),(Tl.test(d)||Tl.test(u))&&(n[c]+="%")):n[c]=d}(t.rotate||e.rotate)&&(n.rotate=_i(t.rotate||0,e.rotate||0,i))}function e2(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const A8=YU(0,.5,oU),_8=YU(.5,.95,sa);function YU(n,t,e){return i=>i<n?0:i>t?1:e(Fh(n,t,i))}function n2(n,t){n.min=t.min,n.max=t.max}function Lr(n,t){n2(n.x,t.x),n2(n.y,t.y)}function i2(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function s2(n,t,e,i,s){return n-=t,n=Zx(n,1/e,i),s!==void 0&&(n=Zx(n,1/s,i)),n}function S8(n,t=0,e=1,i=.5,s,a=n,o=n){if(Tl.test(t)&&(t=parseFloat(t),t=_i(o.min,o.max,t/100)-o.min),typeof t!="number")return;let c=_i(a.min,a.max,i);n===a&&(c-=t),n.min=s2(n.min,t,e,c,s),n.max=s2(n.max,t,e,c,s)}function a2(n,t,[e,i,s],a,o){S8(n,t[e],t[i],t[s],t.scale,a,o)}const b8=["x","scaleX","originX"],M8=["y","scaleY","originY"];function r2(n,t,e,i){a2(n.x,t,b8,e?e.x:void 0,i?i.x:void 0),a2(n.y,t,M8,e?e.y:void 0,i?i.y:void 0)}function o2(n){return n.translate===0&&n.scale===1}function WU(n){return o2(n.x)&&o2(n.y)}function l2(n,t){return n.min===t.min&&n.max===t.max}function E8(n,t){return l2(n.x,t.x)&&l2(n.y,t.y)}function c2(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function qU(n,t){return c2(n.x,t.x)&&c2(n.y,t.y)}function u2(n){return ba(n.x)/ba(n.y)}function f2(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}let T8=class{constructor(){this.members=[]}add(t){gT(this.members,t),t.scheduleRender()}remove(t){if(vT(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(s=>t===s);if(e===0)return!1;let i;for(let s=e;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function C8(n,t,e){let i="";const s=n.x.translate/t.x,a=n.y.translate/t.y,o=(e==null?void 0:e.z)||0;if((s||a||o)&&(i=`translate3d(${s}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:d,rotate:m,rotateX:g,rotateY:y,skewX:A,skewY:b}=e;d&&(i=`perspective(${d}px) ${i}`),m&&(i+=`rotate(${m}deg) `),g&&(i+=`rotateX(${g}deg) `),y&&(i+=`rotateY(${y}deg) `),A&&(i+=`skewX(${A}deg) `),b&&(i+=`skewY(${b}deg) `)}const c=n.x.scale*t.x,u=n.y.scale*t.y;return(c!==1||u!==1)&&(i+=`scale(${c}, ${u})`),i||"none"}const JS=["","X","Y","Z"],w8={visibility:"hidden"},h2=1e3;let R8=0;function ZS(n,t,e,i){const{latestValues:s}=t;s[n]&&(e[n]=s[n],t.setStaticValue(n,0),i&&(i[n]=0))}function KU(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=JN(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:s,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",Cn,!(s||a))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&KU(i)}function JU({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(o={},c=t==null?void 0:t()){this.id=R8++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(L8),this.nodes.forEach(I8),this.nodes.forEach(F8),this.nodes.forEach(N8)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new g8)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new yT),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const u=this.eventHandlers.get(o);u&&u.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=p8(o),this.instance=o;const{layoutId:u,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(d||u)&&(this.isLayoutDirty=!0),n){let g;const y=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=v8(y,250),Cx.hasAnimatedSinceResize&&(Cx.hasAnimatedSinceResize=!1,this.nodes.forEach(p2))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&m&&(u||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:A,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||m.getDefaultTransition()||k8,{onLayoutAnimationStart:E,onLayoutAnimationComplete:S}=m.getProps(),R=!this.targetLayout||!qU(this.targetLayout,b),B=!y&&A;if(this.options.layoutRoot||this.resumeFrom||B||y&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,B);const D={...mT(T,"layout"),onPlay:E,onComplete:S};(m.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D)}else y||p2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,No(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(z8),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&KU(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(d2);return}this.isUpdating||this.nodes.forEach(O8),this.isUpdating=!1,this.nodes.forEach(P8),this.nodes.forEach(B8),this.nodes.forEach(D8),this.clearAllSnapshots();const c=Cl.now();Ss.delta=Ul(0,1e3/60,c-Ss.timestamp),Ss.timestamp=c,Ss.isProcessing=!0,kS.update.process(Ss),kS.preRender.process(Ss),kS.render.process(Ss),Ss.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,sT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(U8),this.sharedNodes.forEach(H8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Cn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Cn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ba(this.snapshot.measuredBox.x)&&!ba(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Hi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c){const u=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!WU(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,m=d!==this.prevTransformTemplateValue;o&&(c||ph(this.latestValues)||m)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return o&&(u=this.removeTransform(u)),j8(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:c}=this.options;if(!c)return Hi();const u=c.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(X8))){const{scroll:m}=this.root;m&&(Cp(u.x,m.offset.x),Cp(u.y,m.offset.y))}return u}removeElementScroll(o){var c;const u=Hi();if(Lr(u,o),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return u;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:g,options:y}=m;m!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&Lr(u,o),Cp(u.x,g.offset.x),Cp(u.y,g.offset.y))}return u}applyTransform(o,c=!1){const u=Hi();Lr(u,o);for(let d=0;d<this.path.length;d++){const m=this.path[d];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&wp(u,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),ph(m.latestValues)&&wp(u,m.latestValues)}return ph(this.latestValues)&&wp(u,this.latestValues),u}removeTransform(o){const c=Hi();Lr(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!ph(d.latestValues))continue;YM(d.latestValues)&&d.updateSnapshot();const m=Hi(),g=d.measurePageBox();Lr(m,g),r2(c,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,m)}return ph(this.latestValues)&&r2(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ss.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var c;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=Ss.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hi(),this.relativeTargetOrigin=Hi(),A0(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),Lr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Hi(),this.targetWithTransforms=Hi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),W9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Lr(this.target,this.layout.layoutBox),HU(this.target,this.targetDelta)):Lr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hi(),this.relativeTargetOrigin=Hi(),A0(this.relativeTargetOrigin,this.target,A.target),Lr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||YM(this.parent.latestValues)||zU(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Ss.timestamp&&(d=!1),d)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Lr(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,A=this.treeScale.y;q9(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Hi());const{target:b}=c;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(i2(this.prevProjectionDelta.x,this.projectionDelta.x),i2(this.prevProjectionDelta.y,this.projectionDelta.y)),x0(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==A||!f2(this.projectionDelta.x,this.prevProjectionDelta.x)||!f2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Tp(),this.projectionDelta=Tp(),this.projectionDeltaWithTransform=Tp()}setAnimationOrigin(o,c=!1){const u=this.snapshot,d=u?u.latestValues:{},m={...this.latestValues},g=Tp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const y=Hi(),A=u?u.source:void 0,b=this.layout?this.layout.source:void 0,T=A!==b,E=this.getStack(),S=!E||E.members.length<=1,R=!!(T&&!S&&this.options.crossfade===!0&&!this.path.some(V8));this.animationProgress=0;let B;this.mixTargetDelta=D=>{const U=D/1e3;m2(g.x,o.x,U),m2(g.y,o.y,U),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(A0(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),G8(this.relativeTarget,this.relativeTargetOrigin,y,U),B&&E8(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=Hi()),Lr(B,this.relativeTarget)),T&&(this.animationValues=m,x8(m,d,this.latestValues,U,R,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(No(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Cn.update(()=>{Cx.hasAnimatedSinceResize=!0,this.currentAnimation=d8(0,h2,{...o,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(h2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:u,layout:d,latestValues:m}=o;if(!(!c||!u||!d)){if(this!==o&&this.layout&&d&&ZU(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||Hi();const g=ba(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+g;const y=ba(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+y}Lr(c,u),wp(c,m),x0(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new T8),this.sharedNodes.get(o).add(c);const d=c.options.initialPromotionConfig;c.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:c}=this.options;return c?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:c}=this.options;return c?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const d={};u.z&&ZS("z",o,d,this.animationValues);for(let m=0;m<JS.length;m++)ZS(`rotate${JS[m]}`,o,d,this.animationValues),ZS(`skew${JS[m]}`,o,d,this.animationValues);o.render();for(const m in d)o.setStaticValue(m,d[m]),this.animationValues&&(this.animationValues[m]=d[m]);o.scheduleRender()}getProjectionStyles(o){var c,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return w8;const d={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Ex(o==null?void 0:o.pointerEvents)||"",d.transform=m?m(this.latestValues,""):"none",d;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=Ex(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ph(this.latestValues)&&(T.transform=m?m({},""):"none",this.hasProjected=!1),T}const y=g.animationValues||g.latestValues;this.applyTransformsToTarget(),d.transform=C8(this.projectionDeltaWithTransform,this.treeScale,y),m&&(d.transform=m(y,d.transform));const{x:A,y:b}=this.projectionDelta;d.transformOrigin=`${A.origin*100}% ${b.origin*100}% 0`,g.animationValues?d.opacity=g===this?(u=(c=y.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:d.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const T in H0){if(y[T]===void 0)continue;const{correct:E,applyTo:S,isCSSVariable:R}=H0[T],B=d.transform==="none"?y[T]:E(y[T],g);if(S){const D=S.length;for(let U=0;U<D;U++)d[S[U]]=B}else R?this.options.visualElement.renderState.vars[T]=B:d[T]=B}return this.options.layoutId&&(d.pointerEvents=g===this?Ex(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var c;return(c=o.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(d2),this.root.sharedNodes.clear()}}}function B8(n){n.updateLayout()}function D8(n){var t;const e=((t=n.resumeFrom)===null||t===void 0?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=n.layout,{animationType:a}=n.options,o=e.source!==n.layout.source;a==="size"?Pr(g=>{const y=o?e.measuredBox[g]:e.layoutBox[g],A=ba(y);y.min=i[g].min,y.max=y.min+A}):ZU(a,e.layoutBox,i)&&Pr(g=>{const y=o?e.measuredBox[g]:e.layoutBox[g],A=ba(i[g]);y.max=y.min+A,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+A)});const c=Tp();x0(c,i,e.layoutBox);const u=Tp();o?x0(u,n.applyTransform(s,!0),e.measuredBox):x0(u,i,e.layoutBox);const d=!WU(c);let m=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:A}=g;if(y&&A){const b=Hi();A0(b,e.layoutBox,y.layoutBox);const T=Hi();A0(T,i,A.layoutBox),qU(b,T)||(m=!0),g.options.layoutRoot&&(n.relativeTarget=T,n.relativeTargetOrigin=b,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:u,layoutDelta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function L8(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function N8(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function U8(n){n.clearSnapshot()}function d2(n){n.clearMeasurements()}function O8(n){n.isLayoutDirty=!1}function P8(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function p2(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function I8(n){n.resolveTargetDelta()}function F8(n){n.calcProjection()}function z8(n){n.resetSkewAndRotation()}function H8(n){n.removeLeadSnapshot()}function m2(n,t,e){n.translate=_i(t.translate,0,e),n.scale=_i(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function g2(n,t,e,i){n.min=_i(t.min,e.min,i),n.max=_i(t.max,e.max,i)}function G8(n,t,e,i){g2(n.x,t.x,e.x,i),g2(n.y,t.y,e.y,i)}function V8(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const k8={duration:.45,ease:[.4,0,.1,1]},v2=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),y2=v2("applewebkit/")&&!v2("chrome/")?Math.round:sa;function x2(n){n.min=y2(n.min),n.max=y2(n.max)}function j8(n){x2(n.x),x2(n.y)}function ZU(n,t,e){return n==="position"||n==="preserve-aspect"&&!Y9(u2(t),u2(e),.2)}function X8(n){var t;return n!==n.root&&((t=n.scroll)===null||t===void 0?void 0:t.wasRoot)}const Y8=JU({attachResizeListener:(n,t)=>j0(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),QS={current:void 0},QU=JU({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!QS.current){const n=new Y8({});n.mount(window),n.setOptions({layoutScroll:!0}),QS.current=n}return QS.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),W8={pan:{Feature:c8},drag:{Feature:l8,ProjectionNode:QU,MeasureLayout:jU}};function $U(n,t,e){var i;if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const a=(i=void 0)!==null&&i!==void 0?i:s.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}function tO(n,t){const e=$U(n),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[e,s,()=>i.abort()]}function A2(n){return!(n.pointerType==="touch"||OU())}function q8(n,t,e={}){const[i,s,a]=tO(n,e),o=c=>{if(!A2(c))return;const{target:u}=c,d=t(u,c);if(typeof d!="function"||!u)return;const m=g=>{A2(g)&&(d(g),u.removeEventListener("pointerleave",m))};u.addEventListener("pointerleave",m,s)};return i.forEach(c=>{c.addEventListener("pointerenter",o,s)}),a}function _2(n,t,e){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",e==="Start");const s="onHover"+e,a=i[s];a&&Cn.postRender(()=>a(t,yv(t)))}let K8=class extends $u{mount(){const{current:t}=this.node;t&&(this.unmount=q8(t,(e,i)=>(_2(this.node,i,"Start"),s=>_2(this.node,s,"End"))))}unmount(){}},J8=class extends $u{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vv(j0(this.node.current,"focus",()=>this.onFocus()),j0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};const eO=(n,t)=>t?n===t?!0:eO(n,t.parentElement):!1,Z8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Q8(n){return Z8.has(n.tagName)||n.tabIndex!==-1}const f0=new WeakSet;function S2(n){return t=>{t.key==="Enter"&&n(t)}}function $S(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const $8=(n,t)=>{const e=n.currentTarget;if(!e)return;const i=S2(()=>{if(f0.has(e))return;$S(e,"down");const s=S2(()=>{$S(e,"up")}),a=()=>$S(e,"cancel");e.addEventListener("keyup",s,t),e.addEventListener("blur",a,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function b2(n){return LT(n)&&!OU()}function tH(n,t,e={}){const[i,s,a]=tO(n,e),o=c=>{const u=c.currentTarget;if(!u||!b2(c)||f0.has(u))return;f0.add(u),Qx(c,"set");const d=t(u,c),m=(A,b)=>{u.removeEventListener("pointerup",g),u.removeEventListener("pointercancel",y),Qx(A,"release"),!(!b2(A)||!f0.has(u))&&(f0.delete(u),typeof d=="function"&&d(A,{success:b}))},g=A=>{(A.isTrusted?eH(A,u instanceof Element?u.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?m(A,!1):m(A,!(u instanceof Element)||eO(u,A.target))},y=A=>{m(A,!1)};u.addEventListener("pointerup",g,s),u.addEventListener("pointercancel",y,s),u.addEventListener("lostpointercapture",y,s)};return i.forEach(c=>{c=e.useGlobalTarget?window:c;let u=!1;c instanceof HTMLElement&&(u=!0,!Q8(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0)),c.addEventListener("pointerdown",o,s),u&&c.addEventListener("focus",d=>$8(d,s),s)}),a}function eH(n,t){return n.clientX<t.left||n.clientX>t.right||n.clientY<t.top||n.clientY>t.bottom}function M2(n,t,e){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",e==="Start");const s="onTap"+(e==="End"?"":e),a=i[s];a&&Cn.postRender(()=>a(t,yv(t)))}let nH=class extends $u{mount(){const{current:t}=this.node;t&&(this.unmount=tH(t,(e,i)=>(M2(this.node,i,"Start"),(s,{success:a})=>M2(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}};const KM=new WeakMap,tb=new WeakMap,iH=n=>{const t=KM.get(n.target);t&&t(n)},sH=n=>{n.forEach(iH)};function aH({root:n,...t}){const e=n||document;tb.has(e)||tb.set(e,{});const i=tb.get(e),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(sH,{root:n,...t})),i[s]}function rH(n,t,e){const i=aH(t);return KM.set(n,e),i.observe(n),()=>{KM.delete(n),i.unobserve(n)}}const oH={some:0,all:1};let lH=class extends $u{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:s="some",once:a}=t,o={root:e?e.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:oH[s]},c=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),y=d?m:g;y&&y(u)};return rH(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(cH(t,e))&&this.startObserver()}unmount(){}};function cH({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const uH={inView:{Feature:lH},tap:{Feature:nH},focus:{Feature:J8},hover:{Feature:K8}},fH={layout:{ProjectionNode:QU,MeasureLayout:jU}},JM={current:null},nO={current:!1};function hH(){if(nO.current=!0,!!tT)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>JM.current=n.matches;n.addListener(t),t()}else JM.current=!1}const dH=[..._U,$s,Yu],pH=n=>dH.find(AU(n)),mH=new WeakMap;function gH(n,t,e){for(const i in t){const s=t[i],a=e[i];if(Es(s))n.addValue(i,s);else if(Es(a))n.addValue(i,Ml(s,{owner:n}));else if(a!==s)if(n.hasValue(i)){const o=n.getValue(i);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=n.getStaticValue(i);n.addValue(i,Ml(o!==void 0?o:s,{owner:n}))}}for(const i in e)t[i]===void 0&&n.removeValue(i);return t}const E2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let vH=class{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:a,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=Cl.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,Cn.render(this.render,!1,!0))};const{latestValues:u,renderState:d,onUpdate:m}=o;this.onUpdate=m,this.latestValues=u,this.baseTarget={...u},this.initialValues=e.initial?{...u}:{},this.renderState=d,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=a_(e),this.isVariantNode=UN(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(e,{},this);for(const A in y){const b=y[A];u[A]!==void 0&&Es(b)&&b.set(u[A],!1)}}mount(t){this.current=t,mH.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),nO.current||hH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:JM.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),No(this.notifyUpdate),No(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Kh.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Cn.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=e.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{s(),a(),o&&o(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in jp){const e=jp[t];if(!e)continue;const{isEnabled:i,Feature:s}=e;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Hi()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<E2.length;i++){const s=E2[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,o=t[a];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=gH(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=Ml(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){var i;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(i=this.getBaseTargetFromProps(this.props,t))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(yU(s)||cU(s))?s=parseFloat(s):!pH(s)&&Yu.test(e)&&(s=mU(t,e)),this.setBaseTarget(t,Es(s)?s.get():s)),Es(s)?s.get():s}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;const{initial:i}=this.props;let s;if(typeof i=="string"||typeof i=="object"){const o=dT(this.props,i,(e=this.presenceContext)===null||e===void 0?void 0:e.custom);o&&(s=o[t])}if(i&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Es(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new yT),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}},iO=class extends vH{constructor(){super(...arguments),this.KeyframeResolver=SU}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Es(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}};function yH(n){return window.getComputedStyle(n)}let xH=class extends iO{constructor(){super(...arguments),this.type="html",this.renderInstance=XN}readValueFromInstance(t,e){if(Kh.has(e)){const i=CT(e);return i&&i.default||0}else{const i=yH(t),s=(aT(e)?i.getPropertyValue(e):i[e])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:e}){return GU(t,e)}build(t,e,i){lT(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return pT(t,e,i)}},AH=class extends iO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Hi,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&jN(this.current,this.renderState)}}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Kh.has(e)){const i=CT(e);return i&&i.default||0}return e=YN.has(e)?e:iT(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return qN(t,e,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&Cn.postRender(this.updateDimensions)}build(t,e,i){fT(t,e,this.isSVGTag,i.transformTemplate)}renderInstance(t,e,i,s){WN(t,e,i,s)}mount(t){this.isSVGTag=hT(t.tagName),super.mount(t)}};const _H=(n,t)=>uT(n)?new AH(t):new xH(t,{allowProjection:n!==J.Fragment}),SH=qF({...I9,...uH,...W8,...fH},_H),Ai=uF(SH);function sO(n,t){let e;const i=()=>{const{currentTime:s}=t,o=(s===null?0:s.value)/100;e!==o&&n(o),e=o};return Cn.update(i,!0),()=>No(i)}const wx=new WeakMap;let Iu;function bH(n,t){if(t){const{inlineSize:e,blockSize:i}=t[0];return{width:e,height:i}}else return n instanceof SVGElement&&"getBBox"in n?n.getBBox():{width:n.offsetWidth,height:n.offsetHeight}}function MH({target:n,contentRect:t,borderBoxSize:e}){var i;(i=wx.get(n))===null||i===void 0||i.forEach(s=>{s({target:n,contentSize:t,get size(){return bH(n,e)}})})}function EH(n){n.forEach(MH)}function TH(){typeof ResizeObserver>"u"||(Iu=new ResizeObserver(EH))}function CH(n,t){Iu||TH();const e=$U(n);return e.forEach(i=>{let s=wx.get(i);s||(s=new Set,wx.set(i,s)),s.add(t),Iu==null||Iu.observe(i)}),()=>{e.forEach(i=>{const s=wx.get(i);s==null||s.delete(t),s!=null&&s.size||Iu==null||Iu.unobserve(i)})}}const Rx=new Set;let _0;function wH(){_0=()=>{const n={width:window.innerWidth,height:window.innerHeight},t={target:window,size:n,contentSize:n};Rx.forEach(e=>e(t))},window.addEventListener("resize",_0)}function RH(n){return Rx.add(n),_0||wH(),()=>{Rx.delete(n),!Rx.size&&_0&&(_0=void 0)}}function BH(n,t){return typeof n=="function"?RH(n):CH(n,t)}const DH=50,T2=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),LH=()=>({time:0,x:T2(),y:T2()}),NH={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function C2(n,t,e,i){const s=e[t],{length:a,position:o}=NH[t],c=s.current,u=e.time;s.current=n[`scroll${o}`],s.scrollLength=n[`scroll${a}`]-n[`client${a}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=Fh(0,s.scrollLength,s.current);const d=i-u;s.velocity=d>DH?0:xT(s.current-c,d)}function UH(n,t,e){C2(n,"x",t,e),C2(n,"y",t,e),t.time=e}function OH(n,t){const e={x:0,y:0};let i=n;for(;i&&i!==t;)if(i instanceof HTMLElement)e.x+=i.offsetLeft,e.y+=i.offsetTop,i=i.offsetParent;else if(i.tagName==="svg"){const s=i.getBoundingClientRect();i=i.parentElement;const a=i.getBoundingClientRect();e.x+=s.left-a.left,e.y+=s.top-a.top}else if(i instanceof SVGGraphicsElement){const{x:s,y:a}=i.getBBox();e.x+=s,e.y+=a;let o=null,c=i.parentNode;for(;!o;)c.tagName==="svg"&&(o=c),c=i.parentNode;i=o}else break;return e}const ZM={start:0,center:.5,end:1};function w2(n,t,e=0){let i=0;if(n in ZM&&(n=ZM[n]),typeof n=="string"){const s=parseFloat(n);n.endsWith("px")?i=s:n.endsWith("%")?n=s/100:n.endsWith("vw")?i=s/100*document.documentElement.clientWidth:n.endsWith("vh")?i=s/100*document.documentElement.clientHeight:n=s}return typeof n=="number"&&(i=t*n),e+i}const PH=[0,0];function IH(n,t,e,i){let s=Array.isArray(n)?n:PH,a=0,o=0;return typeof n=="number"?s=[n,n]:typeof n=="string"&&(n=n.trim(),n.includes(" ")?s=n.split(" "):s=[n,ZM[n]?n:"0"]),a=w2(s[0],e,i),o=w2(s[1],t),a-o}const FH={All:[[0,0],[1,1]]},zH={x:0,y:0};function HH(n){return"getBBox"in n&&n.tagName!=="svg"?n.getBBox():{width:n.clientWidth,height:n.clientHeight}}function GH(n,t,e){const{offset:i=FH.All}=e,{target:s=n,axis:a="y"}=e,o=a==="y"?"height":"width",c=s!==n?OH(s,n):zH,u=s===n?{width:n.scrollWidth,height:n.scrollHeight}:HH(s),d={width:n.clientWidth,height:n.clientHeight};t[a].offset.length=0;let m=!t[a].interpolate;const g=i.length;for(let y=0;y<g;y++){const A=IH(i[y],d[o],u[o],c[a]);!m&&A!==t[a].interpolatorOffsets[y]&&(m=!0),t[a].offset[y]=A}m&&(t[a].interpolate=BT(t[a].offset,BU(i),{clamp:!1}),t[a].interpolatorOffsets=[...t[a].offset]),t[a].progress=Ul(0,1,t[a].interpolate(t[a].current))}function VH(n,t=n,e){if(e.x.targetOffset=0,e.y.targetOffset=0,t!==n){let i=t;for(;i&&i!==n;)e.x.targetOffset+=i.offsetLeft,e.y.targetOffset+=i.offsetTop,i=i.offsetParent}e.x.targetLength=t===n?t.scrollWidth:t.clientWidth,e.y.targetLength=t===n?t.scrollHeight:t.clientHeight,e.x.containerLength=n.clientWidth,e.y.containerLength=n.clientHeight}function kH(n,t,e,i={}){return{measure:()=>VH(n,i.target,e),update:s=>{UH(n,e,s),(i.offset||i.target)&&GH(n,e,i)},notify:()=>t(e)}}const Hg=new WeakMap,R2=new WeakMap,eb=new WeakMap,B2=n=>n===document.documentElement?window:n;function NT(n,{container:t=document.documentElement,...e}={}){let i=eb.get(t);i||(i=new Set,eb.set(t,i));const s=LH(),a=kH(t,n,s,e);if(i.add(a),!Hg.has(t)){const c=()=>{for(const y of i)y.measure()},u=()=>{for(const y of i)y.update(Ss.timestamp)},d=()=>{for(const y of i)y.notify()},m=()=>{Cn.read(c,!1,!0),Cn.read(u,!1,!0),Cn.update(d,!1,!0)};Hg.set(t,m);const g=B2(t);window.addEventListener("resize",m,{passive:!0}),t!==document.documentElement&&R2.set(t,BH(t,m)),g.addEventListener("scroll",m,{passive:!0})}const o=Hg.get(t);return Cn.read(o,!1,!0),()=>{var c;No(o);const u=eb.get(t);if(!u||(u.delete(a),u.size))return;const d=Hg.get(t);Hg.delete(t),d&&(B2(t).removeEventListener("scroll",d),(c=R2.get(t))===null||c===void 0||c(),window.removeEventListener("resize",d))}}function jH({source:n,container:t,axis:e="y"}){n&&(t=n);const i={value:0},s=NT(a=>{i.value=a[e].progress*100},{container:t,axis:e});return{currentTime:i,cancel:s}}const nb=new Map;function aO({source:n,container:t=document.documentElement,axis:e="y"}={}){n&&(t=n),nb.has(t)||nb.set(t,{});const i=nb.get(t);return i[e]||(i[e]=ZN()?new ScrollTimeline({source:t,axis:e}):jH({source:t,axis:e})),i[e]}function XH(n){return n.length===2}function rO(n){return n&&(n.target||n.offset)}function YH(n,t){return XH(n)||rO(t)?NT(e=>{n(e[t.axis].progress,e)},t):sO(n,aO(t))}function WH(n,t){if(n.flatten(),rO(t))return n.pause(),NT(e=>{n.time=n.duration*e[t.axis].progress},t);{const e=aO(t);return n.attachTimeline?n.attachTimeline(e,i=>(i.pause(),sO(s=>{i.time=i.duration*s},e))):sa}}function qH(n,{axis:t="y",...e}={}){const i={axis:t,...e};return typeof n=="function"?YH(n,i):WH(n,i)}function D2(n,t){nF(!!(!t||t.current))}const KH=()=>({scrollX:Ml(0),scrollY:Ml(0),scrollXProgress:Ml(0),scrollYProgress:Ml(0)});function JH({container:n,target:t,layoutEffect:e=!0,...i}={}){const s=Xu(KH);return(e?pv:J.useEffect)(()=>(D2("target",t),D2("container",n),qH((o,{x:c,y:u})=>{s.scrollX.set(c.current),s.scrollXProgress.set(c.progress),s.scrollY.set(u.current),s.scrollYProgress.set(u.progress)},{...i,container:(n==null?void 0:n.current)||void 0,target:(t==null?void 0:t.current)||void 0})),[n,t,JSON.stringify(i.offset)]),s}function Yp(n){const t=Xu(()=>Ml(n)),{isStatic:e}=J.useContext(dv);if(e){const[,i]=J.useState(n);J.useEffect(()=>t.on("change",i),[])}return t}function oO(n,t){const e=Yp(t()),i=()=>e.set(t());return i(),pv(()=>{const s=()=>Cn.preRender(i,!1,!0),a=n.map(o=>o.on("change",s));return()=>{a.forEach(o=>o()),No(i)}}),e}function X0(n,t={}){const{isStatic:e}=J.useContext(dv),i=J.useRef(null),s=Xu(()=>Es(n)?n.get():n),a=Xu(()=>typeof s=="string"?s.replace(/[\d.-]/g,""):void 0),o=Yp(s),c=J.useRef(s),u=J.useRef(sa),d=()=>{m(),i.current=u9({keyframes:[N2(o.get()),N2(c.current)],velocity:o.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...t,onUpdate:u.current})},m=()=>{i.current&&i.current.stop()};return J.useInsertionEffect(()=>o.attach((g,y)=>e?y(g):(c.current=g,u.current=A=>y(L2(A,a)),Cn.postRender(d),o.get()),m),[JSON.stringify(t)]),pv(()=>{if(Es(n))return n.on("change",g=>o.set(L2(g,a)))},[o,a]),o}function L2(n,t){return t?n+t:n}function N2(n){return typeof n=="number"?n:parseFloat(n)}const ZH=n=>n&&typeof n=="object"&&n.mix,QH=n=>ZH(n)?n.mix:void 0;function $H(...n){const t=!Array.isArray(n[0]),e=t?0:-1,i=n[0+e],s=n[1+e],a=n[2+e],o=n[3+e],c=BT(s,a,{mixer:QH(a[0]),...o});return t?c(i):c}function tG(n){v0.current=[],n();const t=oO(v0.current,n);return v0.current=void 0,t}function A1(n,t,e,i){if(typeof n=="function")return tG(n);const s=typeof t=="function"?t:$H(t,e,i);return Array.isArray(n)?U2(n,s):U2([n],([a])=>s(a))}function U2(n,t){const e=Xu(()=>[]);return oO(n,()=>{e.length=0;const i=n.length;for(let s=0;s<i;s++)e[s]=n[s].get();return t(e)})}function O2(){return G.jsxs("ul",{className:"nav-ul",children:[G.jsx("li",{className:"nav-li",children:G.jsx("a",{className:"nav-link",href:"#home",children:"Home"})}),G.jsx("li",{className:"nav-li",children:G.jsx("a",{className:"nav-link",href:"#about",children:"About"})}),G.jsx("li",{className:"nav-li",children:G.jsx("a",{className:"nav-link",href:"#work",children:"Work"})}),G.jsx("li",{className:"nav-li",children:G.jsx("a",{className:"nav-link",href:"#contact",children:"Contact"})})]})}const eG=()=>{const[n,t]=J.useState(!1);return G.jsxs("div",{className:"fixed inset-x-0 z-20 w-full backdrop-blur-lg bg-primary/40",children:[G.jsx("div",{className:"mx-auto c-space max-w-7xl",children:G.jsxs("div",{className:"flex items-center justify-between py-2 sm:py-0",children:[G.jsx("a",{href:"/",className:"text-xl font-bold transition-colors text-neutral-400 hover:text-white",children:"Abhijay."}),G.jsx("button",{onClick:()=>t(!n),className:"flex cursor-pointer text-neutral-400 hover:text-white focus:outline-none sm:hidden",children:G.jsx("img",{src:n?"assets/close.svg":"assets/menu.svg",className:"w-6 h-6",alt:"toggle"})}),G.jsx("nav",{className:"hidden sm:flex",children:G.jsx(O2,{})})]})}),n&&G.jsx(Ai.div,{className:"block overflow-hidden text-center sm:hidden",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},style:{maxHeight:"100vh"},transition:{duration:1},children:G.jsx("nav",{className:"pb-5",children:G.jsx(O2,{})})})]})};/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const xv="173",nG={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},iG={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},lO=0,QM=1,cO=2,sG=3,uO=0,l_=1,S0=2,Ro=3,Ol=0,Ea=1,zr=2,Dc=0,Dh=1,$M=2,tE=3,eE=4,fO=5,Vu=100,hO=101,dO=102,pO=103,mO=104,gO=200,vO=201,yO=202,xO=203,$x=204,tA=205,AO=206,_O=207,SO=208,bO=209,MO=210,EO=211,TO=212,CO=213,wO=214,eA=0,nA=1,iA=2,zh=3,sA=4,aA=5,rA=6,oA=7,Av=0,RO=1,BO=2,wl=0,DO=1,LO=2,NO=3,UT=4,UO=5,OO=6,PO=7,nE="attached",IO="detached",c_=300,Pc=301,Wu=302,Y0=303,W0=304,hm=306,qu=1e3,hr=1001,Wp=1002,Ts=1003,u_=1004,aG=1004,_h=1005,rG=1005,ki=1006,Hp=1007,oG=1007,Hr=1008,lG=1008,Uo=1009,OT=1010,PT=1011,qp=1012,f_=1013,Ic=1014,Xa=1015,dm=1016,h_=1017,d_=1018,Hh=1020,IT=35902,FT=1021,zT=1022,na=1023,HT=1024,GT=1025,Lh=1026,Gh=1027,p_=1028,_v=1029,VT=1030,m_=1031,cG=1032,g_=1033,b0=33776,M0=33777,E0=33778,T0=33779,lA=35840,cA=35841,uA=35842,fA=35843,hA=36196,dA=37492,pA=37496,mA=37808,gA=37809,vA=37810,yA=37811,xA=37812,AA=37813,_A=37814,SA=37815,bA=37816,MA=37817,EA=37818,TA=37819,CA=37820,wA=37821,C0=36492,RA=36494,BA=36495,kT=36283,DA=36284,LA=36285,NA=36286,FO=2200,zO=2201,HO=2202,Kp=2300,Jp=2301,Bx=2302,Sh=2400,bh=2401,q0=2402,v_=2500,jT=2501,GO=0,XT=1,UA=2,VO=3200,kO=3201,uG=3202,fG=3203,tf=0,jO=1,Ec="",ea="srgb",Ku="srgb-linear",K0="linear",jn="srgb",hG=0,mh=7680,dG=7681,pG=7682,mG=7683,gG=34055,vG=34056,yG=5386,xG=512,AG=513,_G=514,SG=515,bG=516,MG=517,EG=518,iE=519,XO=512,YO=513,WO=514,YT=515,qO=516,KO=517,JO=518,ZO=519,J0=35044,TG=35048,CG=35040,wG=35045,RG=35049,BG=35041,DG=35046,LG=35050,NG=35042,UG="100",sE="300 es",Do=2e3,Z0=2001,OG={COMPUTE:"compute",RENDER:"render"};class Fl{addEventListener(t,e){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[t]===void 0&&(i[t]=[]),i[t].indexOf(e)===-1&&i[t].push(e)}hasEventListener(t,e){const i=this._listeners;return i===void 0?!1:i[t]!==void 0&&i[t].indexOf(e)!==-1}removeEventListener(t,e){const i=this._listeners;if(i===void 0)return;const s=i[t];if(s!==void 0){const a=s.indexOf(e);a!==-1&&s.splice(a,1)}}dispatchEvent(t){const e=this._listeners;if(e===void 0)return;const i=e[t.type];if(i!==void 0){t.target=this;const s=i.slice(0);for(let a=0,o=s.length;a<o;a++)s[a].call(this,t);t.target=null}}}const Js=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let P2=1234567;const Nh=Math.PI/180,Zp=180/Math.PI;function pr(){const n=Math.random()*4294967295|0,t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Js[n&255]+Js[n>>8&255]+Js[n>>16&255]+Js[n>>24&255]+"-"+Js[t&255]+Js[t>>8&255]+"-"+Js[t>>16&15|64]+Js[t>>24&255]+"-"+Js[e&63|128]+Js[e>>8&255]+"-"+Js[e>>16&255]+Js[e>>24&255]+Js[i&255]+Js[i>>8&255]+Js[i>>16&255]+Js[i>>24&255]).toLowerCase()}function Xe(n,t,e){return Math.max(t,Math.min(e,n))}function WT(n,t){return(n%t+t)%t}function PG(n,t,e,i,s){return i+(n-t)*(s-i)/(e-t)}function IG(n,t,e){return n!==t?(e-n)/(t-n):0}function w0(n,t,e){return(1-e)*n+e*t}function FG(n,t,e,i){return w0(n,t,1-Math.exp(-e*i))}function zG(n,t=1){return t-Math.abs(WT(n,t*2)-t)}function HG(n,t,e){return n<=t?0:n>=e?1:(n=(n-t)/(e-t),n*n*(3-2*n))}function GG(n,t,e){return n<=t?0:n>=e?1:(n=(n-t)/(e-t),n*n*n*(n*(n*6-15)+10))}function VG(n,t){return n+Math.floor(Math.random()*(t-n+1))}function kG(n,t){return n+Math.random()*(t-n)}function jG(n){return n*(.5-Math.random())}function XG(n){n!==void 0&&(P2=n);let t=P2+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function YG(n){return n*Nh}function WG(n){return n*Zp}function qG(n){return(n&n-1)===0&&n!==0}function KG(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function JG(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function ZG(n,t,e,i,s){const a=Math.cos,o=Math.sin,c=a(e/2),u=o(e/2),d=a((t+i)/2),m=o((t+i)/2),g=a((t-i)/2),y=o((t-i)/2),A=a((i-t)/2),b=o((i-t)/2);switch(s){case"XYX":n.set(c*m,u*g,u*y,c*d);break;case"YZY":n.set(u*y,c*m,u*g,c*d);break;case"ZXZ":n.set(u*g,u*y,c*m,c*d);break;case"XZX":n.set(c*m,u*b,u*A,c*d);break;case"YXY":n.set(u*A,c*m,u*b,c*d);break;case"ZYZ":n.set(u*b,u*A,c*m,c*d);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}}function Sa(n,t){switch(t.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function qe(n,t){switch(t.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const qT={DEG2RAD:Nh,RAD2DEG:Zp,generateUUID:pr,clamp:Xe,euclideanModulo:WT,mapLinear:PG,inverseLerp:IG,lerp:w0,damp:FG,pingpong:zG,smoothstep:HG,smootherstep:GG,randInt:VG,randFloat:kG,randFloatSpread:jG,seededRandom:XG,degToRad:YG,radToDeg:WG,isPowerOfTwo:qG,ceilPowerOfTwo:KG,floorPowerOfTwo:JG,setQuaternionFromProperEuler:ZG,normalize:qe,denormalize:Sa};class Ft{constructor(t=0,e=0){Ft.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,i=this.y,s=t.elements;return this.x=s[0]*e+s[3]*i+s[6],this.y=s[1]*e+s[4]*i+s[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Xe(this.x,t.x,e.x),this.y=Xe(this.y,t.y,e.y),this}clampScalar(t,e){return this.x=Xe(this.x,t,e),this.y=Xe(this.y,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Xe(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(Xe(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y;return e*e+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const i=Math.cos(e),s=Math.sin(e),a=this.x-t.x,o=this.y-t.y;return this.x=a*i-o*s+t.x,this.y=a*s+o*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ye{constructor(t,e,i,s,a,o,c,u,d){Ye.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],t!==void 0&&this.set(t,e,i,s,a,o,c,u,d)}set(t,e,i,s,a,o,c,u,d){const m=this.elements;return m[0]=t,m[1]=s,m[2]=c,m[3]=e,m[4]=a,m[5]=u,m[6]=i,m[7]=o,m[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this}extractBasis(t,e,i){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,s=e.elements,a=this.elements,o=i[0],c=i[3],u=i[6],d=i[1],m=i[4],g=i[7],y=i[2],A=i[5],b=i[8],T=s[0],E=s[3],S=s[6],R=s[1],B=s[4],D=s[7],U=s[2],N=s[5],F=s[8];return a[0]=o*T+c*R+u*U,a[3]=o*E+c*B+u*N,a[6]=o*S+c*D+u*F,a[1]=d*T+m*R+g*U,a[4]=d*E+m*B+g*N,a[7]=d*S+m*D+g*F,a[2]=y*T+A*R+b*U,a[5]=y*E+A*B+b*N,a[8]=y*S+A*D+b*F,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[1],s=t[2],a=t[3],o=t[4],c=t[5],u=t[6],d=t[7],m=t[8];return e*o*m-e*c*d-i*a*m+i*c*u+s*a*d-s*o*u}invert(){const t=this.elements,e=t[0],i=t[1],s=t[2],a=t[3],o=t[4],c=t[5],u=t[6],d=t[7],m=t[8],g=m*o-c*d,y=c*u-m*a,A=d*a-o*u,b=e*g+i*y+s*A;if(b===0)return this.set(0,0,0,0,0,0,0,0,0);const T=1/b;return t[0]=g*T,t[1]=(s*d-m*i)*T,t[2]=(c*i-s*o)*T,t[3]=y*T,t[4]=(m*e-s*u)*T,t[5]=(s*a-c*e)*T,t[6]=A*T,t[7]=(i*u-d*e)*T,t[8]=(o*e-i*a)*T,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,i,s,a,o,c){const u=Math.cos(a),d=Math.sin(a);return this.set(i*u,i*d,-i*(u*o+d*c)+o+t,-s*d,s*u,-s*(-d*o+u*c)+c+e,0,0,1),this}scale(t,e){return this.premultiply(ib.makeScale(t,e)),this}rotate(t){return this.premultiply(ib.makeRotation(-t)),this}translate(t,e){return this.premultiply(ib.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,i,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,i=t.elements;for(let s=0;s<9;s++)if(e[s]!==i[s])return!1;return!0}fromArray(t,e=0){for(let i=0;i<9;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}clone(){return new this.constructor().fromArray(this.elements)}}const ib=new Ye;function QO(n){for(let t=n.length-1;t>=0;--t)if(n[t]>=65535)return!0;return!1}const QG={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Rp(n,t){return new QG[n](t)}function Q0(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function $O(){const n=Q0("canvas");return n.style.display="block",n}const I2={};function Sp(n){n in I2||(I2[n]=!0,console.warn(n))}function $G(n,t,e){return new Promise(function(i,s){function a(){switch(n.clientWaitSync(t,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:s();break;case n.TIMEOUT_EXPIRED:setTimeout(a,e);break;default:i()}}setTimeout(a,e)})}function t7(n){const t=n.elements;t[2]=.5*t[2]+.5*t[3],t[6]=.5*t[6]+.5*t[7],t[10]=.5*t[10]+.5*t[11],t[14]=.5*t[14]+.5*t[15]}function e7(n){const t=n.elements;t[11]===-1?(t[10]=-t[10]-1,t[14]=-t[14]):(t[10]=-t[10],t[14]=-t[14]+1)}const F2=new Ye().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),z2=new Ye().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function n7(){const n={enabled:!0,workingColorSpace:Ku,spaces:{},convert:function(s,a,o){return this.enabled===!1||a===o||!a||!o||(this.spaces[a].transfer===jn&&(s.r=Lc(s.r),s.g=Lc(s.g),s.b=Lc(s.b)),this.spaces[a].primaries!==this.spaces[o].primaries&&(s.applyMatrix3(this.spaces[a].toXYZ),s.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===jn&&(s.r=Gp(s.r),s.g=Gp(s.g),s.b=Gp(s.b))),s},fromWorkingColorSpace:function(s,a){return this.convert(s,this.workingColorSpace,a)},toWorkingColorSpace:function(s,a){return this.convert(s,a,this.workingColorSpace)},getPrimaries:function(s){return this.spaces[s].primaries},getTransfer:function(s){return s===Ec?K0:this.spaces[s].transfer},getLuminanceCoefficients:function(s,a=this.workingColorSpace){return s.fromArray(this.spaces[a].luminanceCoefficients)},define:function(s){Object.assign(this.spaces,s)},_getMatrix:function(s,a,o){return s.copy(this.spaces[a].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(s){return this.spaces[s].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(s=this.workingColorSpace){return this.spaces[s].workingColorSpaceConfig.unpackColorSpace}},t=[.64,.33,.3,.6,.15,.06],e=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[Ku]:{primaries:t,whitePoint:i,transfer:K0,toXYZ:F2,fromXYZ:z2,luminanceCoefficients:e,workingColorSpaceConfig:{unpackColorSpace:ea},outputColorSpaceConfig:{drawingBufferColorSpace:ea}},[ea]:{primaries:t,whitePoint:i,transfer:jn,toXYZ:F2,fromXYZ:z2,luminanceCoefficients:e,outputColorSpaceConfig:{drawingBufferColorSpace:ea}}}),n}const Sn=n7();function Lc(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Gp(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Zd;class tP{static getDataURL(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{Zd===void 0&&(Zd=Q0("canvas")),Zd.width=t.width,Zd.height=t.height;const i=Zd.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),e=Zd}return e.toDataURL("image/png")}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const e=Q0("canvas");e.width=t.width,e.height=t.height;const i=e.getContext("2d");i.drawImage(t,0,0,t.width,t.height);const s=i.getImageData(0,0,t.width,t.height),a=s.data;for(let o=0;o<a.length;o++)a[o]=Lc(a[o]/255)*255;return i.putImageData(s,0,0),e}else if(t.data){const e=t.data.slice(0);for(let i=0;i<e.length;i++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[i]=Math.floor(Lc(e[i]/255)*255):e[i]=Lc(e[i]);return{data:e,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let i7=0;class Mh{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:i7++}),this.uuid=pr(),this.data=t,this.dataReady=!0,this.version=0}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const i={uuid:this.uuid,url:""},s=this.data;if(s!==null){let a;if(Array.isArray(s)){a=[];for(let o=0,c=s.length;o<c;o++)s[o].isDataTexture?a.push(sb(s[o].image)):a.push(sb(s[o]))}else a=sb(s);i.url=a}return e||(t.images[this.uuid]=i),i}}function sb(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?tP.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let s7=0;class ui extends Fl{constructor(t=ui.DEFAULT_IMAGE,e=ui.DEFAULT_MAPPING,i=hr,s=hr,a=ki,o=Hr,c=na,u=Uo,d=ui.DEFAULT_ANISOTROPY,m=Ec){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:s7++}),this.uuid=pr(),this.name="",this.source=new Mh(t),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=i,this.wrapT=s,this.magFilter=a,this.minFilter=o,this.anisotropy=d,this.format=c,this.internalFormat=null,this.type=u,this.offset=new Ft(0,0),this.repeat=new Ft(1,1),this.center=new Ft(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ye,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.renderTarget=t.renderTarget,this.isRenderTargetTexture=t.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),e||(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==c_)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case qu:t.x=t.x-Math.floor(t.x);break;case hr:t.x=t.x<0?0:1;break;case Wp:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case qu:t.y=t.y-Math.floor(t.y);break;case hr:t.y=t.y<0?0:1;break;case Wp:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){t===!0&&this.pmremVersion++}}ui.DEFAULT_IMAGE=null;ui.DEFAULT_MAPPING=c_;ui.DEFAULT_ANISOTROPY=1;class mn{constructor(t=0,e=0,i=0,s=1){mn.prototype.isVector4=!0,this.x=t,this.y=e,this.z=i,this.w=s}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,i,s){return this.x=t,this.y=e,this.z=i,this.w=s,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,i=this.y,s=this.z,a=this.w,o=t.elements;return this.x=o[0]*e+o[4]*i+o[8]*s+o[12]*a,this.y=o[1]*e+o[5]*i+o[9]*s+o[13]*a,this.z=o[2]*e+o[6]*i+o[10]*s+o[14]*a,this.w=o[3]*e+o[7]*i+o[11]*s+o[15]*a,this}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this.w/=t.w,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,i,s,a;const u=t.elements,d=u[0],m=u[4],g=u[8],y=u[1],A=u[5],b=u[9],T=u[2],E=u[6],S=u[10];if(Math.abs(m-y)<.01&&Math.abs(g-T)<.01&&Math.abs(b-E)<.01){if(Math.abs(m+y)<.1&&Math.abs(g+T)<.1&&Math.abs(b+E)<.1&&Math.abs(d+A+S-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const B=(d+1)/2,D=(A+1)/2,U=(S+1)/2,N=(m+y)/4,F=(g+T)/4,z=(b+E)/4;return B>D&&B>U?B<.01?(i=0,s=.707106781,a=.707106781):(i=Math.sqrt(B),s=N/i,a=F/i):D>U?D<.01?(i=.707106781,s=0,a=.707106781):(s=Math.sqrt(D),i=N/s,a=z/s):U<.01?(i=.707106781,s=.707106781,a=0):(a=Math.sqrt(U),i=F/a,s=z/a),this.set(i,s,a,e),this}let R=Math.sqrt((E-b)*(E-b)+(g-T)*(g-T)+(y-m)*(y-m));return Math.abs(R)<.001&&(R=1),this.x=(E-b)/R,this.y=(g-T)/R,this.z=(y-m)/R,this.w=Math.acos((d+A+S-1)/2),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this.w=e[15],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Xe(this.x,t.x,e.x),this.y=Xe(this.y,t.y,e.y),this.z=Xe(this.z,t.z,e.z),this.w=Xe(this.w,t.w,e.w),this}clampScalar(t,e){return this.x=Xe(this.x,t,e),this.y=Xe(this.y,t,e),this.z=Xe(this.z,t,e),this.w=Xe(this.w,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Xe(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this.w=t.w+(e.w-t.w)*i,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class y_ extends Fl{constructor(t=1,e=1,i={}){super(),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=1,this.scissor=new mn(0,0,t,e),this.scissorTest=!1,this.viewport=new mn(0,0,t,e);const s={width:t,height:e,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ki,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const a=new ui(s,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);a.flipY=!1,a.generateMipmaps=i.generateMipmaps,a.internalFormat=i.internalFormat,this.textures=[];const o=i.count;for(let c=0;c<o;c++)this.textures[c]=a.clone(),this.textures[c].isRenderTargetTexture=!0,this.textures[c].renderTarget=this;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(t){this.textures[0]=t}set depthTexture(t){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),t!==null&&(t.renderTarget=this),this._depthTexture=t}get depthTexture(){return this._depthTexture}setSize(t,e,i=1){if(this.width!==t||this.height!==e||this.depth!==i){this.width=t,this.height=e,this.depth=i;for(let s=0,a=this.textures.length;s<a;s++)this.textures[s].image.width=t,this.textures[s].image.height=e,this.textures[s].image.depth=i;this.dispose()}this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.textures.length=0;for(let i=0,s=t.textures.length;i<s;i++)this.textures[i]=t.textures[i].clone(),this.textures[i].isRenderTargetTexture=!0,this.textures[i].renderTarget=this;const e=Object.assign({},t.texture.image);return this.texture.source=new Mh(e),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.resolveDepthBuffer=t.resolveDepthBuffer,this.resolveStencilBuffer=t.resolveStencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Pl extends y_{constructor(t=1,e=1,i={}){super(t,e,i),this.isWebGLRenderTarget=!0}}class Sv extends ui{constructor(t=null,e=1,i=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:i,depth:s},this.magFilter=Ts,this.minFilter=Ts,this.wrapR=hr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class a7 extends Pl{constructor(t=1,e=1,i=1,s={}){super(t,e,s),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new Sv(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class x_ extends ui{constructor(t=null,e=1,i=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:i,depth:s},this.magFilter=Ts,this.minFilter=Ts,this.wrapR=hr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class r7 extends Pl{constructor(t=1,e=1,i=1,s={}){super(t,e,s),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new x_(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class Xi{constructor(t=0,e=0,i=0,s=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=i,this._w=s}static slerpFlat(t,e,i,s,a,o,c){let u=i[s+0],d=i[s+1],m=i[s+2],g=i[s+3];const y=a[o+0],A=a[o+1],b=a[o+2],T=a[o+3];if(c===0){t[e+0]=u,t[e+1]=d,t[e+2]=m,t[e+3]=g;return}if(c===1){t[e+0]=y,t[e+1]=A,t[e+2]=b,t[e+3]=T;return}if(g!==T||u!==y||d!==A||m!==b){let E=1-c;const S=u*y+d*A+m*b+g*T,R=S>=0?1:-1,B=1-S*S;if(B>Number.EPSILON){const U=Math.sqrt(B),N=Math.atan2(U,S*R);E=Math.sin(E*N)/U,c=Math.sin(c*N)/U}const D=c*R;if(u=u*E+y*D,d=d*E+A*D,m=m*E+b*D,g=g*E+T*D,E===1-c){const U=1/Math.sqrt(u*u+d*d+m*m+g*g);u*=U,d*=U,m*=U,g*=U}}t[e]=u,t[e+1]=d,t[e+2]=m,t[e+3]=g}static multiplyQuaternionsFlat(t,e,i,s,a,o){const c=i[s],u=i[s+1],d=i[s+2],m=i[s+3],g=a[o],y=a[o+1],A=a[o+2],b=a[o+3];return t[e]=c*b+m*g+u*A-d*y,t[e+1]=u*b+m*y+d*g-c*A,t[e+2]=d*b+m*A+c*y-u*g,t[e+3]=m*b-c*g-u*y-d*A,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,i,s){return this._x=t,this._y=e,this._z=i,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e=!0){const i=t._x,s=t._y,a=t._z,o=t._order,c=Math.cos,u=Math.sin,d=c(i/2),m=c(s/2),g=c(a/2),y=u(i/2),A=u(s/2),b=u(a/2);switch(o){case"XYZ":this._x=y*m*g+d*A*b,this._y=d*A*g-y*m*b,this._z=d*m*b+y*A*g,this._w=d*m*g-y*A*b;break;case"YXZ":this._x=y*m*g+d*A*b,this._y=d*A*g-y*m*b,this._z=d*m*b-y*A*g,this._w=d*m*g+y*A*b;break;case"ZXY":this._x=y*m*g-d*A*b,this._y=d*A*g+y*m*b,this._z=d*m*b+y*A*g,this._w=d*m*g-y*A*b;break;case"ZYX":this._x=y*m*g-d*A*b,this._y=d*A*g+y*m*b,this._z=d*m*b-y*A*g,this._w=d*m*g+y*A*b;break;case"YZX":this._x=y*m*g+d*A*b,this._y=d*A*g+y*m*b,this._z=d*m*b-y*A*g,this._w=d*m*g-y*A*b;break;case"XZY":this._x=y*m*g-d*A*b,this._y=d*A*g-y*m*b,this._z=d*m*b+y*A*g,this._w=d*m*g+y*A*b;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return e===!0&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const i=e/2,s=Math.sin(i);return this._x=t.x*s,this._y=t.y*s,this._z=t.z*s,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,i=e[0],s=e[4],a=e[8],o=e[1],c=e[5],u=e[9],d=e[2],m=e[6],g=e[10],y=i+c+g;if(y>0){const A=.5/Math.sqrt(y+1);this._w=.25/A,this._x=(m-u)*A,this._y=(a-d)*A,this._z=(o-s)*A}else if(i>c&&i>g){const A=2*Math.sqrt(1+i-c-g);this._w=(m-u)/A,this._x=.25*A,this._y=(s+o)/A,this._z=(a+d)/A}else if(c>g){const A=2*Math.sqrt(1+c-i-g);this._w=(a-d)/A,this._x=(s+o)/A,this._y=.25*A,this._z=(u+m)/A}else{const A=2*Math.sqrt(1+g-i-c);this._w=(o-s)/A,this._x=(a+d)/A,this._y=(u+m)/A,this._z=.25*A}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let i=t.dot(e)+1;return i<Number.EPSILON?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Xe(this.dot(t),-1,1)))}rotateTowards(t,e){const i=this.angleTo(t);if(i===0)return this;const s=Math.min(1,e/i);return this.slerp(t,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const i=t._x,s=t._y,a=t._z,o=t._w,c=e._x,u=e._y,d=e._z,m=e._w;return this._x=i*m+o*c+s*d-a*u,this._y=s*m+o*u+a*c-i*d,this._z=a*m+o*d+i*u-s*c,this._w=o*m-i*c-s*u-a*d,this._onChangeCallback(),this}slerp(t,e){if(e===0)return this;if(e===1)return this.copy(t);const i=this._x,s=this._y,a=this._z,o=this._w;let c=o*t._w+i*t._x+s*t._y+a*t._z;if(c<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,c=-c):this.copy(t),c>=1)return this._w=o,this._x=i,this._y=s,this._z=a,this;const u=1-c*c;if(u<=Number.EPSILON){const A=1-e;return this._w=A*o+e*this._w,this._x=A*i+e*this._x,this._y=A*s+e*this._y,this._z=A*a+e*this._z,this.normalize(),this}const d=Math.sqrt(u),m=Math.atan2(d,c),g=Math.sin((1-e)*m)/d,y=Math.sin(e*m)/d;return this._w=o*g+this._w*y,this._x=i*g+this._x*y,this._y=s*g+this._y*y,this._z=a*g+this._z*y,this._onChangeCallback(),this}slerpQuaternions(t,e,i){return this.copy(t).slerp(e,i)}random(){const t=2*Math.PI*Math.random(),e=2*Math.PI*Math.random(),i=Math.random(),s=Math.sqrt(1-i),a=Math.sqrt(i);return this.set(s*Math.sin(t),s*Math.cos(t),a*Math.sin(e),a*Math.cos(e))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class q{constructor(t=0,e=0,i=0){q.prototype.isVector3=!0,this.x=t,this.y=e,this.z=i}set(t,e,i){return i===void 0&&(i=this.z),this.x=t,this.y=e,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(H2.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(H2.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,i=this.y,s=this.z,a=t.elements;return this.x=a[0]*e+a[3]*i+a[6]*s,this.y=a[1]*e+a[4]*i+a[7]*s,this.z=a[2]*e+a[5]*i+a[8]*s,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,i=this.y,s=this.z,a=t.elements,o=1/(a[3]*e+a[7]*i+a[11]*s+a[15]);return this.x=(a[0]*e+a[4]*i+a[8]*s+a[12])*o,this.y=(a[1]*e+a[5]*i+a[9]*s+a[13])*o,this.z=(a[2]*e+a[6]*i+a[10]*s+a[14])*o,this}applyQuaternion(t){const e=this.x,i=this.y,s=this.z,a=t.x,o=t.y,c=t.z,u=t.w,d=2*(o*s-c*i),m=2*(c*e-a*s),g=2*(a*i-o*e);return this.x=e+u*d+o*g-c*m,this.y=i+u*m+c*d-a*g,this.z=s+u*g+a*m-o*d,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,i=this.y,s=this.z,a=t.elements;return this.x=a[0]*e+a[4]*i+a[8]*s,this.y=a[1]*e+a[5]*i+a[9]*s,this.z=a[2]*e+a[6]*i+a[10]*s,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Xe(this.x,t.x,e.x),this.y=Xe(this.y,t.y,e.y),this.z=Xe(this.z,t.z,e.z),this}clampScalar(t,e){return this.x=Xe(this.x,t,e),this.y=Xe(this.y,t,e),this.z=Xe(this.z,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Xe(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const i=t.x,s=t.y,a=t.z,o=e.x,c=e.y,u=e.z;return this.x=s*u-a*c,this.y=a*o-i*u,this.z=i*c-s*o,this}projectOnVector(t){const e=t.lengthSq();if(e===0)return this.set(0,0,0);const i=t.dot(this)/e;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return ab.copy(this).projectOnVector(t),this.sub(ab)}reflect(t){return this.sub(ab.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(Xe(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y,s=this.z-t.z;return e*e+i*i+s*s}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,i){const s=Math.sin(e)*t;return this.x=s*Math.sin(i),this.y=Math.cos(e)*t,this.z=s*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),s=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=s,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,e*4)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,e*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=Math.random()*Math.PI*2,e=Math.random()*2-1,i=Math.sqrt(1-e*e);return this.x=i*Math.cos(t),this.y=e,this.z=i*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const ab=new q,H2=new Xi;class aa{constructor(t=new q(1/0,1/0,1/0),e=new q(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e+=3)this.expandByPoint(bo.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,i=t.count;e<i;e++)this.expandByPoint(bo.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=bo.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const i=t.geometry;if(i!==void 0){const a=i.getAttribute("position");if(e===!0&&a!==void 0&&t.isInstancedMesh!==!0)for(let o=0,c=a.count;o<c;o++)t.isMesh===!0?t.getVertexPosition(o,bo):bo.fromBufferAttribute(a,o),bo.applyMatrix4(t.matrixWorld),this.expandByPoint(bo);else t.boundingBox!==void 0?(t.boundingBox===null&&t.computeBoundingBox(),_1.copy(t.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),_1.copy(i.boundingBox)),_1.applyMatrix4(t.matrixWorld),this.union(_1)}const s=t.children;for(let a=0,o=s.length;a<o;a++)this.expandByObject(s[a],e);return this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y&&t.z>=this.min.z&&t.z<=this.max.z}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y&&t.max.z>=this.min.z&&t.min.z<=this.max.z}intersectsSphere(t){return this.clampPoint(t.center,bo),bo.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(Gg),S1.subVectors(this.max,Gg),Qd.subVectors(t.a,Gg),$d.subVectors(t.b,Gg),tp.subVectors(t.c,Gg),Tu.subVectors($d,Qd),Cu.subVectors(tp,$d),Jf.subVectors(Qd,tp);let e=[0,-Tu.z,Tu.y,0,-Cu.z,Cu.y,0,-Jf.z,Jf.y,Tu.z,0,-Tu.x,Cu.z,0,-Cu.x,Jf.z,0,-Jf.x,-Tu.y,Tu.x,0,-Cu.y,Cu.x,0,-Jf.y,Jf.x,0];return!rb(e,Qd,$d,tp,S1)||(e=[1,0,0,0,1,0,0,0,1],!rb(e,Qd,$d,tp,S1))?!1:(b1.crossVectors(Tu,Cu),e=[b1.x,b1.y,b1.z],rb(e,Qd,$d,tp,S1))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,bo).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=this.getSize(bo).length()*.5),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(pc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),pc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),pc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),pc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),pc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),pc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),pc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),pc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(pc),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const pc=[new q,new q,new q,new q,new q,new q,new q,new q],bo=new q,_1=new aa,Qd=new q,$d=new q,tp=new q,Tu=new q,Cu=new q,Jf=new q,Gg=new q,S1=new q,b1=new q,Zf=new q;function rb(n,t,e,i,s){for(let a=0,o=n.length-3;a<=o;a+=3){Zf.fromArray(n,a);const c=s.x*Math.abs(Zf.x)+s.y*Math.abs(Zf.y)+s.z*Math.abs(Zf.z),u=t.dot(Zf),d=e.dot(Zf),m=i.dot(Zf);if(Math.max(-Math.max(u,d,m),Math.min(u,d,m))>c)return!1}return!0}const o7=new aa,Vg=new q,ob=new q;class Fs{constructor(t=new q,e=-1){this.isSphere=!0,this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const i=this.center;e!==void 0?i.copy(e):o7.setFromPoints(t).getCenter(i);let s=0;for(let a=0,o=t.length;a<o;a++)s=Math.max(s,i.distanceToSquared(t[a]));return this.radius=Math.sqrt(s),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const i=this.center.distanceToSquared(t);return e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;Vg.subVectors(t,this.center);const e=Vg.lengthSq();if(e>this.radius*this.radius){const i=Math.sqrt(e),s=(i-this.radius)*.5;this.center.addScaledVector(Vg,s/i),this.radius+=s}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(this.center.equals(t.center)===!0?this.radius=Math.max(this.radius,t.radius):(ob.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(Vg.copy(t.center).add(ob)),this.expandByPoint(Vg.copy(t.center).sub(ob))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}}const mc=new q,lb=new q,M1=new q,wu=new q,cb=new q,E1=new q,ub=new q;class pm{constructor(t=new q,e=new q(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,mc)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=mc.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(mc.copy(this.origin).addScaledVector(this.direction,e),mc.distanceToSquared(t))}distanceSqToSegment(t,e,i,s){lb.copy(t).add(e).multiplyScalar(.5),M1.copy(e).sub(t).normalize(),wu.copy(this.origin).sub(lb);const a=t.distanceTo(e)*.5,o=-this.direction.dot(M1),c=wu.dot(this.direction),u=-wu.dot(M1),d=wu.lengthSq(),m=Math.abs(1-o*o);let g,y,A,b;if(m>0)if(g=o*u-c,y=o*c-u,b=a*m,g>=0)if(y>=-b)if(y<=b){const T=1/m;g*=T,y*=T,A=g*(g+o*y+2*c)+y*(o*g+y+2*u)+d}else y=a,g=Math.max(0,-(o*y+c)),A=-g*g+y*(y+2*u)+d;else y=-a,g=Math.max(0,-(o*y+c)),A=-g*g+y*(y+2*u)+d;else y<=-b?(g=Math.max(0,-(-o*a+c)),y=g>0?-a:Math.min(Math.max(-a,-u),a),A=-g*g+y*(y+2*u)+d):y<=b?(g=0,y=Math.min(Math.max(-a,-u),a),A=y*(y+2*u)+d):(g=Math.max(0,-(o*a+c)),y=g>0?a:Math.min(Math.max(-a,-u),a),A=-g*g+y*(y+2*u)+d);else y=o>0?-a:a,g=Math.max(0,-(o*y+c)),A=-g*g+y*(y+2*u)+d;return i&&i.copy(this.origin).addScaledVector(this.direction,g),s&&s.copy(lb).addScaledVector(M1,y),A}intersectSphere(t,e){mc.subVectors(t.center,this.origin);const i=mc.dot(this.direction),s=mc.dot(mc)-i*i,a=t.radius*t.radius;if(s>a)return null;const o=Math.sqrt(a-s),c=i-o,u=i+o;return u<0?null:c<0?this.at(u,e):this.at(c,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(e===0)return t.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null}intersectPlane(t,e){const i=this.distanceToPlane(t);return i===null?null:this.at(i,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return e===0||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let i,s,a,o,c,u;const d=1/this.direction.x,m=1/this.direction.y,g=1/this.direction.z,y=this.origin;return d>=0?(i=(t.min.x-y.x)*d,s=(t.max.x-y.x)*d):(i=(t.max.x-y.x)*d,s=(t.min.x-y.x)*d),m>=0?(a=(t.min.y-y.y)*m,o=(t.max.y-y.y)*m):(a=(t.max.y-y.y)*m,o=(t.min.y-y.y)*m),i>o||a>s||((a>i||isNaN(i))&&(i=a),(o<s||isNaN(s))&&(s=o),g>=0?(c=(t.min.z-y.z)*g,u=(t.max.z-y.z)*g):(c=(t.max.z-y.z)*g,u=(t.min.z-y.z)*g),i>u||c>s)||((c>i||i!==i)&&(i=c),(u<s||s!==s)&&(s=u),s<0)?null:this.at(i>=0?i:s,e)}intersectsBox(t){return this.intersectBox(t,mc)!==null}intersectTriangle(t,e,i,s,a){cb.subVectors(e,t),E1.subVectors(i,t),ub.crossVectors(cb,E1);let o=this.direction.dot(ub),c;if(o>0){if(s)return null;c=1}else if(o<0)c=-1,o=-o;else return null;wu.subVectors(this.origin,t);const u=c*this.direction.dot(E1.crossVectors(wu,E1));if(u<0)return null;const d=c*this.direction.dot(cb.cross(wu));if(d<0||u+d>o)return null;const m=-c*wu.dot(ub);return m<0?null:this.at(m/o,a)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Re{constructor(t,e,i,s,a,o,c,u,d,m,g,y,A,b,T,E){Re.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t!==void 0&&this.set(t,e,i,s,a,o,c,u,d,m,g,y,A,b,T,E)}set(t,e,i,s,a,o,c,u,d,m,g,y,A,b,T,E){const S=this.elements;return S[0]=t,S[4]=e,S[8]=i,S[12]=s,S[1]=a,S[5]=o,S[9]=c,S[13]=u,S[2]=d,S[6]=m,S[10]=g,S[14]=y,S[3]=A,S[7]=b,S[11]=T,S[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Re().fromArray(this.elements)}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this}copyPosition(t){const e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,i=t.elements,s=1/ep.setFromMatrixColumn(t,0).length(),a=1/ep.setFromMatrixColumn(t,1).length(),o=1/ep.setFromMatrixColumn(t,2).length();return e[0]=i[0]*s,e[1]=i[1]*s,e[2]=i[2]*s,e[3]=0,e[4]=i[4]*a,e[5]=i[5]*a,e[6]=i[6]*a,e[7]=0,e[8]=i[8]*o,e[9]=i[9]*o,e[10]=i[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,i=t.x,s=t.y,a=t.z,o=Math.cos(i),c=Math.sin(i),u=Math.cos(s),d=Math.sin(s),m=Math.cos(a),g=Math.sin(a);if(t.order==="XYZ"){const y=o*m,A=o*g,b=c*m,T=c*g;e[0]=u*m,e[4]=-u*g,e[8]=d,e[1]=A+b*d,e[5]=y-T*d,e[9]=-c*u,e[2]=T-y*d,e[6]=b+A*d,e[10]=o*u}else if(t.order==="YXZ"){const y=u*m,A=u*g,b=d*m,T=d*g;e[0]=y+T*c,e[4]=b*c-A,e[8]=o*d,e[1]=o*g,e[5]=o*m,e[9]=-c,e[2]=A*c-b,e[6]=T+y*c,e[10]=o*u}else if(t.order==="ZXY"){const y=u*m,A=u*g,b=d*m,T=d*g;e[0]=y-T*c,e[4]=-o*g,e[8]=b+A*c,e[1]=A+b*c,e[5]=o*m,e[9]=T-y*c,e[2]=-o*d,e[6]=c,e[10]=o*u}else if(t.order==="ZYX"){const y=o*m,A=o*g,b=c*m,T=c*g;e[0]=u*m,e[4]=b*d-A,e[8]=y*d+T,e[1]=u*g,e[5]=T*d+y,e[9]=A*d-b,e[2]=-d,e[6]=c*u,e[10]=o*u}else if(t.order==="YZX"){const y=o*u,A=o*d,b=c*u,T=c*d;e[0]=u*m,e[4]=T-y*g,e[8]=b*g+A,e[1]=g,e[5]=o*m,e[9]=-c*m,e[2]=-d*m,e[6]=A*g+b,e[10]=y-T*g}else if(t.order==="XZY"){const y=o*u,A=o*d,b=c*u,T=c*d;e[0]=u*m,e[4]=-g,e[8]=d*m,e[1]=y*g+T,e[5]=o*m,e[9]=A*g-b,e[2]=b*g-A,e[6]=c*m,e[10]=T*g+y}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(l7,t,c7)}lookAt(t,e,i){const s=this.elements;return cr.subVectors(t,e),cr.lengthSq()===0&&(cr.z=1),cr.normalize(),Ru.crossVectors(i,cr),Ru.lengthSq()===0&&(Math.abs(i.z)===1?cr.x+=1e-4:cr.z+=1e-4,cr.normalize(),Ru.crossVectors(i,cr)),Ru.normalize(),T1.crossVectors(cr,Ru),s[0]=Ru.x,s[4]=T1.x,s[8]=cr.x,s[1]=Ru.y,s[5]=T1.y,s[9]=cr.y,s[2]=Ru.z,s[6]=T1.z,s[10]=cr.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,s=e.elements,a=this.elements,o=i[0],c=i[4],u=i[8],d=i[12],m=i[1],g=i[5],y=i[9],A=i[13],b=i[2],T=i[6],E=i[10],S=i[14],R=i[3],B=i[7],D=i[11],U=i[15],N=s[0],F=s[4],z=s[8],O=s[12],I=s[1],Y=s[5],dt=s[9],at=s[13],Q=s[2],lt=s[6],tt=s[10],et=s[14],Z=s[3],vt=s[7],X=s[11],it=s[15];return a[0]=o*N+c*I+u*Q+d*Z,a[4]=o*F+c*Y+u*lt+d*vt,a[8]=o*z+c*dt+u*tt+d*X,a[12]=o*O+c*at+u*et+d*it,a[1]=m*N+g*I+y*Q+A*Z,a[5]=m*F+g*Y+y*lt+A*vt,a[9]=m*z+g*dt+y*tt+A*X,a[13]=m*O+g*at+y*et+A*it,a[2]=b*N+T*I+E*Q+S*Z,a[6]=b*F+T*Y+E*lt+S*vt,a[10]=b*z+T*dt+E*tt+S*X,a[14]=b*O+T*at+E*et+S*it,a[3]=R*N+B*I+D*Q+U*Z,a[7]=R*F+B*Y+D*lt+U*vt,a[11]=R*z+B*dt+D*tt+U*X,a[15]=R*O+B*at+D*et+U*it,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[4],s=t[8],a=t[12],o=t[1],c=t[5],u=t[9],d=t[13],m=t[2],g=t[6],y=t[10],A=t[14],b=t[3],T=t[7],E=t[11],S=t[15];return b*(+a*u*g-s*d*g-a*c*y+i*d*y+s*c*A-i*u*A)+T*(+e*u*A-e*d*y+a*o*y-s*o*A+s*d*m-a*u*m)+E*(+e*d*g-e*c*A-a*o*g+i*o*A+a*c*m-i*d*m)+S*(-s*c*m-e*u*g+e*c*y+s*o*g-i*o*y+i*u*m)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,i){const s=this.elements;return t.isVector3?(s[12]=t.x,s[13]=t.y,s[14]=t.z):(s[12]=t,s[13]=e,s[14]=i),this}invert(){const t=this.elements,e=t[0],i=t[1],s=t[2],a=t[3],o=t[4],c=t[5],u=t[6],d=t[7],m=t[8],g=t[9],y=t[10],A=t[11],b=t[12],T=t[13],E=t[14],S=t[15],R=g*E*d-T*y*d+T*u*A-c*E*A-g*u*S+c*y*S,B=b*y*d-m*E*d-b*u*A+o*E*A+m*u*S-o*y*S,D=m*T*d-b*g*d+b*c*A-o*T*A-m*c*S+o*g*S,U=b*g*u-m*T*u-b*c*y+o*T*y+m*c*E-o*g*E,N=e*R+i*B+s*D+a*U;if(N===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const F=1/N;return t[0]=R*F,t[1]=(T*y*a-g*E*a-T*s*A+i*E*A+g*s*S-i*y*S)*F,t[2]=(c*E*a-T*u*a+T*s*d-i*E*d-c*s*S+i*u*S)*F,t[3]=(g*u*a-c*y*a-g*s*d+i*y*d+c*s*A-i*u*A)*F,t[4]=B*F,t[5]=(m*E*a-b*y*a+b*s*A-e*E*A-m*s*S+e*y*S)*F,t[6]=(b*u*a-o*E*a-b*s*d+e*E*d+o*s*S-e*u*S)*F,t[7]=(o*y*a-m*u*a+m*s*d-e*y*d-o*s*A+e*u*A)*F,t[8]=D*F,t[9]=(b*g*a-m*T*a-b*i*A+e*T*A+m*i*S-e*g*S)*F,t[10]=(o*T*a-b*c*a+b*i*d-e*T*d-o*i*S+e*c*S)*F,t[11]=(m*c*a-o*g*a-m*i*d+e*g*d+o*i*A-e*c*A)*F,t[12]=U*F,t[13]=(m*T*s-b*g*s+b*i*y-e*T*y-m*i*E+e*g*E)*F,t[14]=(b*c*s-o*T*s-b*i*u+e*T*u+o*i*E-e*c*E)*F,t[15]=(o*g*s-m*c*s+m*i*u-e*g*u-o*i*y+e*c*y)*F,this}scale(t){const e=this.elements,i=t.x,s=t.y,a=t.z;return e[0]*=i,e[4]*=s,e[8]*=a,e[1]*=i,e[5]*=s,e[9]*=a,e[2]*=i,e[6]*=s,e[10]*=a,e[3]*=i,e[7]*=s,e[11]*=a,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],s=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,s))}makeTranslation(t,e,i){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const i=Math.cos(e),s=Math.sin(e),a=1-i,o=t.x,c=t.y,u=t.z,d=a*o,m=a*c;return this.set(d*o+i,d*c-s*u,d*u+s*c,0,d*c+s*u,m*c+i,m*u-s*o,0,d*u-s*c,m*u+s*o,a*u*u+i,0,0,0,0,1),this}makeScale(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,e,i,s,a,o){return this.set(1,i,a,0,t,1,o,0,e,s,1,0,0,0,0,1),this}compose(t,e,i){const s=this.elements,a=e._x,o=e._y,c=e._z,u=e._w,d=a+a,m=o+o,g=c+c,y=a*d,A=a*m,b=a*g,T=o*m,E=o*g,S=c*g,R=u*d,B=u*m,D=u*g,U=i.x,N=i.y,F=i.z;return s[0]=(1-(T+S))*U,s[1]=(A+D)*U,s[2]=(b-B)*U,s[3]=0,s[4]=(A-D)*N,s[5]=(1-(y+S))*N,s[6]=(E+R)*N,s[7]=0,s[8]=(b+B)*F,s[9]=(E-R)*F,s[10]=(1-(y+T))*F,s[11]=0,s[12]=t.x,s[13]=t.y,s[14]=t.z,s[15]=1,this}decompose(t,e,i){const s=this.elements;let a=ep.set(s[0],s[1],s[2]).length();const o=ep.set(s[4],s[5],s[6]).length(),c=ep.set(s[8],s[9],s[10]).length();this.determinant()<0&&(a=-a),t.x=s[12],t.y=s[13],t.z=s[14],Mo.copy(this);const d=1/a,m=1/o,g=1/c;return Mo.elements[0]*=d,Mo.elements[1]*=d,Mo.elements[2]*=d,Mo.elements[4]*=m,Mo.elements[5]*=m,Mo.elements[6]*=m,Mo.elements[8]*=g,Mo.elements[9]*=g,Mo.elements[10]*=g,e.setFromRotationMatrix(Mo),i.x=a,i.y=o,i.z=c,this}makePerspective(t,e,i,s,a,o,c=Do){const u=this.elements,d=2*a/(e-t),m=2*a/(i-s),g=(e+t)/(e-t),y=(i+s)/(i-s);let A,b;if(c===Do)A=-(o+a)/(o-a),b=-2*o*a/(o-a);else if(c===Z0)A=-o/(o-a),b=-o*a/(o-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+c);return u[0]=d,u[4]=0,u[8]=g,u[12]=0,u[1]=0,u[5]=m,u[9]=y,u[13]=0,u[2]=0,u[6]=0,u[10]=A,u[14]=b,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(t,e,i,s,a,o,c=Do){const u=this.elements,d=1/(e-t),m=1/(i-s),g=1/(o-a),y=(e+t)*d,A=(i+s)*m;let b,T;if(c===Do)b=(o+a)*g,T=-2*g;else if(c===Z0)b=a*g,T=-1*g;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+c);return u[0]=2*d,u[4]=0,u[8]=0,u[12]=-y,u[1]=0,u[5]=2*m,u[9]=0,u[13]=-A,u[2]=0,u[6]=0,u[10]=T,u[14]=-b,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(t){const e=this.elements,i=t.elements;for(let s=0;s<16;s++)if(e[s]!==i[s])return!1;return!0}fromArray(t,e=0){for(let i=0;i<16;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}const ep=new q,Mo=new Re,l7=new q(0,0,0),c7=new q(1,1,1),Ru=new q,T1=new q,cr=new q,G2=new Re,V2=new Xi;class Wa{constructor(t=0,e=0,i=0,s=Wa.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=e,this._z=i,this._order=s}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,i,s=this._order){return this._x=t,this._y=e,this._z=i,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,i=!0){const s=t.elements,a=s[0],o=s[4],c=s[8],u=s[1],d=s[5],m=s[9],g=s[2],y=s[6],A=s[10];switch(e){case"XYZ":this._y=Math.asin(Xe(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-m,A),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(y,d),this._z=0);break;case"YXZ":this._x=Math.asin(-Xe(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(c,A),this._z=Math.atan2(u,d)):(this._y=Math.atan2(-g,a),this._z=0);break;case"ZXY":this._x=Math.asin(Xe(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-g,A),this._z=Math.atan2(-o,d)):(this._y=0,this._z=Math.atan2(u,a));break;case"ZYX":this._y=Math.asin(-Xe(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(y,A),this._z=Math.atan2(u,a)):(this._x=0,this._z=Math.atan2(-o,d));break;case"YZX":this._z=Math.asin(Xe(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-m,d),this._y=Math.atan2(-g,a)):(this._x=0,this._y=Math.atan2(c,A));break;case"XZY":this._z=Math.asin(-Xe(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(y,d),this._y=Math.atan2(c,a)):(this._x=Math.atan2(-m,A),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,i===!0&&this._onChangeCallback(),this}setFromQuaternion(t,e,i){return G2.makeRotationFromQuaternion(t),this.setFromRotationMatrix(G2,e,i)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return V2.setFromEuler(this),this.setFromQuaternion(V2,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Wa.DEFAULT_ORDER="XYZ";class Qp{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}}let u7=0;const k2=new q,np=new Xi,gc=new Re,C1=new q,kg=new q,f7=new q,h7=new Xi,j2=new q(1,0,0),X2=new q(0,1,0),Y2=new q(0,0,1),W2={type:"added"},d7={type:"removed"},ip={type:"childadded",child:null},fb={type:"childremoved",child:null};class gn extends Fl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:u7++}),this.uuid=pr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=gn.DEFAULT_UP.clone();const t=new q,e=new Wa,i=new Xi,s=new q(1,1,1);function a(){i.setFromEuler(e,!1)}function o(){e.setFromQuaternion(i,void 0,!1)}e._onChange(a),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new Re},normalMatrix:{value:new Ye}}),this.matrix=new Re,this.matrixWorld=new Re,this.matrixAutoUpdate=gn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=gn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Qp,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return np.setFromAxisAngle(t,e),this.quaternion.multiply(np),this}rotateOnWorldAxis(t,e){return np.setFromAxisAngle(t,e),this.quaternion.premultiply(np),this}rotateX(t){return this.rotateOnAxis(j2,t)}rotateY(t){return this.rotateOnAxis(X2,t)}rotateZ(t){return this.rotateOnAxis(Y2,t)}translateOnAxis(t,e){return k2.copy(t).applyQuaternion(this.quaternion),this.position.add(k2.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(j2,t)}translateY(t){return this.translateOnAxis(X2,t)}translateZ(t){return this.translateOnAxis(Y2,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(gc.copy(this.matrixWorld).invert())}lookAt(t,e,i){t.isVector3?C1.copy(t):C1.set(t,e,i);const s=this.parent;this.updateWorldMatrix(!0,!1),kg.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?gc.lookAt(kg,C1,this.up):gc.lookAt(C1,kg,this.up),this.quaternion.setFromRotationMatrix(gc),s&&(gc.extractRotation(s.matrixWorld),np.setFromRotationMatrix(gc),this.quaternion.premultiply(np.invert()))}add(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(W2),ip.child=t,this.dispatchEvent(ip),ip.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const e=this.children.indexOf(t);return e!==-1&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(d7),fb.child=t,this.dispatchEvent(fb),fb.child=null),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),gc.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),gc.multiply(t.parent.matrixWorld)),t.applyMatrix4(gc),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(W2),ip.child=t,this.dispatchEvent(ip),ip.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectByProperty(t,e);if(o!==void 0)return o}}getObjectsByProperty(t,e,i=[]){this[t]===e&&i.push(this);const s=this.children;for(let a=0,o=s.length;a<o;a++)s[a].getObjectsByProperty(t,e,i);return i}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(kg,t,f7),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(kg,h7,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let i=0,s=e.length;i<s;i++)e[i].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const e=this.children;for(let i=0,s=e.length;i<s;i++)e[i].traverseVisible(t)}traverseAncestors(t){const e=this.parent;e!==null&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let i=0,s=e.length;i<s;i++)e[i].updateMatrixWorld(t)}updateWorldMatrix(t,e){const i=this.parent;if(t===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),e===!0){const s=this.children;for(let a=0,o=s.length;a<o;a++)s[a].updateWorldMatrix(!1,!0)}}toJSON(t){const e=t===void 0||typeof t=="string",i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.castShadow===!0&&(s.castShadow=!0),this.receiveShadow===!0&&(s.receiveShadow=!0),this.visible===!1&&(s.visible=!1),this.frustumCulled===!1&&(s.frustumCulled=!1),this.renderOrder!==0&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.visibility=this._visibility,s.active=this._active,s.bounds=this._bounds.map(c=>({boxInitialized:c.boxInitialized,boxMin:c.box.min.toArray(),boxMax:c.box.max.toArray(),sphereInitialized:c.sphereInitialized,sphereRadius:c.sphere.radius,sphereCenter:c.sphere.center.toArray()})),s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.geometryCount=this._geometryCount,s.matricesTexture=this._matricesTexture.toJSON(t),this._colorsTexture!==null&&(s.colorsTexture=this._colorsTexture.toJSON(t)),this.boundingSphere!==null&&(s.boundingSphere={center:s.boundingSphere.center.toArray(),radius:s.boundingSphere.radius}),this.boundingBox!==null&&(s.boundingBox={min:s.boundingBox.min.toArray(),max:s.boundingBox.max.toArray()}));function a(c,u){return c[u.uuid]===void 0&&(c[u.uuid]=u.toJSON(t)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(s.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=a(t.geometries,this.geometry);const c=this.geometry.parameters;if(c!==void 0&&c.shapes!==void 0){const u=c.shapes;if(Array.isArray(u))for(let d=0,m=u.length;d<m;d++){const g=u[d];a(t.shapes,g)}else a(t.shapes,u)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const c=[];for(let u=0,d=this.material.length;u<d;u++)c.push(a(t.materials,this.material[u]));s.material=c}else s.material=a(t.materials,this.material);if(this.children.length>0){s.children=[];for(let c=0;c<this.children.length;c++)s.children.push(this.children[c].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let c=0;c<this.animations.length;c++){const u=this.animations[c];s.animations.push(a(t.animations,u))}}if(e){const c=o(t.geometries),u=o(t.materials),d=o(t.textures),m=o(t.images),g=o(t.shapes),y=o(t.skeletons),A=o(t.animations),b=o(t.nodes);c.length>0&&(i.geometries=c),u.length>0&&(i.materials=u),d.length>0&&(i.textures=d),m.length>0&&(i.images=m),g.length>0&&(i.shapes=g),y.length>0&&(i.skeletons=y),A.length>0&&(i.animations=A),b.length>0&&(i.nodes=b)}return i.object=s,i;function o(c){const u=[];for(const d in c){const m=c[d];delete m.metadata,u.push(m)}return u}}clone(t){return new this.constructor().copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(let i=0;i<t.children.length;i++){const s=t.children[i];this.add(s.clone())}return this}}gn.DEFAULT_UP=new q(0,1,0);gn.DEFAULT_MATRIX_AUTO_UPDATE=!0;gn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Eo=new q,vc=new q,hb=new q,yc=new q,sp=new q,ap=new q,q2=new q,db=new q,pb=new q,mb=new q,gb=new mn,vb=new mn,yb=new mn;class ja{constructor(t=new q,e=new q,i=new q){this.a=t,this.b=e,this.c=i}static getNormal(t,e,i,s){s.subVectors(i,e),Eo.subVectors(t,e),s.cross(Eo);const a=s.lengthSq();return a>0?s.multiplyScalar(1/Math.sqrt(a)):s.set(0,0,0)}static getBarycoord(t,e,i,s,a){Eo.subVectors(s,e),vc.subVectors(i,e),hb.subVectors(t,e);const o=Eo.dot(Eo),c=Eo.dot(vc),u=Eo.dot(hb),d=vc.dot(vc),m=vc.dot(hb),g=o*d-c*c;if(g===0)return a.set(0,0,0),null;const y=1/g,A=(d*u-c*m)*y,b=(o*m-c*u)*y;return a.set(1-A-b,b,A)}static containsPoint(t,e,i,s){return this.getBarycoord(t,e,i,s,yc)===null?!1:yc.x>=0&&yc.y>=0&&yc.x+yc.y<=1}static getInterpolation(t,e,i,s,a,o,c,u){return this.getBarycoord(t,e,i,s,yc)===null?(u.x=0,u.y=0,"z"in u&&(u.z=0),"w"in u&&(u.w=0),null):(u.setScalar(0),u.addScaledVector(a,yc.x),u.addScaledVector(o,yc.y),u.addScaledVector(c,yc.z),u)}static getInterpolatedAttribute(t,e,i,s,a,o){return gb.setScalar(0),vb.setScalar(0),yb.setScalar(0),gb.fromBufferAttribute(t,e),vb.fromBufferAttribute(t,i),yb.fromBufferAttribute(t,s),o.setScalar(0),o.addScaledVector(gb,a.x),o.addScaledVector(vb,a.y),o.addScaledVector(yb,a.z),o}static isFrontFacing(t,e,i,s){return Eo.subVectors(i,e),vc.subVectors(t,e),Eo.cross(vc).dot(s)<0}set(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this}setFromPointsAndIndices(t,e,i,s){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[s]),this}setFromAttributeAndIndices(t,e,i,s){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,i),this.c.fromBufferAttribute(t,s),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return Eo.subVectors(this.c,this.b),vc.subVectors(this.a,this.b),Eo.cross(vc).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return ja.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return ja.getBarycoord(t,this.a,this.b,this.c,e)}getInterpolation(t,e,i,s,a){return ja.getInterpolation(t,this.a,this.b,this.c,e,i,s,a)}containsPoint(t){return ja.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return ja.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const i=this.a,s=this.b,a=this.c;let o,c;sp.subVectors(s,i),ap.subVectors(a,i),db.subVectors(t,i);const u=sp.dot(db),d=ap.dot(db);if(u<=0&&d<=0)return e.copy(i);pb.subVectors(t,s);const m=sp.dot(pb),g=ap.dot(pb);if(m>=0&&g<=m)return e.copy(s);const y=u*g-m*d;if(y<=0&&u>=0&&m<=0)return o=u/(u-m),e.copy(i).addScaledVector(sp,o);mb.subVectors(t,a);const A=sp.dot(mb),b=ap.dot(mb);if(b>=0&&A<=b)return e.copy(a);const T=A*d-u*b;if(T<=0&&d>=0&&b<=0)return c=d/(d-b),e.copy(i).addScaledVector(ap,c);const E=m*b-A*g;if(E<=0&&g-m>=0&&A-b>=0)return q2.subVectors(a,s),c=(g-m)/(g-m+(A-b)),e.copy(s).addScaledVector(q2,c);const S=1/(E+T+y);return o=T*S,c=y*S,e.copy(i).addScaledVector(sp,o).addScaledVector(ap,c)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const eP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Bu={h:0,s:0,l:0},w1={h:0,s:0,l:0};function xb(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*6*(2/3-e):n}class ie{constructor(t,e,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,i)}set(t,e,i){if(e===void 0&&i===void 0){const s=t;s&&s.isColor?this.copy(s):typeof s=="number"?this.setHex(s):typeof s=="string"&&this.setStyle(s)}else this.setRGB(t,e,i);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=ea){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,Sn.toWorkingColorSpace(this,e),this}setRGB(t,e,i,s=Sn.workingColorSpace){return this.r=t,this.g=e,this.b=i,Sn.toWorkingColorSpace(this,s),this}setHSL(t,e,i,s=Sn.workingColorSpace){if(t=WT(t,1),e=Xe(e,0,1),i=Xe(i,0,1),e===0)this.r=this.g=this.b=i;else{const a=i<=.5?i*(1+e):i+e-i*e,o=2*i-a;this.r=xb(o,a,t+1/3),this.g=xb(o,a,t),this.b=xb(o,a,t-1/3)}return Sn.toWorkingColorSpace(this,s),this}setStyle(t,e=ea){function i(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(t)){let a;const o=s[1],c=s[2];switch(o){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,e);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,e);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(t)){const a=s[1],o=a.length;if(o===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,e);if(o===6)return this.setHex(parseInt(a,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=ea){const i=eP[t.toLowerCase()];return i!==void 0?this.setHex(i,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=Lc(t.r),this.g=Lc(t.g),this.b=Lc(t.b),this}copyLinearToSRGB(t){return this.r=Gp(t.r),this.g=Gp(t.g),this.b=Gp(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=ea){return Sn.fromWorkingColorSpace(Zs.copy(this),t),Math.round(Xe(Zs.r*255,0,255))*65536+Math.round(Xe(Zs.g*255,0,255))*256+Math.round(Xe(Zs.b*255,0,255))}getHexString(t=ea){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=Sn.workingColorSpace){Sn.fromWorkingColorSpace(Zs.copy(this),e);const i=Zs.r,s=Zs.g,a=Zs.b,o=Math.max(i,s,a),c=Math.min(i,s,a);let u,d;const m=(c+o)/2;if(c===o)u=0,d=0;else{const g=o-c;switch(d=m<=.5?g/(o+c):g/(2-o-c),o){case i:u=(s-a)/g+(s<a?6:0);break;case s:u=(a-i)/g+2;break;case a:u=(i-s)/g+4;break}u/=6}return t.h=u,t.s=d,t.l=m,t}getRGB(t,e=Sn.workingColorSpace){return Sn.fromWorkingColorSpace(Zs.copy(this),e),t.r=Zs.r,t.g=Zs.g,t.b=Zs.b,t}getStyle(t=ea){Sn.fromWorkingColorSpace(Zs.copy(this),t);const e=Zs.r,i=Zs.g,s=Zs.b;return t!==ea?`color(${t} ${e.toFixed(3)} ${i.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(e*255)},${Math.round(i*255)},${Math.round(s*255)})`}offsetHSL(t,e,i){return this.getHSL(Bu),this.setHSL(Bu.h+t,Bu.s+e,Bu.l+i)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,i){return this.r=t.r+(e.r-t.r)*i,this.g=t.g+(e.g-t.g)*i,this.b=t.b+(e.b-t.b)*i,this}lerpHSL(t,e){this.getHSL(Bu),t.getHSL(w1);const i=w0(Bu.h,w1.h,e),s=w0(Bu.s,w1.s,e),a=w0(Bu.l,w1.l,e);return this.setHSL(i,s,a),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,i=this.g,s=this.b,a=t.elements;return this.r=a[0]*e+a[3]*i+a[6]*s,this.g=a[1]*e+a[4]*i+a[7]*s,this.b=a[2]*e+a[5]*i+a[8]*s,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Zs=new ie;ie.NAMES=eP;let p7=0;class ss extends Fl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:p7++}),this.uuid=pr(),this.name="",this.type="Material",this.blending=Dh,this.side=Ol,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=$x,this.blendDst=tA,this.blendEquation=Vu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ie(0,0,0),this.blendAlpha=0,this.depthFunc=zh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=iE,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=mh,this.stencilZFail=mh,this.stencilZPass=mh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const e in t){const i=t[e];if(i===void 0){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const s=this[e];if(s===void 0){console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`);continue}s&&s.isColor?s.set(i):s&&s.isVector3&&i&&i.isVector3?s.copy(i):this[e]=i}}toJSON(t){const e=t===void 0||typeof t=="string";e&&(t={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Dh&&(i.blending=this.blending),this.side!==Ol&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==$x&&(i.blendSrc=this.blendSrc),this.blendDst!==tA&&(i.blendDst=this.blendDst),this.blendEquation!==Vu&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==zh&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==iE&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==mh&&(i.stencilFail=this.stencilFail),this.stencilZFail!==mh&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==mh&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function s(a){const o=[];for(const c in a){const u=a[c];delete u.metadata,o.push(u)}return o}if(e){const a=s(t.textures),o=s(t.images);a.length>0&&(i.textures=a),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let i=null;if(e!==null){const s=e.length;i=new Array(s);for(let a=0;a!==s;++a)i[a]=e[a].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class dr extends ss{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ie(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Wa,this.combine=Av,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const Tc=m7();function m7(){const n=new ArrayBuffer(4),t=new Float32Array(n),e=new Uint32Array(n),i=new Uint32Array(512),s=new Uint32Array(512);for(let u=0;u<256;++u){const d=u-127;d<-27?(i[u]=0,i[u|256]=32768,s[u]=24,s[u|256]=24):d<-14?(i[u]=1024>>-d-14,i[u|256]=1024>>-d-14|32768,s[u]=-d-1,s[u|256]=-d-1):d<=15?(i[u]=d+15<<10,i[u|256]=d+15<<10|32768,s[u]=13,s[u|256]=13):d<128?(i[u]=31744,i[u|256]=64512,s[u]=24,s[u|256]=24):(i[u]=31744,i[u|256]=64512,s[u]=13,s[u|256]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),c=new Uint32Array(64);for(let u=1;u<1024;++u){let d=u<<13,m=0;for(;!(d&8388608);)d<<=1,m-=8388608;d&=-8388609,m+=947912704,a[u]=d|m}for(let u=1024;u<2048;++u)a[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)o[u]=u<<23;o[31]=1199570944,o[32]=2147483648;for(let u=33;u<63;++u)o[u]=2147483648+(u-32<<23);o[63]=3347054592;for(let u=1;u<64;++u)u!==32&&(c[u]=1024);return{floatView:t,uint32View:e,baseTable:i,shiftTable:s,mantissaTable:a,exponentTable:o,offsetTable:c}}function ka(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Xe(n,-65504,65504),Tc.floatView[0]=n;const t=Tc.uint32View[0],e=t>>23&511;return Tc.baseTable[e]+((t&8388607)>>Tc.shiftTable[e])}function h0(n){const t=n>>10;return Tc.uint32View[0]=Tc.mantissaTable[Tc.offsetTable[t]+(n&1023)]+Tc.exponentTable[t],Tc.floatView[0]}const g7={toHalfFloat:ka,fromHalfFloat:h0},Ji=new q,R1=new Ft;let v7=0;class wn{constructor(t,e,i=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:v7++}),this.name="",this.array=t,this.itemSize=e,this.count=t!==void 0?t.length/e:0,this.normalized=i,this.usage=J0,this.updateRanges=[],this.gpuType=Xa,this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,i){t*=this.itemSize,i*=e.itemSize;for(let s=0,a=this.itemSize;s<a;s++)this.array[t+s]=e.array[i+s];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(this.itemSize===2)for(let e=0,i=this.count;e<i;e++)R1.fromBufferAttribute(this,e),R1.applyMatrix3(t),this.setXY(e,R1.x,R1.y);else if(this.itemSize===3)for(let e=0,i=this.count;e<i;e++)Ji.fromBufferAttribute(this,e),Ji.applyMatrix3(t),this.setXYZ(e,Ji.x,Ji.y,Ji.z);return this}applyMatrix4(t){for(let e=0,i=this.count;e<i;e++)Ji.fromBufferAttribute(this,e),Ji.applyMatrix4(t),this.setXYZ(e,Ji.x,Ji.y,Ji.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)Ji.fromBufferAttribute(this,e),Ji.applyNormalMatrix(t),this.setXYZ(e,Ji.x,Ji.y,Ji.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)Ji.fromBufferAttribute(this,e),Ji.transformDirection(t),this.setXYZ(e,Ji.x,Ji.y,Ji.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let i=this.array[t*this.itemSize+e];return this.normalized&&(i=Sa(i,this.array)),i}setComponent(t,e,i){return this.normalized&&(i=qe(i,this.array)),this.array[t*this.itemSize+e]=i,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=Sa(e,this.array)),e}setX(t,e){return this.normalized&&(e=qe(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=Sa(e,this.array)),e}setY(t,e){return this.normalized&&(e=qe(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=Sa(e,this.array)),e}setZ(t,e){return this.normalized&&(e=qe(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=Sa(e,this.array)),e}setW(t,e){return this.normalized&&(e=qe(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=qe(e,this.array),i=qe(i,this.array)),this.array[t+0]=e,this.array[t+1]=i,this}setXYZ(t,e,i,s){return t*=this.itemSize,this.normalized&&(e=qe(e,this.array),i=qe(i,this.array),s=qe(s,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=s,this}setXYZW(t,e,i,s,a){return t*=this.itemSize,this.normalized&&(e=qe(e,this.array),i=qe(i,this.array),s=qe(s,this.array),a=qe(a,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=s,this.array[t+3]=a,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==J0&&(t.usage=this.usage),t}}class y7 extends wn{constructor(t,e,i){super(new Int8Array(t),e,i)}}class x7 extends wn{constructor(t,e,i){super(new Uint8Array(t),e,i)}}class A7 extends wn{constructor(t,e,i){super(new Uint8ClampedArray(t),e,i)}}class _7 extends wn{constructor(t,e,i){super(new Int16Array(t),e,i)}}class KT extends wn{constructor(t,e,i){super(new Uint16Array(t),e,i)}}class S7 extends wn{constructor(t,e,i){super(new Int32Array(t),e,i)}}class JT extends wn{constructor(t,e,i){super(new Uint32Array(t),e,i)}}class b7 extends wn{constructor(t,e,i){super(new Uint16Array(t),e,i),this.isFloat16BufferAttribute=!0}getX(t){let e=h0(this.array[t*this.itemSize]);return this.normalized&&(e=Sa(e,this.array)),e}setX(t,e){return this.normalized&&(e=qe(e,this.array)),this.array[t*this.itemSize]=ka(e),this}getY(t){let e=h0(this.array[t*this.itemSize+1]);return this.normalized&&(e=Sa(e,this.array)),e}setY(t,e){return this.normalized&&(e=qe(e,this.array)),this.array[t*this.itemSize+1]=ka(e),this}getZ(t){let e=h0(this.array[t*this.itemSize+2]);return this.normalized&&(e=Sa(e,this.array)),e}setZ(t,e){return this.normalized&&(e=qe(e,this.array)),this.array[t*this.itemSize+2]=ka(e),this}getW(t){let e=h0(this.array[t*this.itemSize+3]);return this.normalized&&(e=Sa(e,this.array)),e}setW(t,e){return this.normalized&&(e=qe(e,this.array)),this.array[t*this.itemSize+3]=ka(e),this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=qe(e,this.array),i=qe(i,this.array)),this.array[t+0]=ka(e),this.array[t+1]=ka(i),this}setXYZ(t,e,i,s){return t*=this.itemSize,this.normalized&&(e=qe(e,this.array),i=qe(i,this.array),s=qe(s,this.array)),this.array[t+0]=ka(e),this.array[t+1]=ka(i),this.array[t+2]=ka(s),this}setXYZW(t,e,i,s,a){return t*=this.itemSize,this.normalized&&(e=qe(e,this.array),i=qe(i,this.array),s=qe(s,this.array),a=qe(a,this.array)),this.array[t+0]=ka(e),this.array[t+1]=ka(i),this.array[t+2]=ka(s),this.array[t+3]=ka(a),this}}class Se extends wn{constructor(t,e,i){super(new Float32Array(t),e,i)}}let M7=0;const Nr=new Re,Ab=new gn,rp=new q,ur=new aa,jg=new aa,As=new q;class We extends Fl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:M7++}),this.uuid=pr(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(QO(t)?JT:KT)(t,1):this.index=t,this}setIndirect(t){return this.indirect=t,this}getIndirect(){return this.indirect}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,e,i=0){this.groups.push({start:t,count:e,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;e!==void 0&&(e.applyMatrix4(t),e.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const a=new Ye().getNormalMatrix(t);i.applyNormalMatrix(a),i.needsUpdate=!0}const s=this.attributes.tangent;return s!==void 0&&(s.transformDirection(t),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return Nr.makeRotationFromQuaternion(t),this.applyMatrix4(Nr),this}rotateX(t){return Nr.makeRotationX(t),this.applyMatrix4(Nr),this}rotateY(t){return Nr.makeRotationY(t),this.applyMatrix4(Nr),this}rotateZ(t){return Nr.makeRotationZ(t),this.applyMatrix4(Nr),this}translate(t,e,i){return Nr.makeTranslation(t,e,i),this.applyMatrix4(Nr),this}scale(t,e,i){return Nr.makeScale(t,e,i),this.applyMatrix4(Nr),this}lookAt(t){return Ab.lookAt(t),Ab.updateMatrix(),this.applyMatrix4(Ab.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(rp).negate(),this.translate(rp.x,rp.y,rp.z),this}setFromPoints(t){const e=this.getAttribute("position");if(e===void 0){const i=[];for(let s=0,a=t.length;s<a;s++){const o=t[s];i.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Se(i,3))}else{const i=Math.min(t.length,e.count);for(let s=0;s<i;s++){const a=t[s];e.setXYZ(s,a.x,a.y,a.z||0)}t.length>e.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),e.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new aa);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new q(-1/0,-1/0,-1/0),new q(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),e)for(let i=0,s=e.length;i<s;i++){const a=e[i];ur.setFromBufferAttribute(a),this.morphTargetsRelative?(As.addVectors(this.boundingBox.min,ur.min),this.boundingBox.expandByPoint(As),As.addVectors(this.boundingBox.max,ur.max),this.boundingBox.expandByPoint(As)):(this.boundingBox.expandByPoint(ur.min),this.boundingBox.expandByPoint(ur.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Fs);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new q,1/0);return}if(t){const i=this.boundingSphere.center;if(ur.setFromBufferAttribute(t),e)for(let a=0,o=e.length;a<o;a++){const c=e[a];jg.setFromBufferAttribute(c),this.morphTargetsRelative?(As.addVectors(ur.min,jg.min),ur.expandByPoint(As),As.addVectors(ur.max,jg.max),ur.expandByPoint(As)):(ur.expandByPoint(jg.min),ur.expandByPoint(jg.max))}ur.getCenter(i);let s=0;for(let a=0,o=t.count;a<o;a++)As.fromBufferAttribute(t,a),s=Math.max(s,i.distanceToSquared(As));if(e)for(let a=0,o=e.length;a<o;a++){const c=e[a],u=this.morphTargetsRelative;for(let d=0,m=c.count;d<m;d++)As.fromBufferAttribute(c,d),u&&(rp.fromBufferAttribute(t,d),As.add(rp)),s=Math.max(s,i.distanceToSquared(As))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(t===null||e.position===void 0||e.normal===void 0||e.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.position,s=e.normal,a=e.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new wn(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),c=[],u=[];for(let z=0;z<i.count;z++)c[z]=new q,u[z]=new q;const d=new q,m=new q,g=new q,y=new Ft,A=new Ft,b=new Ft,T=new q,E=new q;function S(z,O,I){d.fromBufferAttribute(i,z),m.fromBufferAttribute(i,O),g.fromBufferAttribute(i,I),y.fromBufferAttribute(a,z),A.fromBufferAttribute(a,O),b.fromBufferAttribute(a,I),m.sub(d),g.sub(d),A.sub(y),b.sub(y);const Y=1/(A.x*b.y-b.x*A.y);isFinite(Y)&&(T.copy(m).multiplyScalar(b.y).addScaledVector(g,-A.y).multiplyScalar(Y),E.copy(g).multiplyScalar(A.x).addScaledVector(m,-b.x).multiplyScalar(Y),c[z].add(T),c[O].add(T),c[I].add(T),u[z].add(E),u[O].add(E),u[I].add(E))}let R=this.groups;R.length===0&&(R=[{start:0,count:t.count}]);for(let z=0,O=R.length;z<O;++z){const I=R[z],Y=I.start,dt=I.count;for(let at=Y,Q=Y+dt;at<Q;at+=3)S(t.getX(at+0),t.getX(at+1),t.getX(at+2))}const B=new q,D=new q,U=new q,N=new q;function F(z){U.fromBufferAttribute(s,z),N.copy(U);const O=c[z];B.copy(O),B.sub(U.multiplyScalar(U.dot(O))).normalize(),D.crossVectors(N,O);const Y=D.dot(u[z])<0?-1:1;o.setXYZW(z,B.x,B.y,B.z,Y)}for(let z=0,O=R.length;z<O;++z){const I=R[z],Y=I.start,dt=I.count;for(let at=Y,Q=Y+dt;at<Q;at+=3)F(t.getX(at+0)),F(t.getX(at+1)),F(t.getX(at+2))}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(e!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new wn(new Float32Array(e.count*3),3),this.setAttribute("normal",i);else for(let y=0,A=i.count;y<A;y++)i.setXYZ(y,0,0,0);const s=new q,a=new q,o=new q,c=new q,u=new q,d=new q,m=new q,g=new q;if(t)for(let y=0,A=t.count;y<A;y+=3){const b=t.getX(y+0),T=t.getX(y+1),E=t.getX(y+2);s.fromBufferAttribute(e,b),a.fromBufferAttribute(e,T),o.fromBufferAttribute(e,E),m.subVectors(o,a),g.subVectors(s,a),m.cross(g),c.fromBufferAttribute(i,b),u.fromBufferAttribute(i,T),d.fromBufferAttribute(i,E),c.add(m),u.add(m),d.add(m),i.setXYZ(b,c.x,c.y,c.z),i.setXYZ(T,u.x,u.y,u.z),i.setXYZ(E,d.x,d.y,d.z)}else for(let y=0,A=e.count;y<A;y+=3)s.fromBufferAttribute(e,y+0),a.fromBufferAttribute(e,y+1),o.fromBufferAttribute(e,y+2),m.subVectors(o,a),g.subVectors(s,a),m.cross(g),i.setXYZ(y+0,m.x,m.y,m.z),i.setXYZ(y+1,m.x,m.y,m.z),i.setXYZ(y+2,m.x,m.y,m.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,i=t.count;e<i;e++)As.fromBufferAttribute(t,e),As.normalize(),t.setXYZ(e,As.x,As.y,As.z)}toNonIndexed(){function t(c,u){const d=c.array,m=c.itemSize,g=c.normalized,y=new d.constructor(u.length*m);let A=0,b=0;for(let T=0,E=u.length;T<E;T++){c.isInterleavedBufferAttribute?A=u[T]*c.data.stride+c.offset:A=u[T]*m;for(let S=0;S<m;S++)y[b++]=d[A++]}return new wn(y,m,g)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new We,i=this.index.array,s=this.attributes;for(const c in s){const u=s[c],d=t(u,i);e.setAttribute(c,d)}const a=this.morphAttributes;for(const c in a){const u=[],d=a[c];for(let m=0,g=d.length;m<g;m++){const y=d[m],A=t(y,i);u.push(A)}e.morphAttributes[c]=u}e.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];e.addGroup(d.start,d.count,d.materialIndex)}return e}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const d in u)u[d]!==void 0&&(t[d]=u[d]);return t}t.data={attributes:{}};const e=this.index;e!==null&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const i=this.attributes;for(const u in i){const d=i[u];t.data.attributes[u]=d.toJSON(t.data)}const s={};let a=!1;for(const u in this.morphAttributes){const d=this.morphAttributes[u],m=[];for(let g=0,y=d.length;g<y;g++){const A=d[g];m.push(A.toJSON(t.data))}m.length>0&&(s[u]=m,a=!0)}a&&(t.data.morphAttributes=s,t.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));const c=this.boundingSphere;return c!==null&&(t.data.boundingSphere={center:c.center.toArray(),radius:c.radius}),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const i=t.index;i!==null&&this.setIndex(i.clone(e));const s=t.attributes;for(const d in s){const m=s[d];this.setAttribute(d,m.clone(e))}const a=t.morphAttributes;for(const d in a){const m=[],g=a[d];for(let y=0,A=g.length;y<A;y++)m.push(g[y].clone(e));this.morphAttributes[d]=m}this.morphTargetsRelative=t.morphTargetsRelative;const o=t.groups;for(let d=0,m=o.length;d<m;d++){const g=o[d];this.addGroup(g.start,g.count,g.materialIndex)}const c=t.boundingBox;c!==null&&(this.boundingBox=c.clone());const u=t.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const K2=new Re,Qf=new pm,B1=new Fs,J2=new q,D1=new q,L1=new q,N1=new q,_b=new q,U1=new q,Z2=new q,O1=new q;class ji extends gn{constructor(t=new We,e=new dr){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const s=e[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=s.length;a<o;a++){const c=s[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=a}}}}getVertexPosition(t,e){const i=this.geometry,s=i.attributes.position,a=i.morphAttributes.position,o=i.morphTargetsRelative;e.fromBufferAttribute(s,t);const c=this.morphTargetInfluences;if(a&&c){U1.set(0,0,0);for(let u=0,d=a.length;u<d;u++){const m=c[u],g=a[u];m!==0&&(_b.fromBufferAttribute(g,t),o?U1.addScaledVector(_b,m):U1.addScaledVector(_b.sub(e),m))}e.add(U1)}return e}raycast(t,e){const i=this.geometry,s=this.material,a=this.matrixWorld;s!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),B1.copy(i.boundingSphere),B1.applyMatrix4(a),Qf.copy(t.ray).recast(t.near),!(B1.containsPoint(Qf.origin)===!1&&(Qf.intersectSphere(B1,J2)===null||Qf.origin.distanceToSquared(J2)>(t.far-t.near)**2))&&(K2.copy(a).invert(),Qf.copy(t.ray).applyMatrix4(K2),!(i.boundingBox!==null&&Qf.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(t,e,Qf)))}_computeIntersections(t,e,i){let s;const a=this.geometry,o=this.material,c=a.index,u=a.attributes.position,d=a.attributes.uv,m=a.attributes.uv1,g=a.attributes.normal,y=a.groups,A=a.drawRange;if(c!==null)if(Array.isArray(o))for(let b=0,T=y.length;b<T;b++){const E=y[b],S=o[E.materialIndex],R=Math.max(E.start,A.start),B=Math.min(c.count,Math.min(E.start+E.count,A.start+A.count));for(let D=R,U=B;D<U;D+=3){const N=c.getX(D),F=c.getX(D+1),z=c.getX(D+2);s=P1(this,S,t,i,d,m,g,N,F,z),s&&(s.faceIndex=Math.floor(D/3),s.face.materialIndex=E.materialIndex,e.push(s))}}else{const b=Math.max(0,A.start),T=Math.min(c.count,A.start+A.count);for(let E=b,S=T;E<S;E+=3){const R=c.getX(E),B=c.getX(E+1),D=c.getX(E+2);s=P1(this,o,t,i,d,m,g,R,B,D),s&&(s.faceIndex=Math.floor(E/3),e.push(s))}}else if(u!==void 0)if(Array.isArray(o))for(let b=0,T=y.length;b<T;b++){const E=y[b],S=o[E.materialIndex],R=Math.max(E.start,A.start),B=Math.min(u.count,Math.min(E.start+E.count,A.start+A.count));for(let D=R,U=B;D<U;D+=3){const N=D,F=D+1,z=D+2;s=P1(this,S,t,i,d,m,g,N,F,z),s&&(s.faceIndex=Math.floor(D/3),s.face.materialIndex=E.materialIndex,e.push(s))}}else{const b=Math.max(0,A.start),T=Math.min(u.count,A.start+A.count);for(let E=b,S=T;E<S;E+=3){const R=E,B=E+1,D=E+2;s=P1(this,o,t,i,d,m,g,R,B,D),s&&(s.faceIndex=Math.floor(E/3),e.push(s))}}}}function E7(n,t,e,i,s,a,o,c){let u;if(t.side===Ea?u=i.intersectTriangle(o,a,s,!0,c):u=i.intersectTriangle(s,a,o,t.side===Ol,c),u===null)return null;O1.copy(c),O1.applyMatrix4(n.matrixWorld);const d=e.ray.origin.distanceTo(O1);return d<e.near||d>e.far?null:{distance:d,point:O1.clone(),object:n}}function P1(n,t,e,i,s,a,o,c,u,d){n.getVertexPosition(c,D1),n.getVertexPosition(u,L1),n.getVertexPosition(d,N1);const m=E7(n,t,e,i,D1,L1,N1,Z2);if(m){const g=new q;ja.getBarycoord(Z2,D1,L1,N1,g),s&&(m.uv=ja.getInterpolatedAttribute(s,c,u,d,g,new Ft)),a&&(m.uv1=ja.getInterpolatedAttribute(a,c,u,d,g,new Ft)),o&&(m.normal=ja.getInterpolatedAttribute(o,c,u,d,g,new q),m.normal.dot(i.direction)>0&&m.normal.multiplyScalar(-1));const y={a:c,b:u,c:d,normal:new q,materialIndex:0};ja.getNormal(D1,L1,N1,y.normal),m.face=y,m.barycoord=g}return m}class Jh extends We{constructor(t=1,e=1,i=1,s=1,a=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:s,heightSegments:a,depthSegments:o};const c=this;s=Math.floor(s),a=Math.floor(a),o=Math.floor(o);const u=[],d=[],m=[],g=[];let y=0,A=0;b("z","y","x",-1,-1,i,e,t,o,a,0),b("z","y","x",1,-1,i,e,-t,o,a,1),b("x","z","y",1,1,t,i,e,s,o,2),b("x","z","y",1,-1,t,i,-e,s,o,3),b("x","y","z",1,-1,t,e,i,s,a,4),b("x","y","z",-1,-1,t,e,-i,s,a,5),this.setIndex(u),this.setAttribute("position",new Se(d,3)),this.setAttribute("normal",new Se(m,3)),this.setAttribute("uv",new Se(g,2));function b(T,E,S,R,B,D,U,N,F,z,O){const I=D/F,Y=U/z,dt=D/2,at=U/2,Q=N/2,lt=F+1,tt=z+1;let et=0,Z=0;const vt=new q;for(let X=0;X<tt;X++){const it=X*Y-at;for(let Mt=0;Mt<lt;Mt++){const Ot=Mt*I-dt;vt[T]=Ot*R,vt[E]=it*B,vt[S]=Q,d.push(vt.x,vt.y,vt.z),vt[T]=0,vt[E]=0,vt[S]=N>0?1:-1,m.push(vt.x,vt.y,vt.z),g.push(Mt/F),g.push(1-X/z),et+=1}}for(let X=0;X<z;X++)for(let it=0;it<F;it++){const Mt=y+it+lt*X,Ot=y+it+lt*(X+1),st=y+(it+1)+lt*(X+1),Et=y+(it+1)+lt*X;u.push(Mt,Ot,Et),u.push(Ot,st,Et),Z+=6}c.addGroup(A,Z,O),A+=Z,y+=et}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Jh(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function $p(n){const t={};for(const e in n){t[e]={};for(const i in n[e]){const s=n[e][i];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[e][i]=null):t[e][i]=s.clone():Array.isArray(s)?t[e][i]=s.slice():t[e][i]=s}}return t}function xa(n){const t={};for(let e=0;e<n.length;e++){const i=$p(n[e]);for(const s in i)t[s]=i[s]}return t}function T7(n){const t=[];for(let e=0;e<n.length;e++)t.push(n[e].clone());return t}function nP(n){const t=n.getRenderTarget();return t===null?n.outputColorSpace:t.isXRRenderTarget===!0?t.texture.colorSpace:Sn.workingColorSpace}const iP={clone:$p,merge:xa};var C7=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,w7=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Oo extends ss{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=C7,this.fragmentShader=w7,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=$p(t.uniforms),this.uniformsGroups=T7(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const s in this.uniforms){const o=this.uniforms[s].value;o&&o.isTexture?e.uniforms[s]={type:"t",value:o.toJSON(t).uuid}:o&&o.isColor?e.uniforms[s]={type:"c",value:o.getHex()}:o&&o.isVector2?e.uniforms[s]={type:"v2",value:o.toArray()}:o&&o.isVector3?e.uniforms[s]={type:"v3",value:o.toArray()}:o&&o.isVector4?e.uniforms[s]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?e.uniforms[s]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?e.uniforms[s]={type:"m4",value:o.toArray()}:e.uniforms[s]={value:o}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const i={};for(const s in this.extensions)this.extensions[s]===!0&&(i[s]=!0);return Object.keys(i).length>0&&(e.extensions=i),e}}class A_ extends gn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Re,this.projectionMatrix=new Re,this.projectionMatrixInverse=new Re,this.coordinateSystem=Do}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Du=new q,Q2=new Ft,$2=new Ft;class Vi extends A_{constructor(t=50,e=1,i=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=i,this.far=s,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=Zp*2*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(Nh*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return Zp*2*Math.atan(Math.tan(Nh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(t,e,i){Du.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),e.set(Du.x,Du.y).multiplyScalar(-t/Du.z),Du.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Du.x,Du.y).multiplyScalar(-t/Du.z)}getViewSize(t,e){return this.getViewBounds(t,Q2,$2),e.subVectors($2,Q2)}setViewOffset(t,e,i,s,a,o){this.aspect=t/e,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=s,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(Nh*.5*this.fov)/this.zoom,i=2*e,s=this.aspect*i,a=-.5*s;const o=this.view;if(this.view!==null&&this.view.enabled){const u=o.fullWidth,d=o.fullHeight;a+=o.offsetX*s/u,e-=o.offsetY*i/d,s*=o.width/u,i*=o.height/d}const c=this.filmOffset;c!==0&&(a+=t*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+s,e,e-i,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,this.view!==null&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}const op=-90,lp=1;class sP extends gn{constructor(t,e,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const s=new Vi(op,lp,t,e);s.layers=this.layers,this.add(s);const a=new Vi(op,lp,t,e);a.layers=this.layers,this.add(a);const o=new Vi(op,lp,t,e);o.layers=this.layers,this.add(o);const c=new Vi(op,lp,t,e);c.layers=this.layers,this.add(c);const u=new Vi(op,lp,t,e);u.layers=this.layers,this.add(u);const d=new Vi(op,lp,t,e);d.layers=this.layers,this.add(d)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[i,s,a,o,c,u]=e;for(const d of e)this.remove(d);if(t===Do)i.up.set(0,1,0),i.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),c.up.set(0,1,0),c.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else if(t===Z0)i.up.set(0,-1,0),i.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),c.up.set(0,-1,0),c.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);for(const d of e)this.add(d),d.updateMatrixWorld()}update(t,e){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:s}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[a,o,c,u,d,m]=this.children,g=t.getRenderTarget(),y=t.getActiveCubeFace(),A=t.getActiveMipmapLevel(),b=t.xr.enabled;t.xr.enabled=!1;const T=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,t.setRenderTarget(i,0,s),t.render(e,a),t.setRenderTarget(i,1,s),t.render(e,o),t.setRenderTarget(i,2,s),t.render(e,c),t.setRenderTarget(i,3,s),t.render(e,u),t.setRenderTarget(i,4,s),t.render(e,d),i.texture.generateMipmaps=T,t.setRenderTarget(i,5,s),t.render(e,m),t.setRenderTarget(g,y,A),t.xr.enabled=b,i.texture.needsPMREMUpdate=!0}}class bv extends ui{constructor(t,e,i,s,a,o,c,u,d,m){t=t!==void 0?t:[],e=e!==void 0?e:Pc,super(t,e,i,s,a,o,c,u,d,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class aP extends Pl{constructor(t=1,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const i={width:t,height:t,depth:1},s=[i,i,i,i,i,i];this.texture=new bv(s,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=e.generateMipmaps!==void 0?e.generateMipmaps:!1,this.texture.minFilter=e.minFilter!==void 0?e.minFilter:ki}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},s=new Jh(5,5,5),a=new Oo({name:"CubemapFromEquirect",uniforms:$p(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Ea,blending:Dc});a.uniforms.tEquirect.value=e;const o=new ji(s,a),c=e.minFilter;return e.minFilter===Hr&&(e.minFilter=ki),new sP(1,10,this).update(t,o),e.minFilter=c,o.geometry.dispose(),o.material.dispose(),this}clear(t,e,i,s){const a=t.getRenderTarget();for(let o=0;o<6;o++)t.setRenderTarget(this,o),t.clear(e,i,s);t.setRenderTarget(a)}}class Cc extends gn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const R7={type:"move"};class Dx{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Cc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Cc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new q,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new q),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Cc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new q,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new q),this._grip}dispatchEvent(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const e=this._hand;if(e)for(const i of t.hand.values())this._getHandJoint(e,i)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(t,e,i){let s=null,a=null,o=null;const c=this._targetRay,u=this._grip,d=this._hand;if(t&&e.session.visibilityState!=="visible-blurred"){if(d&&t.hand){o=!0;for(const T of t.hand.values()){const E=e.getJointPose(T,i),S=this._getHandJoint(d,T);E!==null&&(S.matrix.fromArray(E.transform.matrix),S.matrix.decompose(S.position,S.rotation,S.scale),S.matrixWorldNeedsUpdate=!0,S.jointRadius=E.radius),S.visible=E!==null}const m=d.joints["index-finger-tip"],g=d.joints["thumb-tip"],y=m.position.distanceTo(g.position),A=.02,b=.005;d.inputState.pinching&&y>A+b?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!d.inputState.pinching&&y<=A-b&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else u!==null&&t.gripSpace&&(a=e.getPose(t.gripSpace,i),a!==null&&(u.matrix.fromArray(a.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,a.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(a.linearVelocity)):u.hasLinearVelocity=!1,a.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(a.angularVelocity)):u.hasAngularVelocity=!1));c!==null&&(s=e.getPose(t.targetRaySpace,i),s===null&&a!==null&&(s=a),s!==null&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1,this.dispatchEvent(R7)))}return c!==null&&(c.visible=s!==null),u!==null&&(u.visible=a!==null),d!==null&&(d.visible=o!==null),this}_getHandJoint(t,e){if(t.joints[e.jointName]===void 0){const i=new Cc;i.matrixAutoUpdate=!1,i.visible=!1,t.joints[e.jointName]=i,t.add(i)}return t.joints[e.jointName]}}class __{constructor(t,e=25e-5){this.isFogExp2=!0,this.name="",this.color=new ie(t),this.density=e}clone(){return new __(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class S_{constructor(t,e=1,i=1e3){this.isFog=!0,this.name="",this.color=new ie(t),this.near=e,this.far=i}clone(){return new S_(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class ZT extends gn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Wa,this.environmentIntensity=1,this.environmentRotation=new Wa,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,this.backgroundRotation.copy(t.backgroundRotation),this.environmentIntensity=t.environmentIntensity,this.environmentRotation.copy(t.environmentRotation),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return this.fog!==null&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(e.object.backgroundIntensity=this.backgroundIntensity),e.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(e.object.environmentIntensity=this.environmentIntensity),e.object.environmentRotation=this.environmentRotation.toArray(),e}}class Mv{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=t!==void 0?t.length/e:0,this.usage=J0,this.updateRanges=[],this.version=0,this.uuid=pr()}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,i){t*=this.stride,i*=e.stride;for(let s=0,a=this.stride;s<a;s++)this.array[t+s]=e.array[i+s];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=pr()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(e,this.stride);return i.setUsage(this.usage),i}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=pr()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ya=new q;class Ju{constructor(t,e,i,s=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=e,this.offset=i,this.normalized=s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,i=this.data.count;e<i;e++)ya.fromBufferAttribute(this,e),ya.applyMatrix4(t),this.setXYZ(e,ya.x,ya.y,ya.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)ya.fromBufferAttribute(this,e),ya.applyNormalMatrix(t),this.setXYZ(e,ya.x,ya.y,ya.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)ya.fromBufferAttribute(this,e),ya.transformDirection(t),this.setXYZ(e,ya.x,ya.y,ya.z);return this}getComponent(t,e){let i=this.array[t*this.data.stride+this.offset+e];return this.normalized&&(i=Sa(i,this.array)),i}setComponent(t,e,i){return this.normalized&&(i=qe(i,this.array)),this.data.array[t*this.data.stride+this.offset+e]=i,this}setX(t,e){return this.normalized&&(e=qe(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.normalized&&(e=qe(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.normalized&&(e=qe(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.normalized&&(e=qe(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){let e=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(e=Sa(e,this.array)),e}getY(t){let e=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(e=Sa(e,this.array)),e}getZ(t){let e=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(e=Sa(e,this.array)),e}getW(t){let e=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(e=Sa(e,this.array)),e}setXY(t,e,i){return t=t*this.data.stride+this.offset,this.normalized&&(e=qe(e,this.array),i=qe(i,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this}setXYZ(t,e,i,s){return t=t*this.data.stride+this.offset,this.normalized&&(e=qe(e,this.array),i=qe(i,this.array),s=qe(s,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=s,this}setXYZW(t,e,i,s,a){return t=t*this.data.stride+this.offset,this.normalized&&(e=qe(e,this.array),i=qe(i,this.array),s=qe(s,this.array),a=qe(a,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=s,this.data.array[t+3]=a,this}clone(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)e.push(this.data.array[s+a])}return new wn(new this.array.constructor(e),this.itemSize,this.normalized)}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new Ju(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)e.push(this.data.array[s+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class QT extends ss{constructor(t){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ie(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}let cp;const Xg=new q,up=new q,fp=new q,hp=new Ft,Yg=new Ft,rP=new Re,I1=new q,Wg=new q,F1=new q,tB=new Ft,Sb=new Ft,eB=new Ft;class oP extends gn{constructor(t=new QT){if(super(),this.isSprite=!0,this.type="Sprite",cp===void 0){cp=new We;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Mv(e,5);cp.setIndex([0,1,2,0,2,3]),cp.setAttribute("position",new Ju(i,3,0,!1)),cp.setAttribute("uv",new Ju(i,2,3,!1))}this.geometry=cp,this.material=t,this.center=new Ft(.5,.5)}raycast(t,e){t.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),up.setFromMatrixScale(this.matrixWorld),rP.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),fp.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&up.multiplyScalar(-fp.z);const i=this.material.rotation;let s,a;i!==0&&(a=Math.cos(i),s=Math.sin(i));const o=this.center;z1(I1.set(-.5,-.5,0),fp,o,up,s,a),z1(Wg.set(.5,-.5,0),fp,o,up,s,a),z1(F1.set(.5,.5,0),fp,o,up,s,a),tB.set(0,0),Sb.set(1,0),eB.set(1,1);let c=t.ray.intersectTriangle(I1,Wg,F1,!1,Xg);if(c===null&&(z1(Wg.set(-.5,.5,0),fp,o,up,s,a),Sb.set(0,1),c=t.ray.intersectTriangle(I1,F1,Wg,!1,Xg),c===null))return;const u=t.ray.origin.distanceTo(Xg);u<t.near||u>t.far||e.push({distance:u,point:Xg.clone(),uv:ja.getInterpolation(Xg,I1,Wg,F1,tB,Sb,eB,new Ft),face:null,object:this})}copy(t,e){return super.copy(t,e),t.center!==void 0&&this.center.copy(t.center),this.material=t.material,this}}function z1(n,t,e,i,s,a){hp.subVectors(n,e).addScalar(.5).multiply(i),s!==void 0?(Yg.x=a*hp.x-s*hp.y,Yg.y=s*hp.x+a*hp.y):Yg.copy(hp),n.copy(t),n.x+=Yg.x,n.y+=Yg.y,n.applyMatrix4(rP)}const H1=new q,nB=new q;class lP extends gn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(t){super.copy(t,!1);const e=t.levels;for(let i=0,s=e.length;i<s;i++){const a=e[i];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=t.autoUpdate,this}addLevel(t,e=0,i=0){e=Math.abs(e);const s=this.levels;let a;for(a=0;a<s.length&&!(e<s[a].distance);a++);return s.splice(a,0,{distance:e,hysteresis:i,object:t}),this.add(t),this}removeLevel(t){const e=this.levels;for(let i=0;i<e.length;i++)if(e[i].distance===t){const s=e.splice(i,1);return this.remove(s[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(t){const e=this.levels;if(e.length>0){let i,s;for(i=1,s=e.length;i<s;i++){let a=e[i].distance;if(e[i].object.visible&&(a-=a*e[i].hysteresis),t<a)break}return e[i-1].object}return null}raycast(t,e){if(this.levels.length>0){H1.setFromMatrixPosition(this.matrixWorld);const s=t.ray.origin.distanceTo(H1);this.getObjectForDistance(s).raycast(t,e)}}update(t){const e=this.levels;if(e.length>1){H1.setFromMatrixPosition(t.matrixWorld),nB.setFromMatrixPosition(this.matrixWorld);const i=H1.distanceTo(nB)/t.zoom;e[0].object.visible=!0;let s,a;for(s=1,a=e.length;s<a;s++){let o=e[s].distance;if(e[s].object.visible&&(o-=o*e[s].hysteresis),i>=o)e[s-1].object.visible=!1,e[s].object.visible=!0;else break}for(this._currentLevel=s-1;s<a;s++)e[s].object.visible=!1}}toJSON(t){const e=super.toJSON(t);this.autoUpdate===!1&&(e.object.autoUpdate=!1),e.object.levels=[];const i=this.levels;for(let s=0,a=i.length;s<a;s++){const o=i[s];e.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return e}}const iB=new q,sB=new mn,aB=new mn,B7=new q,rB=new Re,G1=new q,bb=new Fs,oB=new Re,Mb=new pm;class $T extends ji{constructor(t,e){super(t,e),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=nE,this.bindMatrix=new Re,this.bindMatrixInverse=new Re,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const t=this.geometry;this.boundingBox===null&&(this.boundingBox=new aa),this.boundingBox.makeEmpty();const e=t.getAttribute("position");for(let i=0;i<e.count;i++)this.getVertexPosition(i,G1),this.boundingBox.expandByPoint(G1)}computeBoundingSphere(){const t=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Fs),this.boundingSphere.makeEmpty();const e=t.getAttribute("position");for(let i=0;i<e.count;i++)this.getVertexPosition(i,G1),this.boundingSphere.expandByPoint(G1)}copy(t,e){return super.copy(t,e),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}raycast(t,e){const i=this.material,s=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),bb.copy(this.boundingSphere),bb.applyMatrix4(s),t.ray.intersectsSphere(bb)!==!1&&(oB.copy(s).invert(),Mb.copy(t.ray).applyMatrix4(oB),!(this.boundingBox!==null&&Mb.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(t,e,Mb)))}getVertexPosition(t,e){return super.getVertexPosition(t,e),this.applyBoneTransform(t,e),e}bind(t,e){this.skeleton=t,e===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new mn,e=this.geometry.attributes.skinWeight;for(let i=0,s=e.count;i<s;i++){t.fromBufferAttribute(e,i);const a=1/t.manhattanLength();a!==1/0?t.multiplyScalar(a):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),this.bindMode===nE?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===IO?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(t,e){const i=this.skeleton,s=this.geometry;sB.fromBufferAttribute(s.attributes.skinIndex,t),aB.fromBufferAttribute(s.attributes.skinWeight,t),iB.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let a=0;a<4;a++){const o=aB.getComponent(a);if(o!==0){const c=sB.getComponent(a);rB.multiplyMatrices(i.bones[c].matrixWorld,i.boneInverses[c]),e.addScaledVector(B7.copy(iB).applyMatrix4(rB),o)}}return e.applyMatrix4(this.bindMatrixInverse)}}class b_ extends gn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Rl extends ui{constructor(t=null,e=1,i=1,s,a,o,c,u,d=Ts,m=Ts,g,y){super(null,o,c,u,d,m,s,a,g,y),this.isDataTexture=!0,this.image={data:t,width:e,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const lB=new Re,D7=new Re;class Ev{constructor(t=[],e=[]){this.uuid=pr(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(t.length*16),e.length===0)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,s=this.bones.length;i<s;i++)this.boneInverses.push(new Re)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const i=new Re;this.bones[t]&&i.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&i.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const t=this.bones,e=this.boneInverses,i=this.boneMatrices,s=this.boneTexture;for(let a=0,o=t.length;a<o;a++){const c=t[a]?t[a].matrixWorld:D7;lB.multiplyMatrices(c,e[a]),lB.toArray(i,a*16)}s!==null&&(s.needsUpdate=!0)}clone(){return new Ev(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(this.bones.length*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const i=new Rl(e,t,t,na,Xa);return i.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=i,this}getBoneByName(t){for(let e=0,i=this.bones.length;e<i;e++){const s=this.bones[e];if(s.name===t)return s}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let i=0,s=t.bones.length;i<s;i++){const a=t.bones[i];let o=e[a];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),o=new b_),this.bones.push(o),this.boneInverses.push(new Re().fromArray(t.boneInverses[i]))}return this.init(),this}toJSON(){const t={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,i=this.boneInverses;for(let s=0,a=e.length;s<a;s++){const o=e[s];t.bones.push(o.uuid);const c=i[s];t.boneInverses.push(c.toArray())}return t}}class Vh extends wn{constructor(t,e,i,s=1){super(t,e,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=s}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}const dp=new Re,cB=new Re,V1=[],uB=new aa,L7=new Re,qg=new ji,Kg=new Fs;class tC extends ji{constructor(t,e,i){super(t,e),this.isInstancedMesh=!0,this.instanceMatrix=new Vh(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let s=0;s<i;s++)this.setMatrixAt(s,L7)}computeBoundingBox(){const t=this.geometry,e=this.count;this.boundingBox===null&&(this.boundingBox=new aa),t.boundingBox===null&&t.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<e;i++)this.getMatrixAt(i,dp),uB.copy(t.boundingBox).applyMatrix4(dp),this.boundingBox.union(uB)}computeBoundingSphere(){const t=this.geometry,e=this.count;this.boundingSphere===null&&(this.boundingSphere=new Fs),t.boundingSphere===null&&t.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<e;i++)this.getMatrixAt(i,dp),Kg.copy(t.boundingSphere).applyMatrix4(dp),this.boundingSphere.union(Kg)}copy(t,e){return super.copy(t,e),this.instanceMatrix.copy(t.instanceMatrix),t.morphTexture!==null&&(this.morphTexture=t.morphTexture.clone()),t.instanceColor!==null&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}getColorAt(t,e){e.fromArray(this.instanceColor.array,t*3)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,t*16)}getMorphAt(t,e){const i=e.morphTargetInfluences,s=this.morphTexture.source.data.data,a=i.length+1,o=t*a+1;for(let c=0;c<i.length;c++)i[c]=s[o+c]}raycast(t,e){const i=this.matrixWorld,s=this.count;if(qg.geometry=this.geometry,qg.material=this.material,qg.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Kg.copy(this.boundingSphere),Kg.applyMatrix4(i),t.ray.intersectsSphere(Kg)!==!1))for(let a=0;a<s;a++){this.getMatrixAt(a,dp),cB.multiplyMatrices(i,dp),qg.matrixWorld=cB,qg.raycast(t,V1);for(let o=0,c=V1.length;o<c;o++){const u=V1[o];u.instanceId=a,u.object=this,e.push(u)}V1.length=0}}setColorAt(t,e){this.instanceColor===null&&(this.instanceColor=new Vh(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),e.toArray(this.instanceColor.array,t*3)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,t*16)}setMorphAt(t,e){const i=e.morphTargetInfluences,s=i.length+1;this.morphTexture===null&&(this.morphTexture=new Rl(new Float32Array(s*this.count),s,this.count,p_,Xa));const a=this.morphTexture.source.data.data;let o=0;for(let d=0;d<i.length;d++)o+=i[d];const c=this.geometry.morphTargetsRelative?1:1-o,u=s*t;a[u]=c,a.set(i,u+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}const Eb=new q,N7=new q,U7=new Ye;class Gu{constructor(t=new q(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,i,s){return this.normal.set(t,e,i),this.constant=s,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,i){const s=Eb.subVectors(i,e).cross(N7.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(s,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const i=t.delta(Eb),s=this.normal.dot(i);if(s===0)return this.distanceToPoint(t.start)===0?e.copy(t.start):null;const a=-(t.start.dot(this.normal)+this.constant)/s;return a<0||a>1?null:e.copy(t.start).addScaledVector(i,a)}intersectsLine(t){const e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const i=e||U7.getNormalMatrix(t),s=this.coplanarPoint(Eb).applyMatrix4(t),a=this.normal.applyMatrix3(i).normalize();return this.constant=-s.dot(a),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}}const $f=new Fs,k1=new q;class Tv{constructor(t=new Gu,e=new Gu,i=new Gu,s=new Gu,a=new Gu,o=new Gu){this.planes=[t,e,i,s,a,o]}set(t,e,i,s,a,o){const c=this.planes;return c[0].copy(t),c[1].copy(e),c[2].copy(i),c[3].copy(s),c[4].copy(a),c[5].copy(o),this}copy(t){const e=this.planes;for(let i=0;i<6;i++)e[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t,e=Do){const i=this.planes,s=t.elements,a=s[0],o=s[1],c=s[2],u=s[3],d=s[4],m=s[5],g=s[6],y=s[7],A=s[8],b=s[9],T=s[10],E=s[11],S=s[12],R=s[13],B=s[14],D=s[15];if(i[0].setComponents(u-a,y-d,E-A,D-S).normalize(),i[1].setComponents(u+a,y+d,E+A,D+S).normalize(),i[2].setComponents(u+o,y+m,E+b,D+R).normalize(),i[3].setComponents(u-o,y-m,E-b,D-R).normalize(),i[4].setComponents(u-c,y-g,E-T,D-B).normalize(),e===Do)i[5].setComponents(u+c,y+g,E+T,D+B).normalize();else if(e===Z0)i[5].setComponents(c,g,T,B).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);return this}intersectsObject(t){if(t.boundingSphere!==void 0)t.boundingSphere===null&&t.computeBoundingSphere(),$f.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;e.boundingSphere===null&&e.computeBoundingSphere(),$f.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere($f)}intersectsSprite(t){return $f.center.set(0,0,0),$f.radius=.7071067811865476,$f.applyMatrix4(t.matrixWorld),this.intersectsSphere($f)}intersectsSphere(t){const e=this.planes,i=t.center,s=-t.radius;for(let a=0;a<6;a++)if(e[a].distanceToPoint(i)<s)return!1;return!0}intersectsBox(t){const e=this.planes;for(let i=0;i<6;i++){const s=e[i];if(k1.x=s.normal.x>0?t.max.x:t.min.x,k1.y=s.normal.y>0?t.max.y:t.min.y,k1.z=s.normal.z>0?t.max.z:t.min.z,s.distanceToPoint(k1)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Tb(n,t){return n-t}function O7(n,t){return n.z-t.z}function P7(n,t){return t.z-n.z}class I7{constructor(){this.index=0,this.pool=[],this.list=[]}push(t,e,i,s){const a=this.pool,o=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const c=a[this.index];o.push(c),this.index++,c.start=t,c.count=e,c.z=i,c.index=s}reset(){this.list.length=0,this.index=0}}const Va=new Re,F7=new ie(1,1,1),Cb=new Tv,j1=new aa,th=new Fs,Jg=new q,fB=new q,z7=new q,wb=new I7,Qs=new ji,X1=[];function H7(n,t,e=0){const i=t.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==t.array.constructor){const s=n.count;for(let a=0;a<s;a++)for(let o=0;o<i;o++)t.setComponent(a+e,o,n.getComponent(a,o))}else t.array.set(n.array,e*i);t.needsUpdate=!0}function eh(n,t){if(n.constructor!==t.constructor){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++)t[i]=n[i]}else{const e=Math.min(n.length,t.length);t.set(new n.constructor(n.buffer,0,e))}}class cP extends ji{get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}constructor(t,e,i=e*2,s){super(new We,s),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=t,this._maxVertexCount=e,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(t),this._multiDrawStarts=new Int32Array(t),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let t=Math.sqrt(this._maxInstanceCount*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);const e=new Float32Array(t*t*4),i=new Rl(e,t,t,na,Xa);this._matricesTexture=i}_initIndirectTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Uint32Array(t*t),i=new Rl(e,t,t,_v,Ic);this._indirectTexture=i}_initColorsTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Float32Array(t*t*4).fill(1),i=new Rl(e,t,t,na,Xa);i.colorSpace=Sn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(t){const e=this.geometry,i=this._maxVertexCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in t.attributes){const o=t.getAttribute(a),{array:c,itemSize:u,normalized:d}=o,m=new c.constructor(i*u),g=new wn(m,u,d);e.setAttribute(a,g)}if(t.getIndex()!==null){const a=i>65535?new Uint32Array(s):new Uint16Array(s);e.setIndex(new wn(a,1))}this._geometryInitialized=!0}}_validateGeometry(t){const e=this.geometry;if(!!t.getIndex()!=!!e.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in e.attributes){if(!t.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const s=t.getAttribute(i),a=e.getAttribute(i);if(s.itemSize!==a.itemSize||s.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(t){const e=this._instanceInfo;if(t<0||t>=e.length||e[t].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${t}. Instance is either out of range or has been deleted.`)}validateGeometryId(t){const e=this._geometryInfo;if(t<0||t>=e.length||e[t].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${t}. Geometry is either out of range or has been deleted.`)}setCustomSort(t){return this.customSort=t,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new aa);const t=this.boundingBox,e=this._instanceInfo;t.makeEmpty();for(let i=0,s=e.length;i<s;i++){if(e[i].active===!1)continue;const a=e[i].geometryIndex;this.getMatrixAt(i,Va),this.getBoundingBoxAt(a,j1).applyMatrix4(Va),t.union(j1)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Fs);const t=this.boundingSphere,e=this._instanceInfo;t.makeEmpty();for(let i=0,s=e.length;i<s;i++){if(e[i].active===!1)continue;const a=e[i].geometryIndex;this.getMatrixAt(i,Va),this.getBoundingSphereAt(a,th).applyMatrix4(Va),t.union(th)}}addInstance(t){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:t};let s=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(Tb),s=this._availableInstanceIds.shift(),this._instanceInfo[s]=i):(s=this._instanceInfo.length,this._instanceInfo.push(i));const a=this._matricesTexture;Va.identity().toArray(a.image.data,s*16),a.needsUpdate=!0;const o=this._colorsTexture;return o&&(F7.toArray(o.image.data,s*4),o.needsUpdate=!0),this._visibilityChanged=!0,s}addGeometry(t,e=-1,i=-1){this._initializeGeometry(t),this._validateGeometry(t);const s={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;s.vertexStart=this._nextVertexStart,s.reservedVertexCount=e===-1?t.getAttribute("position").count:e;const o=t.getIndex();if(o!==null&&(s.indexStart=this._nextIndexStart,s.reservedIndexCount=i===-1?o.count:i),s.indexStart!==-1&&s.indexStart+s.reservedIndexCount>this._maxIndexCount||s.vertexStart+s.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let u;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(Tb),u=this._availableGeometryIds.shift(),a[u]=s):(u=this._geometryCount,this._geometryCount++,a.push(s)),this.setGeometryAt(u,t),this._nextIndexStart=s.indexStart+s.reservedIndexCount,this._nextVertexStart=s.vertexStart+s.reservedVertexCount,u}setGeometryAt(t,e){if(t>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(e);const i=this.geometry,s=i.getIndex()!==null,a=i.getIndex(),o=e.getIndex(),c=this._geometryInfo[t];if(s&&o.count>c.reservedIndexCount||e.attributes.position.count>c.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const u=c.vertexStart,d=c.reservedVertexCount;c.vertexCount=e.getAttribute("position").count;for(const m in i.attributes){const g=e.getAttribute(m),y=i.getAttribute(m);H7(g,y,u);const A=g.itemSize;for(let b=g.count,T=d;b<T;b++){const E=u+b;for(let S=0;S<A;S++)y.setComponent(E,S,0)}y.needsUpdate=!0,y.addUpdateRange(u*A,d*A)}if(s){const m=c.indexStart,g=c.reservedIndexCount;c.indexCount=e.getIndex().count;for(let y=0;y<o.count;y++)a.setX(m+y,u+o.getX(y));for(let y=o.count,A=g;y<A;y++)a.setX(m+y,u);a.needsUpdate=!0,a.addUpdateRange(m,c.reservedIndexCount)}return c.start=s?c.indexStart:c.vertexStart,c.count=s?c.indexCount:c.vertexCount,c.boundingBox=null,e.boundingBox!==null&&(c.boundingBox=e.boundingBox.clone()),c.boundingSphere=null,e.boundingSphere!==null&&(c.boundingSphere=e.boundingSphere.clone()),this._visibilityChanged=!0,t}deleteGeometry(t){const e=this._geometryInfo;if(t>=e.length||e[t].active===!1)return this;const i=this._instanceInfo;for(let s=0,a=i.length;s<a;s++)i[s].active&&i[s].geometryIndex===t&&this.deleteInstance(s);return e[t].active=!1,this._availableGeometryIds.push(t),this._visibilityChanged=!0,this}deleteInstance(t){return this.validateInstanceId(t),this._instanceInfo[t].active=!1,this._availableInstanceIds.push(t),this._visibilityChanged=!0,this}optimize(){let t=0,e=0;const i=this._geometryInfo,s=i.map((o,c)=>c).sort((o,c)=>i[o].vertexStart-i[c].vertexStart),a=this.geometry;for(let o=0,c=i.length;o<c;o++){const u=s[o],d=i[u];if(d.active!==!1){if(a.index!==null){if(d.indexStart!==e){const{indexStart:m,vertexStart:g,reservedIndexCount:y}=d,A=a.index,b=A.array,T=t-g;for(let E=m;E<m+y;E++)b[E]=b[E]+T;A.array.copyWithin(e,m,m+y),A.addUpdateRange(e,y),d.indexStart=e}e+=d.reservedIndexCount}if(d.vertexStart!==t){const{vertexStart:m,reservedVertexCount:g}=d,y=a.attributes;for(const A in y){const b=y[A],{array:T,itemSize:E}=b;T.copyWithin(t*E,m*E,(m+g)*E),b.addUpdateRange(t*E,g*E)}d.vertexStart=t}t+=d.reservedVertexCount,d.start=a.index?d.indexStart:d.vertexStart,this._nextIndexStart=a.index?d.indexStart+d.reservedIndexCount:0,this._nextVertexStart=d.vertexStart+d.reservedVertexCount}}return this}getBoundingBoxAt(t,e){if(t>=this._geometryCount)return null;const i=this.geometry,s=this._geometryInfo[t];if(s.boundingBox===null){const a=new aa,o=i.index,c=i.attributes.position;for(let u=s.start,d=s.start+s.count;u<d;u++){let m=u;o&&(m=o.getX(m)),a.expandByPoint(Jg.fromBufferAttribute(c,m))}s.boundingBox=a}return e.copy(s.boundingBox),e}getBoundingSphereAt(t,e){if(t>=this._geometryCount)return null;const i=this.geometry,s=this._geometryInfo[t];if(s.boundingSphere===null){const a=new Fs;this.getBoundingBoxAt(t,j1),j1.getCenter(a.center);const o=i.index,c=i.attributes.position;let u=0;for(let d=s.start,m=s.start+s.count;d<m;d++){let g=d;o&&(g=o.getX(g)),Jg.fromBufferAttribute(c,g),u=Math.max(u,a.center.distanceToSquared(Jg))}a.radius=Math.sqrt(u),s.boundingSphere=a}return e.copy(s.boundingSphere),e}setMatrixAt(t,e){this.validateInstanceId(t);const i=this._matricesTexture,s=this._matricesTexture.image.data;return e.toArray(s,t*16),i.needsUpdate=!0,this}getMatrixAt(t,e){return this.validateInstanceId(t),e.fromArray(this._matricesTexture.image.data,t*16)}setColorAt(t,e){return this.validateInstanceId(t),this._colorsTexture===null&&this._initColorsTexture(),e.toArray(this._colorsTexture.image.data,t*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(t,e){return this.validateInstanceId(t),e.fromArray(this._colorsTexture.image.data,t*4)}setVisibleAt(t,e){return this.validateInstanceId(t),this._instanceInfo[t].visible===e?this:(this._instanceInfo[t].visible=e,this._visibilityChanged=!0,this)}getVisibleAt(t){return this.validateInstanceId(t),this._instanceInfo[t].visible}setGeometryIdAt(t,e){return this.validateInstanceId(t),this.validateGeometryId(e),this._instanceInfo[t].geometryIndex=e,this}getGeometryIdAt(t){return this.validateInstanceId(t),this._instanceInfo[t].geometryIndex}getGeometryRangeAt(t,e={}){this.validateGeometryId(t);const i=this._geometryInfo[t];return e.vertexStart=i.vertexStart,e.vertexCount=i.vertexCount,e.reservedVertexCount=i.reservedVertexCount,e.indexStart=i.indexStart,e.indexCount=i.indexCount,e.reservedIndexCount=i.reservedIndexCount,e.start=i.start,e.count=i.count,e}setInstanceCount(t){const e=this._availableInstanceIds,i=this._instanceInfo;for(e.sort(Tb);e[e.length-1]===i.length;)i.pop(),e.pop();if(t<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${t} are being used. Cannot shrink instance count.`);const s=new Int32Array(t),a=new Int32Array(t);eh(this._multiDrawCounts,s),eh(this._multiDrawStarts,a),this._multiDrawCounts=s,this._multiDrawStarts=a,this._maxInstanceCount=t;const o=this._indirectTexture,c=this._matricesTexture,u=this._colorsTexture;o.dispose(),this._initIndirectTexture(),eh(o.image.data,this._indirectTexture.image.data),c.dispose(),this._initMatricesTexture(),eh(c.image.data,this._matricesTexture.image.data),u&&(u.dispose(),this._initColorsTexture(),eh(u.image.data,this._colorsTexture.image.data))}setGeometrySize(t,e){const i=[...this._geometryInfo].filter(c=>c.active);if(Math.max(...i.map(c=>c.vertexStart+c.reservedVertexCount))>t)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${e}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(u=>u.indexStart+u.reservedIndexCount))>e)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${e}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=t,this._maxIndexCount=e,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new We,this._initializeGeometry(a));const o=this.geometry;a.index&&eh(a.index.array,o.index.array);for(const c in a.attributes)eh(a.attributes[c].array,o.attributes[c].array)}raycast(t,e){const i=this._instanceInfo,s=this._geometryInfo,a=this.matrixWorld,o=this.geometry;Qs.material=this.material,Qs.geometry.index=o.index,Qs.geometry.attributes=o.attributes,Qs.geometry.boundingBox===null&&(Qs.geometry.boundingBox=new aa),Qs.geometry.boundingSphere===null&&(Qs.geometry.boundingSphere=new Fs);for(let c=0,u=i.length;c<u;c++){if(!i[c].visible||!i[c].active)continue;const d=i[c].geometryIndex,m=s[d];Qs.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(c,Qs.matrixWorld).premultiply(a),this.getBoundingBoxAt(d,Qs.geometry.boundingBox),this.getBoundingSphereAt(d,Qs.geometry.boundingSphere),Qs.raycast(t,X1);for(let g=0,y=X1.length;g<y;g++){const A=X1[g];A.object=this,A.batchId=c,e.push(A)}X1.length=0}Qs.material=null,Qs.geometry.index=null,Qs.geometry.attributes={},Qs.geometry.setDrawRange(0,1/0)}copy(t){return super.copy(t),this.geometry=t.geometry.clone(),this.perObjectFrustumCulled=t.perObjectFrustumCulled,this.sortObjects=t.sortObjects,this.boundingBox=t.boundingBox!==null?t.boundingBox.clone():null,this.boundingSphere=t.boundingSphere!==null?t.boundingSphere.clone():null,this._geometryInfo=t._geometryInfo.map(e=>({...e,boundingBox:e.boundingBox!==null?e.boundingBox.clone():null,boundingSphere:e.boundingSphere!==null?e.boundingSphere.clone():null})),this._instanceInfo=t._instanceInfo.map(e=>({...e})),this._maxInstanceCount=t._maxInstanceCount,this._maxVertexCount=t._maxVertexCount,this._maxIndexCount=t._maxIndexCount,this._geometryInitialized=t._geometryInitialized,this._geometryCount=t._geometryCount,this._multiDrawCounts=t._multiDrawCounts.slice(),this._multiDrawStarts=t._multiDrawStarts.slice(),this._matricesTexture=t._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=t._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(t,e,i,s,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=s.getIndex(),c=o===null?1:o.array.BYTES_PER_ELEMENT,u=this._instanceInfo,d=this._multiDrawStarts,m=this._multiDrawCounts,g=this._geometryInfo,y=this.perObjectFrustumCulled,A=this._indirectTexture,b=A.image.data;y&&(Va.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),Cb.setFromProjectionMatrix(Va,t.coordinateSystem));let T=0;if(this.sortObjects){Va.copy(this.matrixWorld).invert(),Jg.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Va),fB.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Va);for(let R=0,B=u.length;R<B;R++)if(u[R].visible&&u[R].active){const D=u[R].geometryIndex;this.getMatrixAt(R,Va),this.getBoundingSphereAt(D,th).applyMatrix4(Va);let U=!1;if(y&&(U=!Cb.intersectsSphere(th)),!U){const N=g[D],F=z7.subVectors(th.center,Jg).dot(fB);wb.push(N.start,N.count,F,R)}}const E=wb.list,S=this.customSort;S===null?E.sort(a.transparent?P7:O7):S.call(this,E,i);for(let R=0,B=E.length;R<B;R++){const D=E[R];d[T]=D.start*c,m[T]=D.count,b[T]=D.index,T++}wb.reset()}else for(let E=0,S=u.length;E<S;E++)if(u[E].visible&&u[E].active){const R=u[E].geometryIndex;let B=!1;if(y&&(this.getMatrixAt(E,Va),this.getBoundingSphereAt(R,th).applyMatrix4(Va),B=!Cb.intersectsSphere(th)),!B){const D=g[R];d[T]=D.start*c,m[T]=D.count,b[T]=E,T++}}A.needsUpdate=!0,this._multiDrawCount=T,this._visibilityChanged=!1}onBeforeShadow(t,e,i,s,a,o){this.onBeforeRender(t,null,s,a,o)}}class ra extends ss{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ie(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const OA=new q,PA=new q,hB=new Re,Zg=new pm,Y1=new Fs,Rb=new q,dB=new q;class Fc extends gn{constructor(t=new We,e=new ra){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,i=[0];for(let s=1,a=e.count;s<a;s++)OA.fromBufferAttribute(e,s-1),PA.fromBufferAttribute(e,s),i[s]=i[s-1],i[s]+=OA.distanceTo(PA);t.setAttribute("lineDistance",new Se(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,e){const i=this.geometry,s=this.matrixWorld,a=t.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Y1.copy(i.boundingSphere),Y1.applyMatrix4(s),Y1.radius+=a,t.ray.intersectsSphere(Y1)===!1)return;hB.copy(s).invert(),Zg.copy(t.ray).applyMatrix4(hB);const c=a/((this.scale.x+this.scale.y+this.scale.z)/3),u=c*c,d=this.isLineSegments?2:1,m=i.index,y=i.attributes.position;if(m!==null){const A=Math.max(0,o.start),b=Math.min(m.count,o.start+o.count);for(let T=A,E=b-1;T<E;T+=d){const S=m.getX(T),R=m.getX(T+1),B=W1(this,t,Zg,u,S,R,T);B&&e.push(B)}if(this.isLineLoop){const T=m.getX(b-1),E=m.getX(A),S=W1(this,t,Zg,u,T,E,b-1);S&&e.push(S)}}else{const A=Math.max(0,o.start),b=Math.min(y.count,o.start+o.count);for(let T=A,E=b-1;T<E;T+=d){const S=W1(this,t,Zg,u,T,T+1,T);S&&e.push(S)}if(this.isLineLoop){const T=W1(this,t,Zg,u,b-1,A,b-1);T&&e.push(T)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const s=e[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=s.length;a<o;a++){const c=s[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=a}}}}}function W1(n,t,e,i,s,a,o){const c=n.geometry.attributes.position;if(OA.fromBufferAttribute(c,s),PA.fromBufferAttribute(c,a),e.distanceSqToSegment(OA,PA,Rb,dB)>i)return;Rb.applyMatrix4(n.matrixWorld);const d=t.ray.origin.distanceTo(Rb);if(!(d<t.near||d>t.far))return{distance:d,point:dB.clone().applyMatrix4(n.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:n}}const pB=new q,mB=new q;class Io extends Fc{constructor(t,e){super(t,e),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,i=[];for(let s=0,a=e.count;s<a;s+=2)pB.fromBufferAttribute(e,s),mB.fromBufferAttribute(e,s+1),i[s]=s===0?0:i[s-1],i[s+1]=i[s]+pB.distanceTo(mB);t.setAttribute("lineDistance",new Se(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class eC extends Fc{constructor(t,e){super(t,e),this.isLineLoop=!0,this.type="LineLoop"}}class M_ extends ss{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ie(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const gB=new Re,aE=new pm,q1=new Fs,K1=new q;class nC extends gn{constructor(t=new We,e=new M_){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}raycast(t,e){const i=this.geometry,s=this.matrixWorld,a=t.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),q1.copy(i.boundingSphere),q1.applyMatrix4(s),q1.radius+=a,t.ray.intersectsSphere(q1)===!1)return;gB.copy(s).invert(),aE.copy(t.ray).applyMatrix4(gB);const c=a/((this.scale.x+this.scale.y+this.scale.z)/3),u=c*c,d=i.index,g=i.attributes.position;if(d!==null){const y=Math.max(0,o.start),A=Math.min(d.count,o.start+o.count);for(let b=y,T=A;b<T;b++){const E=d.getX(b);K1.fromBufferAttribute(g,E),vB(K1,E,u,s,t,e,this)}}else{const y=Math.max(0,o.start),A=Math.min(g.count,o.start+o.count);for(let b=y,T=A;b<T;b++)K1.fromBufferAttribute(g,b),vB(K1,b,u,s,t,e,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const s=e[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=s.length;a<o;a++){const c=s[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=a}}}}}function vB(n,t,e,i,s,a,o){const c=aE.distanceSqToPoint(n);if(c<e){const u=new q;aE.closestPointToPoint(n,u),u.applyMatrix4(i);const d=s.ray.origin.distanceTo(u);if(d<s.near||d>s.far)return;a.push({distance:d,distanceToRay:Math.sqrt(c),point:u,index:t,face:null,faceIndex:null,barycoord:null,object:o})}}class uP extends ui{constructor(t,e,i,s,a,o,c,u,d){super(t,e,i,s,a,o,c,u,d),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:ki,this.magFilter=a!==void 0?a:ki,this.generateMipmaps=!1;const m=this;function g(){m.needsUpdate=!0,t.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(g)}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;"requestVideoFrameCallback"in t===!1&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class G7 extends uP{constructor(t,e,i,s,a,o,c,u){super({},t,e,i,s,a,o,c,u),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(t){this.image=t,this.needsUpdate=!0}}class V7 extends ui{constructor(t,e){super({width:t,height:e}),this.isFramebufferTexture=!0,this.magFilter=Ts,this.minFilter=Ts,this.generateMipmaps=!1,this.needsUpdate=!0}}class E_ extends ui{constructor(t,e,i,s,a,o,c,u,d,m,g,y){super(null,o,c,u,d,m,s,a,g,y),this.isCompressedTexture=!0,this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}class k7 extends E_{constructor(t,e,i,s,a,o){super(t,e,i,a,o),this.isCompressedArrayTexture=!0,this.image.depth=s,this.wrapR=hr,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class j7 extends E_{constructor(t,e,i){super(void 0,t[0].width,t[0].height,e,i,Pc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=t}}class X7 extends ui{constructor(t,e,i,s,a,o,c,u,d){super(t,e,i,s,a,o,c,u,d),this.isCanvasTexture=!0,this.needsUpdate=!0}}class iC extends ui{constructor(t,e,i,s,a,o,c,u,d,m=Lh){if(m!==Lh&&m!==Gh)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&m===Lh&&(i=Ic),i===void 0&&m===Gh&&(i=Hh),super(null,s,a,o,c,u,m,i,d),this.isDepthTexture=!0,this.image={width:t,height:e},this.magFilter=c!==void 0?c:Ts,this.minFilter=u!==void 0?u:Ts,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return this.compareFunction!==null&&(e.compareFunction=this.compareFunction),e}}class Fo{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(t,e){const i=this.getUtoTmapping(t);return this.getPoint(i,e)}getPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return e}getSpacedPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let i,s=this.getPoint(0),a=0;e.push(0);for(let o=1;o<=t;o++)i=this.getPoint(o/t),a+=i.distanceTo(s),e.push(a),s=i;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e){const i=this.getLengths();let s=0;const a=i.length;let o;e?o=e:o=t*i[a-1];let c=0,u=a-1,d;for(;c<=u;)if(s=Math.floor(c+(u-c)/2),d=i[s]-o,d<0)c=s+1;else if(d>0)u=s-1;else{u=s;break}if(s=u,i[s]===o)return s/(a-1);const m=i[s],y=i[s+1]-m,A=(o-m)/y;return(s+A)/(a-1)}getTangent(t,e){let s=t-1e-4,a=t+1e-4;s<0&&(s=0),a>1&&(a=1);const o=this.getPoint(s),c=this.getPoint(a),u=e||(o.isVector2?new Ft:new q);return u.copy(c).sub(o).normalize(),u}getTangentAt(t,e){const i=this.getUtoTmapping(t);return this.getTangent(i,e)}computeFrenetFrames(t,e){const i=new q,s=[],a=[],o=[],c=new q,u=new Re;for(let A=0;A<=t;A++){const b=A/t;s[A]=this.getTangentAt(b,new q)}a[0]=new q,o[0]=new q;let d=Number.MAX_VALUE;const m=Math.abs(s[0].x),g=Math.abs(s[0].y),y=Math.abs(s[0].z);m<=d&&(d=m,i.set(1,0,0)),g<=d&&(d=g,i.set(0,1,0)),y<=d&&i.set(0,0,1),c.crossVectors(s[0],i).normalize(),a[0].crossVectors(s[0],c),o[0].crossVectors(s[0],a[0]);for(let A=1;A<=t;A++){if(a[A]=a[A-1].clone(),o[A]=o[A-1].clone(),c.crossVectors(s[A-1],s[A]),c.length()>Number.EPSILON){c.normalize();const b=Math.acos(Xe(s[A-1].dot(s[A]),-1,1));a[A].applyMatrix4(u.makeRotationAxis(c,b))}o[A].crossVectors(s[A],a[A])}if(e===!0){let A=Math.acos(Xe(a[0].dot(a[t]),-1,1));A/=t,s[0].dot(c.crossVectors(a[0],a[t]))>0&&(A=-A);for(let b=1;b<=t;b++)a[b].applyMatrix4(u.makeRotationAxis(s[b],A*b)),o[b].crossVectors(s[b],a[b])}return{tangents:s,normals:a,binormals:o}}clone(){return new this.constructor().copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class T_ extends Fo{constructor(t=0,e=0,i=1,s=1,a=0,o=Math.PI*2,c=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=i,this.yRadius=s,this.aStartAngle=a,this.aEndAngle=o,this.aClockwise=c,this.aRotation=u}getPoint(t,e=new Ft){const i=e,s=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const o=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=s;for(;a>s;)a-=s;a<Number.EPSILON&&(o?a=0:a=s),this.aClockwise===!0&&!o&&(a===s?a=-s:a=a-s);const c=this.aStartAngle+t*a;let u=this.aX+this.xRadius*Math.cos(c),d=this.aY+this.yRadius*Math.sin(c);if(this.aRotation!==0){const m=Math.cos(this.aRotation),g=Math.sin(this.aRotation),y=u-this.aX,A=d-this.aY;u=y*m-A*g+this.aX,d=y*g+A*m+this.aY}return i.set(u,d)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}class fP extends T_{constructor(t,e,i,s,a,o){super(t,e,i,i,s,a,o),this.isArcCurve=!0,this.type="ArcCurve"}}function sC(){let n=0,t=0,e=0,i=0;function s(a,o,c,u){n=a,t=c,e=-3*a+3*o-2*c-u,i=2*a-2*o+c+u}return{initCatmullRom:function(a,o,c,u,d){s(o,c,d*(c-a),d*(u-o))},initNonuniformCatmullRom:function(a,o,c,u,d,m,g){let y=(o-a)/d-(c-a)/(d+m)+(c-o)/m,A=(c-o)/m-(u-o)/(m+g)+(u-c)/g;y*=m,A*=m,s(o,c,y,A)},calc:function(a){const o=a*a,c=o*a;return n+t*a+e*o+i*c}}}const J1=new q,Bb=new sC,Db=new sC,Lb=new sC;class hP extends Fo{constructor(t=[],e=!1,i="centripetal",s=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=i,this.tension=s}getPoint(t,e=new q){const i=e,s=this.points,a=s.length,o=(a-(this.closed?0:1))*t;let c=Math.floor(o),u=o-c;this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/a)+1)*a:u===0&&c===a-1&&(c=a-2,u=1);let d,m;this.closed||c>0?d=s[(c-1)%a]:(J1.subVectors(s[0],s[1]).add(s[0]),d=J1);const g=s[c%a],y=s[(c+1)%a];if(this.closed||c+2<a?m=s[(c+2)%a]:(J1.subVectors(s[a-1],s[a-2]).add(s[a-1]),m=J1),this.curveType==="centripetal"||this.curveType==="chordal"){const A=this.curveType==="chordal"?.5:.25;let b=Math.pow(d.distanceToSquared(g),A),T=Math.pow(g.distanceToSquared(y),A),E=Math.pow(y.distanceToSquared(m),A);T<1e-4&&(T=1),b<1e-4&&(b=T),E<1e-4&&(E=T),Bb.initNonuniformCatmullRom(d.x,g.x,y.x,m.x,b,T,E),Db.initNonuniformCatmullRom(d.y,g.y,y.y,m.y,b,T,E),Lb.initNonuniformCatmullRom(d.z,g.z,y.z,m.z,b,T,E)}else this.curveType==="catmullrom"&&(Bb.initCatmullRom(d.x,g.x,y.x,m.x,this.tension),Db.initCatmullRom(d.y,g.y,y.y,m.y,this.tension),Lb.initCatmullRom(d.z,g.z,y.z,m.z,this.tension));return i.set(Bb.calc(u),Db.calc(u),Lb.calc(u)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const s=t.points[e];this.points.push(s.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++){const s=this.points[e];t.points.push(s.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const s=t.points[e];this.points.push(new q().fromArray(s))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function yB(n,t,e,i,s){const a=(i-t)*.5,o=(s-e)*.5,c=n*n,u=n*c;return(2*e-2*i+a+o)*u+(-3*e+3*i-2*a-o)*c+a*n+e}function Y7(n,t){const e=1-n;return e*e*t}function W7(n,t){return 2*(1-n)*n*t}function q7(n,t){return n*n*t}function R0(n,t,e,i){return Y7(n,t)+W7(n,e)+q7(n,i)}function K7(n,t){const e=1-n;return e*e*e*t}function J7(n,t){const e=1-n;return 3*e*e*n*t}function Z7(n,t){return 3*(1-n)*n*n*t}function Q7(n,t){return n*n*n*t}function B0(n,t,e,i,s){return K7(n,t)+J7(n,e)+Z7(n,i)+Q7(n,s)}class aC extends Fo{constructor(t=new Ft,e=new Ft,i=new Ft,s=new Ft){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=i,this.v3=s}getPoint(t,e=new Ft){const i=e,s=this.v0,a=this.v1,o=this.v2,c=this.v3;return i.set(B0(t,s.x,a.x,o.x,c.x),B0(t,s.y,a.y,o.y,c.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class dP extends Fo{constructor(t=new q,e=new q,i=new q,s=new q){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=i,this.v3=s}getPoint(t,e=new q){const i=e,s=this.v0,a=this.v1,o=this.v2,c=this.v3;return i.set(B0(t,s.x,a.x,o.x,c.x),B0(t,s.y,a.y,o.y,c.y),B0(t,s.z,a.z,o.z,c.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class rC extends Fo{constructor(t=new Ft,e=new Ft){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new Ft){const i=e;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new Ft){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class pP extends Fo{constructor(t=new q,e=new q){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=t,this.v2=e}getPoint(t,e=new q){const i=e;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new q){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class oC extends Fo{constructor(t=new Ft,e=new Ft,i=new Ft){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new Ft){const i=e,s=this.v0,a=this.v1,o=this.v2;return i.set(R0(t,s.x,a.x,o.x),R0(t,s.y,a.y,o.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class lC extends Fo{constructor(t=new q,e=new q,i=new q){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new q){const i=e,s=this.v0,a=this.v1,o=this.v2;return i.set(R0(t,s.x,a.x,o.x),R0(t,s.y,a.y,o.y),R0(t,s.z,a.z,o.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class cC extends Fo{constructor(t=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=t}getPoint(t,e=new Ft){const i=e,s=this.points,a=(s.length-1)*t,o=Math.floor(a),c=a-o,u=s[o===0?o:o-1],d=s[o],m=s[o>s.length-2?s.length-1:o+1],g=s[o>s.length-3?s.length-1:o+2];return i.set(yB(c,u.x,d.x,m.x,g.x),yB(c,u.y,d.y,m.y,g.y)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const s=t.points[e];this.points.push(s.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++){const s=this.points[e];t.points.push(s.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const s=t.points[e];this.points.push(new Ft().fromArray(s))}return this}}var IA=Object.freeze({__proto__:null,ArcCurve:fP,CatmullRomCurve3:hP,CubicBezierCurve:aC,CubicBezierCurve3:dP,EllipseCurve:T_,LineCurve:rC,LineCurve3:pP,QuadraticBezierCurve:oC,QuadraticBezierCurve3:lC,SplineCurve:cC});class mP extends Fo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);if(!t.equals(e)){const i=t.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new IA[i](e,t))}return this}getPoint(t,e){const i=t*this.getLength(),s=this.getCurveLengths();let a=0;for(;a<s.length;){if(s[a]>=i){const o=s[a]-i,c=this.curves[a],u=c.getLength(),d=u===0?0:1-o/u;return c.getPointAt(d,e)}a++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let i=0,s=this.curves.length;i<s;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e}getPoints(t=12){const e=[];let i;for(let s=0,a=this.curves;s<a.length;s++){const o=a[s],c=o.isEllipseCurve?t*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?t*o.points.length:t,u=o.getPoints(c);for(let d=0;d<u.length;d++){const m=u[d];i&&i.equals(m)||(e.push(m),i=m)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(t){super.copy(t),this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const s=t.curves[e];this.curves.push(s.clone())}return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let e=0,i=this.curves.length;e<i;e++){const s=this.curves[e];t.curves.push(s.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const s=t.curves[e];this.curves.push(new IA[s.type]().fromJSON(s))}return this}}class $0 extends mP{constructor(t){super(),this.type="Path",this.currentPoint=new Ft,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const i=new rC(this.currentPoint.clone(),new Ft(t,e));return this.curves.push(i),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,i,s){const a=new oC(this.currentPoint.clone(),new Ft(t,e),new Ft(i,s));return this.curves.push(a),this.currentPoint.set(i,s),this}bezierCurveTo(t,e,i,s,a,o){const c=new aC(this.currentPoint.clone(),new Ft(t,e),new Ft(i,s),new Ft(a,o));return this.curves.push(c),this.currentPoint.set(a,o),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),i=new cC(e);return this.curves.push(i),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,i,s,a,o){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(t+c,e+u,i,s,a,o),this}absarc(t,e,i,s,a,o){return this.absellipse(t,e,i,i,s,a,o),this}ellipse(t,e,i,s,a,o,c,u){const d=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(t+d,e+m,i,s,a,o,c,u),this}absellipse(t,e,i,s,a,o,c,u){const d=new T_(t,e,i,s,a,o,c,u);if(this.curves.length>0){const g=d.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(d);const m=d.getPoint(1);return this.currentPoint.copy(m),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}class Cv extends We{constructor(t=[new Ft(0,-.5),new Ft(.5,0),new Ft(0,.5)],e=12,i=0,s=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:s},e=Math.floor(e),s=Xe(s,0,Math.PI*2);const a=[],o=[],c=[],u=[],d=[],m=1/e,g=new q,y=new Ft,A=new q,b=new q,T=new q;let E=0,S=0;for(let R=0;R<=t.length-1;R++)switch(R){case 0:E=t[R+1].x-t[R].x,S=t[R+1].y-t[R].y,A.x=S*1,A.y=-E,A.z=S*0,T.copy(A),A.normalize(),u.push(A.x,A.y,A.z);break;case t.length-1:u.push(T.x,T.y,T.z);break;default:E=t[R+1].x-t[R].x,S=t[R+1].y-t[R].y,A.x=S*1,A.y=-E,A.z=S*0,b.copy(A),A.x+=T.x,A.y+=T.y,A.z+=T.z,A.normalize(),u.push(A.x,A.y,A.z),T.copy(b)}for(let R=0;R<=e;R++){const B=i+R*m*s,D=Math.sin(B),U=Math.cos(B);for(let N=0;N<=t.length-1;N++){g.x=t[N].x*D,g.y=t[N].y,g.z=t[N].x*U,o.push(g.x,g.y,g.z),y.x=R/e,y.y=N/(t.length-1),c.push(y.x,y.y);const F=u[3*N+0]*D,z=u[3*N+1],O=u[3*N+0]*U;d.push(F,z,O)}}for(let R=0;R<e;R++)for(let B=0;B<t.length-1;B++){const D=B+R*t.length,U=D,N=D+t.length,F=D+t.length+1,z=D+1;a.push(U,N,z),a.push(F,z,N)}this.setIndex(a),this.setAttribute("position",new Se(o,3)),this.setAttribute("uv",new Se(c,2)),this.setAttribute("normal",new Se(d,3))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Cv(t.points,t.segments,t.phiStart,t.phiLength)}}class C_ extends Cv{constructor(t=1,e=1,i=4,s=8){const a=new $0;a.absarc(0,-e/2,t,Math.PI*1.5,0),a.absarc(0,e/2,t,0,Math.PI*.5),super(a.getPoints(i),s),this.type="CapsuleGeometry",this.parameters={radius:t,length:e,capSegments:i,radialSegments:s}}static fromJSON(t){return new C_(t.radius,t.length,t.capSegments,t.radialSegments)}}class w_ extends We{constructor(t=1,e=32,i=0,s=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:s},e=Math.max(3,e);const a=[],o=[],c=[],u=[],d=new q,m=new Ft;o.push(0,0,0),c.push(0,0,1),u.push(.5,.5);for(let g=0,y=3;g<=e;g++,y+=3){const A=i+g/e*s;d.x=t*Math.cos(A),d.y=t*Math.sin(A),o.push(d.x,d.y,d.z),c.push(0,0,1),m.x=(o[y]/t+1)/2,m.y=(o[y+1]/t+1)/2,u.push(m.x,m.y)}for(let g=1;g<=e;g++)a.push(g,g+1,0);this.setIndex(a),this.setAttribute("position",new Se(o,3)),this.setAttribute("normal",new Se(c,3)),this.setAttribute("uv",new Se(u,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new w_(t.radius,t.segments,t.thetaStart,t.thetaLength)}}class mm extends We{constructor(t=1,e=1,i=1,s=32,a=1,o=!1,c=0,u=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:s,heightSegments:a,openEnded:o,thetaStart:c,thetaLength:u};const d=this;s=Math.floor(s),a=Math.floor(a);const m=[],g=[],y=[],A=[];let b=0;const T=[],E=i/2;let S=0;R(),o===!1&&(t>0&&B(!0),e>0&&B(!1)),this.setIndex(m),this.setAttribute("position",new Se(g,3)),this.setAttribute("normal",new Se(y,3)),this.setAttribute("uv",new Se(A,2));function R(){const D=new q,U=new q;let N=0;const F=(e-t)/i;for(let z=0;z<=a;z++){const O=[],I=z/a,Y=I*(e-t)+t;for(let dt=0;dt<=s;dt++){const at=dt/s,Q=at*u+c,lt=Math.sin(Q),tt=Math.cos(Q);U.x=Y*lt,U.y=-I*i+E,U.z=Y*tt,g.push(U.x,U.y,U.z),D.set(lt,F,tt).normalize(),y.push(D.x,D.y,D.z),A.push(at,1-I),O.push(b++)}T.push(O)}for(let z=0;z<s;z++)for(let O=0;O<a;O++){const I=T[O][z],Y=T[O+1][z],dt=T[O+1][z+1],at=T[O][z+1];(t>0||O!==0)&&(m.push(I,Y,at),N+=3),(e>0||O!==a-1)&&(m.push(Y,dt,at),N+=3)}d.addGroup(S,N,0),S+=N}function B(D){const U=b,N=new Ft,F=new q;let z=0;const O=D===!0?t:e,I=D===!0?1:-1;for(let dt=1;dt<=s;dt++)g.push(0,E*I,0),y.push(0,I,0),A.push(.5,.5),b++;const Y=b;for(let dt=0;dt<=s;dt++){const Q=dt/s*u+c,lt=Math.cos(Q),tt=Math.sin(Q);F.x=O*tt,F.y=E*I,F.z=O*lt,g.push(F.x,F.y,F.z),y.push(0,I,0),N.x=lt*.5+.5,N.y=tt*.5*I+.5,A.push(N.x,N.y),b++}for(let dt=0;dt<s;dt++){const at=U+dt,Q=Y+dt;D===!0?m.push(Q,Q+1,at):m.push(Q+1,Q,at),z+=3}d.addGroup(S,z,D===!0?1:2),S+=z}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new mm(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class R_ extends mm{constructor(t=1,e=1,i=32,s=1,a=!1,o=0,c=Math.PI*2){super(0,t,e,i,s,a,o,c),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:c}}static fromJSON(t){return new R_(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class ef extends We{constructor(t=[],e=[],i=1,s=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:s};const a=[],o=[];c(s),d(i),m(),this.setAttribute("position",new Se(a,3)),this.setAttribute("normal",new Se(a.slice(),3)),this.setAttribute("uv",new Se(o,2)),s===0?this.computeVertexNormals():this.normalizeNormals();function c(R){const B=new q,D=new q,U=new q;for(let N=0;N<e.length;N+=3)A(e[N+0],B),A(e[N+1],D),A(e[N+2],U),u(B,D,U,R)}function u(R,B,D,U){const N=U+1,F=[];for(let z=0;z<=N;z++){F[z]=[];const O=R.clone().lerp(D,z/N),I=B.clone().lerp(D,z/N),Y=N-z;for(let dt=0;dt<=Y;dt++)dt===0&&z===N?F[z][dt]=O:F[z][dt]=O.clone().lerp(I,dt/Y)}for(let z=0;z<N;z++)for(let O=0;O<2*(N-z)-1;O++){const I=Math.floor(O/2);O%2===0?(y(F[z][I+1]),y(F[z+1][I]),y(F[z][I])):(y(F[z][I+1]),y(F[z+1][I+1]),y(F[z+1][I]))}}function d(R){const B=new q;for(let D=0;D<a.length;D+=3)B.x=a[D+0],B.y=a[D+1],B.z=a[D+2],B.normalize().multiplyScalar(R),a[D+0]=B.x,a[D+1]=B.y,a[D+2]=B.z}function m(){const R=new q;for(let B=0;B<a.length;B+=3){R.x=a[B+0],R.y=a[B+1],R.z=a[B+2];const D=E(R)/2/Math.PI+.5,U=S(R)/Math.PI+.5;o.push(D,1-U)}b(),g()}function g(){for(let R=0;R<o.length;R+=6){const B=o[R+0],D=o[R+2],U=o[R+4],N=Math.max(B,D,U),F=Math.min(B,D,U);N>.9&&F<.1&&(B<.2&&(o[R+0]+=1),D<.2&&(o[R+2]+=1),U<.2&&(o[R+4]+=1))}}function y(R){a.push(R.x,R.y,R.z)}function A(R,B){const D=R*3;B.x=t[D+0],B.y=t[D+1],B.z=t[D+2]}function b(){const R=new q,B=new q,D=new q,U=new q,N=new Ft,F=new Ft,z=new Ft;for(let O=0,I=0;O<a.length;O+=9,I+=6){R.set(a[O+0],a[O+1],a[O+2]),B.set(a[O+3],a[O+4],a[O+5]),D.set(a[O+6],a[O+7],a[O+8]),N.set(o[I+0],o[I+1]),F.set(o[I+2],o[I+3]),z.set(o[I+4],o[I+5]),U.copy(R).add(B).add(D).divideScalar(3);const Y=E(U);T(N,I+0,R,Y),T(F,I+2,B,Y),T(z,I+4,D,Y)}}function T(R,B,D,U){U<0&&R.x===1&&(o[B]=R.x-1),D.x===0&&D.z===0&&(o[B]=U/2/Math.PI+.5)}function E(R){return Math.atan2(R.z,-R.x)}function S(R){return Math.atan2(-R.y,Math.sqrt(R.x*R.x+R.z*R.z))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new ef(t.vertices,t.indices,t.radius,t.details)}}class B_ extends ef{constructor(t=1,e=0){const i=(1+Math.sqrt(5))/2,s=1/i,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-s,-i,0,-s,i,0,s,-i,0,s,i,-s,-i,0,-s,i,0,s,-i,0,s,i,0,-i,0,-s,i,0,-s,-i,0,s,i,0,s],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,o,t,e),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new B_(t.radius,t.detail)}}const Z1=new q,Q1=new q,Nb=new q,$1=new ja;class gP extends We{constructor(t=null,e=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:t,thresholdAngle:e},t!==null){const s=Math.pow(10,4),a=Math.cos(Nh*e),o=t.getIndex(),c=t.getAttribute("position"),u=o?o.count:c.count,d=[0,0,0],m=["a","b","c"],g=new Array(3),y={},A=[];for(let b=0;b<u;b+=3){o?(d[0]=o.getX(b),d[1]=o.getX(b+1),d[2]=o.getX(b+2)):(d[0]=b,d[1]=b+1,d[2]=b+2);const{a:T,b:E,c:S}=$1;if(T.fromBufferAttribute(c,d[0]),E.fromBufferAttribute(c,d[1]),S.fromBufferAttribute(c,d[2]),$1.getNormal(Nb),g[0]=`${Math.round(T.x*s)},${Math.round(T.y*s)},${Math.round(T.z*s)}`,g[1]=`${Math.round(E.x*s)},${Math.round(E.y*s)},${Math.round(E.z*s)}`,g[2]=`${Math.round(S.x*s)},${Math.round(S.y*s)},${Math.round(S.z*s)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let R=0;R<3;R++){const B=(R+1)%3,D=g[R],U=g[B],N=$1[m[R]],F=$1[m[B]],z=`${D}_${U}`,O=`${U}_${D}`;O in y&&y[O]?(Nb.dot(y[O].normal)<=a&&(A.push(N.x,N.y,N.z),A.push(F.x,F.y,F.z)),y[O]=null):z in y||(y[z]={index0:d[R],index1:d[B],normal:Nb.clone()})}}for(const b in y)if(y[b]){const{index0:T,index1:E}=y[b];Z1.fromBufferAttribute(c,T),Q1.fromBufferAttribute(c,E),A.push(Z1.x,Z1.y,Z1.z),A.push(Q1.x,Q1.y,Q1.z)}this.setAttribute("position",new Se(A,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}class Uh extends $0{constructor(t){super(t),this.uuid=pr(),this.type="Shape",this.holes=[]}getPointsHoles(t){const e=[];for(let i=0,s=this.holes.length;i<s;i++)e[i]=this.holes[i].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const s=t.holes[e];this.holes.push(s.clone())}return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let e=0,i=this.holes.length;e<i;e++){const s=this.holes[e];t.holes.push(s.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const s=t.holes[e];this.holes.push(new $0().fromJSON(s))}return this}}const $7={triangulate:function(n,t,e=2){const i=t&&t.length,s=i?t[0]*e:n.length;let a=vP(n,0,s,e,!0);const o=[];if(!a||a.next===a.prev)return o;let c,u,d,m,g,y,A;if(i&&(a=sV(n,t,a,e)),n.length>80*e){c=d=n[0],u=m=n[1];for(let b=e;b<s;b+=e)g=n[b],y=n[b+1],g<c&&(c=g),y<u&&(u=y),g>d&&(d=g),y>m&&(m=y);A=Math.max(d-c,m-u),A=A!==0?32767/A:0}return tv(a,o,e,c,u,A,0),o}};function vP(n,t,e,i,s){let a,o;if(s===mV(n,t,e,i)>0)for(a=t;a<e;a+=i)o=xB(a,n[a],n[a+1],o);else for(a=e-i;a>=t;a-=i)o=xB(a,n[a],n[a+1],o);return o&&D_(o,o.next)&&(nv(o),o=o.next),o}function kh(n,t){if(!n)return n;t||(t=n);let e=n,i;do if(i=!1,!e.steiner&&(D_(e,e.next)||Si(e.prev,e,e.next)===0)){if(nv(e),e=t=e.prev,e===e.next)break;i=!0}else e=e.next;while(i||e!==t);return t}function tv(n,t,e,i,s,a,o){if(!n)return;!o&&a&&cV(n,i,s,a);let c=n,u,d;for(;n.prev!==n.next;){if(u=n.prev,d=n.next,a?eV(n,i,s,a):tV(n)){t.push(u.i/e|0),t.push(n.i/e|0),t.push(d.i/e|0),nv(n),n=d.next,c=d.next;continue}if(n=d,n===c){o?o===1?(n=nV(kh(n),t,e),tv(n,t,e,i,s,a,2)):o===2&&iV(n,t,e,i,s,a):tv(kh(n),t,e,i,s,a,1);break}}}function tV(n){const t=n.prev,e=n,i=n.next;if(Si(t,e,i)>=0)return!1;const s=t.x,a=e.x,o=i.x,c=t.y,u=e.y,d=i.y,m=s<a?s<o?s:o:a<o?a:o,g=c<u?c<d?c:d:u<d?u:d,y=s>a?s>o?s:o:a>o?a:o,A=c>u?c>d?c:d:u>d?u:d;let b=i.next;for(;b!==t;){if(b.x>=m&&b.x<=y&&b.y>=g&&b.y<=A&&Bp(s,c,a,u,o,d,b.x,b.y)&&Si(b.prev,b,b.next)>=0)return!1;b=b.next}return!0}function eV(n,t,e,i){const s=n.prev,a=n,o=n.next;if(Si(s,a,o)>=0)return!1;const c=s.x,u=a.x,d=o.x,m=s.y,g=a.y,y=o.y,A=c<u?c<d?c:d:u<d?u:d,b=m<g?m<y?m:y:g<y?g:y,T=c>u?c>d?c:d:u>d?u:d,E=m>g?m>y?m:y:g>y?g:y,S=rE(A,b,t,e,i),R=rE(T,E,t,e,i);let B=n.prevZ,D=n.nextZ;for(;B&&B.z>=S&&D&&D.z<=R;){if(B.x>=A&&B.x<=T&&B.y>=b&&B.y<=E&&B!==s&&B!==o&&Bp(c,m,u,g,d,y,B.x,B.y)&&Si(B.prev,B,B.next)>=0||(B=B.prevZ,D.x>=A&&D.x<=T&&D.y>=b&&D.y<=E&&D!==s&&D!==o&&Bp(c,m,u,g,d,y,D.x,D.y)&&Si(D.prev,D,D.next)>=0))return!1;D=D.nextZ}for(;B&&B.z>=S;){if(B.x>=A&&B.x<=T&&B.y>=b&&B.y<=E&&B!==s&&B!==o&&Bp(c,m,u,g,d,y,B.x,B.y)&&Si(B.prev,B,B.next)>=0)return!1;B=B.prevZ}for(;D&&D.z<=R;){if(D.x>=A&&D.x<=T&&D.y>=b&&D.y<=E&&D!==s&&D!==o&&Bp(c,m,u,g,d,y,D.x,D.y)&&Si(D.prev,D,D.next)>=0)return!1;D=D.nextZ}return!0}function nV(n,t,e){let i=n;do{const s=i.prev,a=i.next.next;!D_(s,a)&&yP(s,i,i.next,a)&&ev(s,a)&&ev(a,s)&&(t.push(s.i/e|0),t.push(i.i/e|0),t.push(a.i/e|0),nv(i),nv(i.next),i=n=a),i=i.next}while(i!==n);return kh(i)}function iV(n,t,e,i,s,a){let o=n;do{let c=o.next.next;for(;c!==o.prev;){if(o.i!==c.i&&hV(o,c)){let u=xP(o,c);o=kh(o,o.next),u=kh(u,u.next),tv(o,t,e,i,s,a,0),tv(u,t,e,i,s,a,0);return}c=c.next}o=o.next}while(o!==n)}function sV(n,t,e,i){const s=[];let a,o,c,u,d;for(a=0,o=t.length;a<o;a++)c=t[a]*i,u=a<o-1?t[a+1]*i:n.length,d=vP(n,c,u,i,!1),d===d.next&&(d.steiner=!0),s.push(fV(d));for(s.sort(aV),a=0;a<s.length;a++)e=rV(s[a],e);return e}function aV(n,t){return n.x-t.x}function rV(n,t){const e=oV(n,t);if(!e)return t;const i=xP(e,n);return kh(i,i.next),kh(e,e.next)}function oV(n,t){let e=t,i=-1/0,s;const a=n.x,o=n.y;do{if(o<=e.y&&o>=e.next.y&&e.next.y!==e.y){const y=e.x+(o-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(y<=a&&y>i&&(i=y,s=e.x<e.next.x?e:e.next,y===a))return s}e=e.next}while(e!==t);if(!s)return null;const c=s,u=s.x,d=s.y;let m=1/0,g;e=s;do a>=e.x&&e.x>=u&&a!==e.x&&Bp(o<d?a:i,o,u,d,o<d?i:a,o,e.x,e.y)&&(g=Math.abs(o-e.y)/(a-e.x),ev(e,n)&&(g<m||g===m&&(e.x>s.x||e.x===s.x&&lV(s,e)))&&(s=e,m=g)),e=e.next;while(e!==c);return s}function lV(n,t){return Si(n.prev,n,t.prev)<0&&Si(t.next,n,n.next)<0}function cV(n,t,e,i){let s=n;do s.z===0&&(s.z=rE(s.x,s.y,t,e,i)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==n);s.prevZ.nextZ=null,s.prevZ=null,uV(s)}function uV(n){let t,e,i,s,a,o,c,u,d=1;do{for(e=n,n=null,a=null,o=0;e;){for(o++,i=e,c=0,t=0;t<d&&(c++,i=i.nextZ,!!i);t++);for(u=d;c>0||u>0&&i;)c!==0&&(u===0||!i||e.z<=i.z)?(s=e,e=e.nextZ,c--):(s=i,i=i.nextZ,u--),a?a.nextZ=s:n=s,s.prevZ=a,a=s;e=i}a.nextZ=null,d*=2}while(o>1);return n}function rE(n,t,e,i,s){return n=(n-e)*s|0,t=(t-i)*s|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,n|t<<1}function fV(n){let t=n,e=n;do(t.x<e.x||t.x===e.x&&t.y<e.y)&&(e=t),t=t.next;while(t!==n);return e}function Bp(n,t,e,i,s,a,o,c){return(s-o)*(t-c)>=(n-o)*(a-c)&&(n-o)*(i-c)>=(e-o)*(t-c)&&(e-o)*(a-c)>=(s-o)*(i-c)}function hV(n,t){return n.next.i!==t.i&&n.prev.i!==t.i&&!dV(n,t)&&(ev(n,t)&&ev(t,n)&&pV(n,t)&&(Si(n.prev,n,t.prev)||Si(n,t.prev,t))||D_(n,t)&&Si(n.prev,n,n.next)>0&&Si(t.prev,t,t.next)>0)}function Si(n,t,e){return(t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y)}function D_(n,t){return n.x===t.x&&n.y===t.y}function yP(n,t,e,i){const s=ex(Si(n,t,e)),a=ex(Si(n,t,i)),o=ex(Si(e,i,n)),c=ex(Si(e,i,t));return!!(s!==a&&o!==c||s===0&&tx(n,e,t)||a===0&&tx(n,i,t)||o===0&&tx(e,n,i)||c===0&&tx(e,t,i))}function tx(n,t,e){return t.x<=Math.max(n.x,e.x)&&t.x>=Math.min(n.x,e.x)&&t.y<=Math.max(n.y,e.y)&&t.y>=Math.min(n.y,e.y)}function ex(n){return n>0?1:n<0?-1:0}function dV(n,t){let e=n;do{if(e.i!==n.i&&e.next.i!==n.i&&e.i!==t.i&&e.next.i!==t.i&&yP(e,e.next,n,t))return!0;e=e.next}while(e!==n);return!1}function ev(n,t){return Si(n.prev,n,n.next)<0?Si(n,t,n.next)>=0&&Si(n,n.prev,t)>=0:Si(n,t,n.prev)<0||Si(n,n.next,t)<0}function pV(n,t){let e=n,i=!1;const s=(n.x+t.x)/2,a=(n.y+t.y)/2;do e.y>a!=e.next.y>a&&e.next.y!==e.y&&s<(e.next.x-e.x)*(a-e.y)/(e.next.y-e.y)+e.x&&(i=!i),e=e.next;while(e!==n);return i}function xP(n,t){const e=new oE(n.i,n.x,n.y),i=new oE(t.i,t.x,t.y),s=n.next,a=t.prev;return n.next=t,t.prev=n,e.next=s,s.prev=e,i.next=e,e.prev=i,a.next=i,i.prev=a,i}function xB(n,t,e,i){const s=new oE(n,t,e);return i?(s.next=i.next,s.prev=i,i.next.prev=s,i.next=s):(s.prev=s,s.next=s),s}function nv(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function oE(n,t,e){this.i=n,this.x=t,this.y=e,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function mV(n,t,e,i){let s=0;for(let a=t,o=e-i;a<e;a+=i)s+=(n[o]-n[a])*(n[a+1]+n[o+1]),o=a;return s}class Bl{static area(t){const e=t.length;let i=0;for(let s=e-1,a=0;a<e;s=a++)i+=t[s].x*t[a].y-t[a].x*t[s].y;return i*.5}static isClockWise(t){return Bl.area(t)<0}static triangulateShape(t,e){const i=[],s=[],a=[];AB(t),_B(i,t);let o=t.length;e.forEach(AB);for(let u=0;u<e.length;u++)s.push(o),o+=e[u].length,_B(i,e[u]);const c=$7.triangulate(i,s);for(let u=0;u<c.length;u+=3)a.push(c.slice(u,u+3));return a}}function AB(n){const t=n.length;t>2&&n[t-1].equals(n[0])&&n.pop()}function _B(n,t){for(let e=0;e<t.length;e++)n.push(t[e].x),n.push(t[e].y)}class L_ extends We{constructor(t=new Uh([new Ft(.5,.5),new Ft(-.5,.5),new Ft(-.5,-.5),new Ft(.5,-.5)]),e={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const i=this,s=[],a=[];for(let c=0,u=t.length;c<u;c++){const d=t[c];o(d)}this.setAttribute("position",new Se(s,3)),this.setAttribute("uv",new Se(a,2)),this.computeVertexNormals();function o(c){const u=[],d=e.curveSegments!==void 0?e.curveSegments:12,m=e.steps!==void 0?e.steps:1,g=e.depth!==void 0?e.depth:1;let y=e.bevelEnabled!==void 0?e.bevelEnabled:!0,A=e.bevelThickness!==void 0?e.bevelThickness:.2,b=e.bevelSize!==void 0?e.bevelSize:A-.1,T=e.bevelOffset!==void 0?e.bevelOffset:0,E=e.bevelSegments!==void 0?e.bevelSegments:3;const S=e.extrudePath,R=e.UVGenerator!==void 0?e.UVGenerator:gV;let B,D=!1,U,N,F,z;S&&(B=S.getSpacedPoints(m),D=!0,y=!1,U=S.computeFrenetFrames(m,!1),N=new q,F=new q,z=new q),y||(E=0,A=0,b=0,T=0);const O=c.extractPoints(d);let I=O.shape;const Y=O.holes;if(!Bl.isClockWise(I)){I=I.reverse();for(let Dt=0,Rt=Y.length;Dt<Rt;Dt++){const K=Y[Dt];Bl.isClockWise(K)&&(Y[Dt]=K.reverse())}}const at=Bl.triangulateShape(I,Y),Q=I;for(let Dt=0,Rt=Y.length;Dt<Rt;Dt++){const K=Y[Dt];I=I.concat(K)}function lt(Dt,Rt,K){return Rt||console.error("THREE.ExtrudeGeometry: vec does not exist"),Dt.clone().addScaledVector(Rt,K)}const tt=I.length,et=at.length;function Z(Dt,Rt,K){let he,Vt,Qt;const Jt=Dt.x-Rt.x,_e=Dt.y-Rt.y,Zt=K.x-Dt.x,W=K.y-Dt.y,H=Jt*Jt+_e*_e,yt=Jt*W-_e*Zt;if(Math.abs(yt)>Number.EPSILON){const Ct=Math.sqrt(H),Gt=Math.sqrt(Zt*Zt+W*W),Lt=Rt.x-_e/Ct,ue=Rt.y+Jt/Ct,ee=K.x-W/Gt,de=K.y+Zt/Gt,Ke=((ee-Lt)*W-(de-ue)*Zt)/(Jt*W-_e*Zt);he=Lt+Jt*Ke-Dt.x,Vt=ue+_e*Ke-Dt.y;const qt=he*he+Vt*Vt;if(qt<=2)return new Ft(he,Vt);Qt=Math.sqrt(qt/2)}else{let Ct=!1;Jt>Number.EPSILON?Zt>Number.EPSILON&&(Ct=!0):Jt<-Number.EPSILON?Zt<-Number.EPSILON&&(Ct=!0):Math.sign(_e)===Math.sign(W)&&(Ct=!0),Ct?(he=-_e,Vt=Jt,Qt=Math.sqrt(H)):(he=Jt,Vt=_e,Qt=Math.sqrt(H/2))}return new Ft(he/Qt,Vt/Qt)}const vt=[];for(let Dt=0,Rt=Q.length,K=Rt-1,he=Dt+1;Dt<Rt;Dt++,K++,he++)K===Rt&&(K=0),he===Rt&&(he=0),vt[Dt]=Z(Q[Dt],Q[K],Q[he]);const X=[];let it,Mt=vt.concat();for(let Dt=0,Rt=Y.length;Dt<Rt;Dt++){const K=Y[Dt];it=[];for(let he=0,Vt=K.length,Qt=Vt-1,Jt=he+1;he<Vt;he++,Qt++,Jt++)Qt===Vt&&(Qt=0),Jt===Vt&&(Jt=0),it[he]=Z(K[he],K[Qt],K[Jt]);X.push(it),Mt=Mt.concat(it)}for(let Dt=0;Dt<E;Dt++){const Rt=Dt/E,K=A*Math.cos(Rt*Math.PI/2),he=b*Math.sin(Rt*Math.PI/2)+T;for(let Vt=0,Qt=Q.length;Vt<Qt;Vt++){const Jt=lt(Q[Vt],vt[Vt],he);Pt(Jt.x,Jt.y,-K)}for(let Vt=0,Qt=Y.length;Vt<Qt;Vt++){const Jt=Y[Vt];it=X[Vt];for(let _e=0,Zt=Jt.length;_e<Zt;_e++){const W=lt(Jt[_e],it[_e],he);Pt(W.x,W.y,-K)}}}const Ot=b+T;for(let Dt=0;Dt<tt;Dt++){const Rt=y?lt(I[Dt],Mt[Dt],Ot):I[Dt];D?(F.copy(U.normals[0]).multiplyScalar(Rt.x),N.copy(U.binormals[0]).multiplyScalar(Rt.y),z.copy(B[0]).add(F).add(N),Pt(z.x,z.y,z.z)):Pt(Rt.x,Rt.y,0)}for(let Dt=1;Dt<=m;Dt++)for(let Rt=0;Rt<tt;Rt++){const K=y?lt(I[Rt],Mt[Rt],Ot):I[Rt];D?(F.copy(U.normals[Dt]).multiplyScalar(K.x),N.copy(U.binormals[Dt]).multiplyScalar(K.y),z.copy(B[Dt]).add(F).add(N),Pt(z.x,z.y,z.z)):Pt(K.x,K.y,g/m*Dt)}for(let Dt=E-1;Dt>=0;Dt--){const Rt=Dt/E,K=A*Math.cos(Rt*Math.PI/2),he=b*Math.sin(Rt*Math.PI/2)+T;for(let Vt=0,Qt=Q.length;Vt<Qt;Vt++){const Jt=lt(Q[Vt],vt[Vt],he);Pt(Jt.x,Jt.y,g+K)}for(let Vt=0,Qt=Y.length;Vt<Qt;Vt++){const Jt=Y[Vt];it=X[Vt];for(let _e=0,Zt=Jt.length;_e<Zt;_e++){const W=lt(Jt[_e],it[_e],he);D?Pt(W.x,W.y+B[m-1].y,B[m-1].x+K):Pt(W.x,W.y,g+K)}}}st(),Et();function st(){const Dt=s.length/3;if(y){let Rt=0,K=tt*Rt;for(let he=0;he<et;he++){const Vt=at[he];Ht(Vt[2]+K,Vt[1]+K,Vt[0]+K)}Rt=m+E*2,K=tt*Rt;for(let he=0;he<et;he++){const Vt=at[he];Ht(Vt[0]+K,Vt[1]+K,Vt[2]+K)}}else{for(let Rt=0;Rt<et;Rt++){const K=at[Rt];Ht(K[2],K[1],K[0])}for(let Rt=0;Rt<et;Rt++){const K=at[Rt];Ht(K[0]+tt*m,K[1]+tt*m,K[2]+tt*m)}}i.addGroup(Dt,s.length/3-Dt,0)}function Et(){const Dt=s.length/3;let Rt=0;Bt(Q,Rt),Rt+=Q.length;for(let K=0,he=Y.length;K<he;K++){const Vt=Y[K];Bt(Vt,Rt),Rt+=Vt.length}i.addGroup(Dt,s.length/3-Dt,1)}function Bt(Dt,Rt){let K=Dt.length;for(;--K>=0;){const he=K;let Vt=K-1;Vt<0&&(Vt=Dt.length-1);for(let Qt=0,Jt=m+E*2;Qt<Jt;Qt++){const _e=tt*Qt,Zt=tt*(Qt+1),W=Rt+he+_e,H=Rt+Vt+_e,yt=Rt+Vt+Zt,Ct=Rt+he+Zt;fe(W,H,yt,Ct)}}}function Pt(Dt,Rt,K){u.push(Dt),u.push(Rt),u.push(K)}function Ht(Dt,Rt,K){Xt(Dt),Xt(Rt),Xt(K);const he=s.length/3,Vt=R.generateTopUV(i,s,he-3,he-2,he-1);ne(Vt[0]),ne(Vt[1]),ne(Vt[2])}function fe(Dt,Rt,K,he){Xt(Dt),Xt(Rt),Xt(he),Xt(Rt),Xt(K),Xt(he);const Vt=s.length/3,Qt=R.generateSideWallUV(i,s,Vt-6,Vt-3,Vt-2,Vt-1);ne(Qt[0]),ne(Qt[1]),ne(Qt[3]),ne(Qt[1]),ne(Qt[2]),ne(Qt[3])}function Xt(Dt){s.push(u[Dt*3+0]),s.push(u[Dt*3+1]),s.push(u[Dt*3+2])}function ne(Dt){a.push(Dt.x),a.push(Dt.y)}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),e=this.parameters.shapes,i=this.parameters.options;return vV(e,i,t)}static fromJSON(t,e){const i=[];for(let a=0,o=t.shapes.length;a<o;a++){const c=e[t.shapes[a]];i.push(c)}const s=t.options.extrudePath;return s!==void 0&&(t.options.extrudePath=new IA[s.type]().fromJSON(s)),new L_(i,t.options)}}const gV={generateTopUV:function(n,t,e,i,s){const a=t[e*3],o=t[e*3+1],c=t[i*3],u=t[i*3+1],d=t[s*3],m=t[s*3+1];return[new Ft(a,o),new Ft(c,u),new Ft(d,m)]},generateSideWallUV:function(n,t,e,i,s,a){const o=t[e*3],c=t[e*3+1],u=t[e*3+2],d=t[i*3],m=t[i*3+1],g=t[i*3+2],y=t[s*3],A=t[s*3+1],b=t[s*3+2],T=t[a*3],E=t[a*3+1],S=t[a*3+2];return Math.abs(c-m)<Math.abs(o-d)?[new Ft(o,1-u),new Ft(d,1-g),new Ft(y,1-b),new Ft(T,1-S)]:[new Ft(c,1-u),new Ft(m,1-g),new Ft(A,1-b),new Ft(E,1-S)]}};function vV(n,t,e){if(e.shapes=[],Array.isArray(n))for(let i=0,s=n.length;i<s;i++){const a=n[i];e.shapes.push(a.uuid)}else e.shapes.push(n.uuid);return e.options=Object.assign({},t),t.extrudePath!==void 0&&(e.options.extrudePath=t.extrudePath.toJSON()),e}class N_ extends ef{constructor(t=1,e=0){const i=(1+Math.sqrt(5))/2,s=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(s,a,t,e),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new N_(t.radius,t.detail)}}class wv extends ef{constructor(t=1,e=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],s=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,s,t,e),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new wv(t.radius,t.detail)}}class gm extends We{constructor(t=1,e=1,i=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:s};const a=t/2,o=e/2,c=Math.floor(i),u=Math.floor(s),d=c+1,m=u+1,g=t/c,y=e/u,A=[],b=[],T=[],E=[];for(let S=0;S<m;S++){const R=S*y-o;for(let B=0;B<d;B++){const D=B*g-a;b.push(D,-R,0),T.push(0,0,1),E.push(B/c),E.push(1-S/u)}}for(let S=0;S<u;S++)for(let R=0;R<c;R++){const B=R+d*S,D=R+d*(S+1),U=R+1+d*(S+1),N=R+1+d*S;A.push(B,D,N),A.push(D,U,N)}this.setIndex(A),this.setAttribute("position",new Se(b,3)),this.setAttribute("normal",new Se(T,3)),this.setAttribute("uv",new Se(E,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new gm(t.width,t.height,t.widthSegments,t.heightSegments)}}class U_ extends We{constructor(t=.5,e=1,i=32,s=1,a=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:s,thetaStart:a,thetaLength:o},i=Math.max(3,i),s=Math.max(1,s);const c=[],u=[],d=[],m=[];let g=t;const y=(e-t)/s,A=new q,b=new Ft;for(let T=0;T<=s;T++){for(let E=0;E<=i;E++){const S=a+E/i*o;A.x=g*Math.cos(S),A.y=g*Math.sin(S),u.push(A.x,A.y,A.z),d.push(0,0,1),b.x=(A.x/e+1)/2,b.y=(A.y/e+1)/2,m.push(b.x,b.y)}g+=y}for(let T=0;T<s;T++){const E=T*(i+1);for(let S=0;S<i;S++){const R=S+E,B=R,D=R+i+1,U=R+i+2,N=R+1;c.push(B,D,N),c.push(D,U,N)}}this.setIndex(c),this.setAttribute("position",new Se(u,3)),this.setAttribute("normal",new Se(d,3)),this.setAttribute("uv",new Se(m,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new U_(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)}}class O_ extends We{constructor(t=new Uh([new Ft(0,.5),new Ft(-.5,-.5),new Ft(.5,-.5)]),e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const i=[],s=[],a=[],o=[];let c=0,u=0;if(Array.isArray(t)===!1)d(t);else for(let m=0;m<t.length;m++)d(t[m]),this.addGroup(c,u,m),c+=u,u=0;this.setIndex(i),this.setAttribute("position",new Se(s,3)),this.setAttribute("normal",new Se(a,3)),this.setAttribute("uv",new Se(o,2));function d(m){const g=s.length/3,y=m.extractPoints(e);let A=y.shape;const b=y.holes;Bl.isClockWise(A)===!1&&(A=A.reverse());for(let E=0,S=b.length;E<S;E++){const R=b[E];Bl.isClockWise(R)===!0&&(b[E]=R.reverse())}const T=Bl.triangulateShape(A,b);for(let E=0,S=b.length;E<S;E++){const R=b[E];A=A.concat(R)}for(let E=0,S=A.length;E<S;E++){const R=A[E];s.push(R.x,R.y,0),a.push(0,0,1),o.push(R.x,R.y)}for(let E=0,S=T.length;E<S;E++){const R=T[E],B=R[0]+g,D=R[1]+g,U=R[2]+g;i.push(B,D,U),u+=3}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),e=this.parameters.shapes;return yV(e,t)}static fromJSON(t,e){const i=[];for(let s=0,a=t.shapes.length;s<a;s++){const o=e[t.shapes[s]];i.push(o)}return new O_(i,t.curveSegments)}}function yV(n,t){if(t.shapes=[],Array.isArray(n))for(let e=0,i=n.length;e<i;e++){const s=n[e];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t}class Rv extends We{constructor(t=1,e=32,i=16,s=0,a=Math.PI*2,o=0,c=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:s,phiLength:a,thetaStart:o,thetaLength:c},e=Math.max(3,Math.floor(e)),i=Math.max(2,Math.floor(i));const u=Math.min(o+c,Math.PI);let d=0;const m=[],g=new q,y=new q,A=[],b=[],T=[],E=[];for(let S=0;S<=i;S++){const R=[],B=S/i;let D=0;S===0&&o===0?D=.5/e:S===i&&u===Math.PI&&(D=-.5/e);for(let U=0;U<=e;U++){const N=U/e;g.x=-t*Math.cos(s+N*a)*Math.sin(o+B*c),g.y=t*Math.cos(o+B*c),g.z=t*Math.sin(s+N*a)*Math.sin(o+B*c),b.push(g.x,g.y,g.z),y.copy(g).normalize(),T.push(y.x,y.y,y.z),E.push(N+D,1-B),R.push(d++)}m.push(R)}for(let S=0;S<i;S++)for(let R=0;R<e;R++){const B=m[S][R+1],D=m[S][R],U=m[S+1][R],N=m[S+1][R+1];(S!==0||o>0)&&A.push(B,D,N),(S!==i-1||u<Math.PI)&&A.push(D,U,N)}this.setIndex(A),this.setAttribute("position",new Se(b,3)),this.setAttribute("normal",new Se(T,3)),this.setAttribute("uv",new Se(E,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Rv(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class P_ extends ef{constructor(t=1,e=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],s=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,s,t,e),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new P_(t.radius,t.detail)}}class I_ extends We{constructor(t=1,e=.4,i=12,s=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:s,arc:a},i=Math.floor(i),s=Math.floor(s);const o=[],c=[],u=[],d=[],m=new q,g=new q,y=new q;for(let A=0;A<=i;A++)for(let b=0;b<=s;b++){const T=b/s*a,E=A/i*Math.PI*2;g.x=(t+e*Math.cos(E))*Math.cos(T),g.y=(t+e*Math.cos(E))*Math.sin(T),g.z=e*Math.sin(E),c.push(g.x,g.y,g.z),m.x=t*Math.cos(T),m.y=t*Math.sin(T),y.subVectors(g,m).normalize(),u.push(y.x,y.y,y.z),d.push(b/s),d.push(A/i)}for(let A=1;A<=i;A++)for(let b=1;b<=s;b++){const T=(s+1)*A+b-1,E=(s+1)*(A-1)+b-1,S=(s+1)*(A-1)+b,R=(s+1)*A+b;o.push(T,E,R),o.push(E,S,R)}this.setIndex(o),this.setAttribute("position",new Se(c,3)),this.setAttribute("normal",new Se(u,3)),this.setAttribute("uv",new Se(d,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new I_(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}}class F_ extends We{constructor(t=1,e=.4,i=64,s=8,a=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:s,p:a,q:o},i=Math.floor(i),s=Math.floor(s);const c=[],u=[],d=[],m=[],g=new q,y=new q,A=new q,b=new q,T=new q,E=new q,S=new q;for(let B=0;B<=i;++B){const D=B/i*a*Math.PI*2;R(D,a,o,t,A),R(D+.01,a,o,t,b),E.subVectors(b,A),S.addVectors(b,A),T.crossVectors(E,S),S.crossVectors(T,E),T.normalize(),S.normalize();for(let U=0;U<=s;++U){const N=U/s*Math.PI*2,F=-e*Math.cos(N),z=e*Math.sin(N);g.x=A.x+(F*S.x+z*T.x),g.y=A.y+(F*S.y+z*T.y),g.z=A.z+(F*S.z+z*T.z),u.push(g.x,g.y,g.z),y.subVectors(g,A).normalize(),d.push(y.x,y.y,y.z),m.push(B/i),m.push(U/s)}}for(let B=1;B<=i;B++)for(let D=1;D<=s;D++){const U=(s+1)*(B-1)+(D-1),N=(s+1)*B+(D-1),F=(s+1)*B+D,z=(s+1)*(B-1)+D;c.push(U,N,z),c.push(N,F,z)}this.setIndex(c),this.setAttribute("position",new Se(u,3)),this.setAttribute("normal",new Se(d,3)),this.setAttribute("uv",new Se(m,2));function R(B,D,U,N,F){const z=Math.cos(B),O=Math.sin(B),I=U/D*B,Y=Math.cos(I);F.x=N*(2+Y)*.5*z,F.y=N*(2+Y)*O*.5,F.z=N*Math.sin(I)*.5}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new F_(t.radius,t.tube,t.tubularSegments,t.radialSegments,t.p,t.q)}}class z_ extends We{constructor(t=new lC(new q(-1,-1,0),new q(-1,1,0),new q(1,1,0)),e=64,i=1,s=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:s,closed:a};const o=t.computeFrenetFrames(e,a);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const c=new q,u=new q,d=new Ft;let m=new q;const g=[],y=[],A=[],b=[];T(),this.setIndex(b),this.setAttribute("position",new Se(g,3)),this.setAttribute("normal",new Se(y,3)),this.setAttribute("uv",new Se(A,2));function T(){for(let B=0;B<e;B++)E(B);E(a===!1?e:0),R(),S()}function E(B){m=t.getPointAt(B/e,m);const D=o.normals[B],U=o.binormals[B];for(let N=0;N<=s;N++){const F=N/s*Math.PI*2,z=Math.sin(F),O=-Math.cos(F);u.x=O*D.x+z*U.x,u.y=O*D.y+z*U.y,u.z=O*D.z+z*U.z,u.normalize(),y.push(u.x,u.y,u.z),c.x=m.x+i*u.x,c.y=m.y+i*u.y,c.z=m.z+i*u.z,g.push(c.x,c.y,c.z)}}function S(){for(let B=1;B<=e;B++)for(let D=1;D<=s;D++){const U=(s+1)*(B-1)+(D-1),N=(s+1)*B+(D-1),F=(s+1)*B+D,z=(s+1)*(B-1)+D;b.push(U,N,z),b.push(N,F,z)}}function R(){for(let B=0;B<=e;B++)for(let D=0;D<=s;D++)d.x=B/e,d.y=D/s,A.push(d.x,d.y)}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return t.path=this.parameters.path.toJSON(),t}static fromJSON(t){return new z_(new IA[t.path.type]().fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}class AP extends We{constructor(t=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:t},t!==null){const e=[],i=new Set,s=new q,a=new q;if(t.index!==null){const o=t.attributes.position,c=t.index;let u=t.groups;u.length===0&&(u=[{start:0,count:c.count,materialIndex:0}]);for(let d=0,m=u.length;d<m;++d){const g=u[d],y=g.start,A=g.count;for(let b=y,T=y+A;b<T;b+=3)for(let E=0;E<3;E++){const S=c.getX(b+E),R=c.getX(b+(E+1)%3);s.fromBufferAttribute(o,S),a.fromBufferAttribute(o,R),SB(s,a,i)===!0&&(e.push(s.x,s.y,s.z),e.push(a.x,a.y,a.z))}}}else{const o=t.attributes.position;for(let c=0,u=o.count/3;c<u;c++)for(let d=0;d<3;d++){const m=3*c+d,g=3*c+(d+1)%3;s.fromBufferAttribute(o,m),a.fromBufferAttribute(o,g),SB(s,a,i)===!0&&(e.push(s.x,s.y,s.z),e.push(a.x,a.y,a.z))}}this.setAttribute("position",new Se(e,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}function SB(n,t,e){const i=`${n.x},${n.y},${n.z}-${t.x},${t.y},${t.z}`,s=`${t.x},${t.y},${t.z}-${n.x},${n.y},${n.z}`;return e.has(i)===!0||e.has(s)===!0?!1:(e.add(i),e.add(s),!0)}var bB=Object.freeze({__proto__:null,BoxGeometry:Jh,CapsuleGeometry:C_,CircleGeometry:w_,ConeGeometry:R_,CylinderGeometry:mm,DodecahedronGeometry:B_,EdgesGeometry:gP,ExtrudeGeometry:L_,IcosahedronGeometry:N_,LatheGeometry:Cv,OctahedronGeometry:wv,PlaneGeometry:gm,PolyhedronGeometry:ef,RingGeometry:U_,ShapeGeometry:O_,SphereGeometry:Rv,TetrahedronGeometry:P_,TorusGeometry:I_,TorusKnotGeometry:F_,TubeGeometry:z_,WireframeGeometry:AP});class _P extends ss{constructor(t){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ie(0),this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.fog=t.fog,this}}class SP extends Oo{constructor(t){super(t),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Bv extends ss{constructor(t){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new ie(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=tf,this.normalScale=new Ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Wa,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class Vr extends Bv{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ft(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Xe(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ie(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ie(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ie(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(t)}get anisotropy(){return this._anisotropy}set anisotropy(t){this._anisotropy>0!=t>0&&this.version++,this._anisotropy=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!=t>0&&this.version++,this._iridescence=t}get dispersion(){return this._dispersion}set dispersion(t){this._dispersion>0!=t>0&&this.version++,this._dispersion=t}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=t.anisotropy,this.anisotropyRotation=t.anisotropyRotation,this.anisotropyMap=t.anisotropyMap,this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.dispersion=t.dispersion,this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}class bP extends ss{constructor(t){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ie(16777215),this.specular=new ie(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=tf,this.normalScale=new Ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Wa,this.combine=Av,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class MP extends ss{constructor(t){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ie(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=tf,this.normalScale=new Ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}class EP extends ss{constructor(t){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=tf,this.normalScale=new Ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}class TP extends ss{constructor(t){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ie(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=tf,this.normalScale=new Ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Wa,this.combine=Av,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class uC extends ss{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=VO,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class fC extends ss{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}class CP extends ss{constructor(t){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ie(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=tf,this.normalScale=new Ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this.fog=t.fog,this}}class wP extends ra{constructor(t){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}function Eh(n,t,e){return!n||!e&&n.constructor===t?n:typeof t.BYTES_PER_ELEMENT=="number"?new t(n):Array.prototype.slice.call(n)}function RP(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function BP(n){function t(s,a){return n[s]-n[a]}const e=n.length,i=new Array(e);for(let s=0;s!==e;++s)i[s]=s;return i.sort(t),i}function lE(n,t,e){const i=n.length,s=new n.constructor(i);for(let a=0,o=0;o!==i;++a){const c=e[a]*t;for(let u=0;u!==t;++u)s[o++]=n[c+u]}return s}function hC(n,t,e,i){let s=1,a=n[0];for(;a!==void 0&&a[i]===void 0;)a=n[s++];if(a===void 0)return;let o=a[i];if(o!==void 0)if(Array.isArray(o))do o=a[i],o!==void 0&&(t.push(a.time),e.push.apply(e,o)),a=n[s++];while(a!==void 0);else if(o.toArray!==void 0)do o=a[i],o!==void 0&&(t.push(a.time),o.toArray(e,e.length)),a=n[s++];while(a!==void 0);else do o=a[i],o!==void 0&&(t.push(a.time),e.push(o)),a=n[s++];while(a!==void 0)}function xV(n,t,e,i,s=30){const a=n.clone();a.name=t;const o=[];for(let u=0;u<a.tracks.length;++u){const d=a.tracks[u],m=d.getValueSize(),g=[],y=[];for(let A=0;A<d.times.length;++A){const b=d.times[A]*s;if(!(b<e||b>=i)){g.push(d.times[A]);for(let T=0;T<m;++T)y.push(d.values[A*m+T])}}g.length!==0&&(d.times=Eh(g,d.times.constructor),d.values=Eh(y,d.values.constructor),o.push(d))}a.tracks=o;let c=1/0;for(let u=0;u<a.tracks.length;++u)c>a.tracks[u].times[0]&&(c=a.tracks[u].times[0]);for(let u=0;u<a.tracks.length;++u)a.tracks[u].shift(-1*c);return a.resetDuration(),a}function AV(n,t=0,e=n,i=30){i<=0&&(i=30);const s=e.tracks.length,a=t/i;for(let o=0;o<s;++o){const c=e.tracks[o],u=c.ValueTypeName;if(u==="bool"||u==="string")continue;const d=n.tracks.find(function(S){return S.name===c.name&&S.ValueTypeName===u});if(d===void 0)continue;let m=0;const g=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=g/3);let y=0;const A=d.getValueSize();d.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=A/3);const b=c.times.length-1;let T;if(a<=c.times[0]){const S=m,R=g-m;T=c.values.slice(S,R)}else if(a>=c.times[b]){const S=b*g+m,R=S+g-m;T=c.values.slice(S,R)}else{const S=c.createInterpolant(),R=m,B=g-m;S.evaluate(a),T=S.resultBuffer.slice(R,B)}u==="quaternion"&&new Xi().fromArray(T).normalize().conjugate().toArray(T);const E=d.times.length;for(let S=0;S<E;++S){const R=S*A+y;if(u==="quaternion")Xi.multiplyQuaternionsFlat(d.values,R,T,0,d.values,R);else{const B=A-y*2;for(let D=0;D<B;++D)d.values[R+D]-=T[D]}}}return n.blendMode=jT,n}const _V={convertArray:Eh,isTypedArray:RP,getKeyframeOrder:BP,sortedArray:lE,flattenJSON:hC,subclip:xV,makeClipAdditive:AV};class vm{constructor(t,e,i,s){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=s!==void 0?s:new e.constructor(i),this.sampleValues=e,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let i=this._cachedIndex,s=e[i],a=e[i-1];t:{e:{let o;n:{i:if(!(t<s)){for(let c=i+2;;){if(s===void 0){if(t<a)break i;return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===c)break;if(a=s,s=e[++i],t<s)break e}o=e.length;break n}if(!(t>=a)){const c=e[1];t<c&&(i=2,a=c);for(let u=i-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===u)break;if(s=a,a=e[--i-1],t>=a)break e}o=i,i=0;break n}break t}for(;i<o;){const c=i+o>>>1;t<e[c]?o=c:i=c+1}if(s=e[i],a=e[i-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(s===void 0)return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,a,s)}return this.interpolate_(i,a,t,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,i=this.sampleValues,s=this.valueSize,a=t*s;for(let o=0;o!==s;++o)e[o]=i[a+o];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class DP extends vm{constructor(t,e,i,s){super(t,e,i,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Sh,endingEnd:Sh}}intervalChanged_(t,e,i){const s=this.parameterPositions;let a=t-2,o=t+1,c=s[a],u=s[o];if(c===void 0)switch(this.getSettings_().endingStart){case bh:a=t,c=2*e-i;break;case q0:a=s.length-2,c=e+s[a]-s[a+1];break;default:a=t,c=i}if(u===void 0)switch(this.getSettings_().endingEnd){case bh:o=t,u=2*i-e;break;case q0:o=1,u=i+s[1]-s[0];break;default:o=t-1,u=e}const d=(i-e)*.5,m=this.valueSize;this._weightPrev=d/(e-c),this._weightNext=d/(u-i),this._offsetPrev=a*m,this._offsetNext=o*m}interpolate_(t,e,i,s){const a=this.resultBuffer,o=this.sampleValues,c=this.valueSize,u=t*c,d=u-c,m=this._offsetPrev,g=this._offsetNext,y=this._weightPrev,A=this._weightNext,b=(i-e)/(s-e),T=b*b,E=T*b,S=-y*E+2*y*T-y*b,R=(1+y)*E+(-1.5-2*y)*T+(-.5+y)*b+1,B=(-1-A)*E+(1.5+A)*T+.5*b,D=A*E-A*T;for(let U=0;U!==c;++U)a[U]=S*o[m+U]+R*o[d+U]+B*o[u+U]+D*o[g+U];return a}}class dC extends vm{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t,e,i,s){const a=this.resultBuffer,o=this.sampleValues,c=this.valueSize,u=t*c,d=u-c,m=(i-e)/(s-e),g=1-m;for(let y=0;y!==c;++y)a[y]=o[d+y]*g+o[u+y]*m;return a}}class LP extends vm{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t){return this.copySampleValue_(t-1)}}class zo{constructor(t,e,i,s){if(t===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(e===void 0||e.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Eh(e,this.TimeBufferType),this.values=Eh(i,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let i;if(e.toJSON!==this.toJSON)i=e.toJSON(t);else{i={name:t.name,times:Eh(t.times,Array),values:Eh(t.values,Array)};const s=t.getInterpolation();s!==t.DefaultInterpolation&&(i.interpolation=s)}return i.type=t.ValueTypeName,i}InterpolantFactoryMethodDiscrete(t){return new LP(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new dC(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new DP(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case Kp:e=this.InterpolantFactoryMethodDiscrete;break;case Jp:e=this.InterpolantFactoryMethodLinear;break;case Bx:e=this.InterpolantFactoryMethodSmooth;break}if(e===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Kp;case this.InterpolantFactoryMethodLinear:return Jp;case this.InterpolantFactoryMethodSmooth:return Bx}}getValueSize(){return this.values.length/this.times.length}shift(t){if(t!==0){const e=this.times;for(let i=0,s=e.length;i!==s;++i)e[i]+=t}return this}scale(t){if(t!==1){const e=this.times;for(let i=0,s=e.length;i!==s;++i)e[i]*=t}return this}trim(t,e){const i=this.times,s=i.length;let a=0,o=s-1;for(;a!==s&&i[a]<t;)++a;for(;o!==-1&&i[o]>e;)--o;if(++o,a!==0||o!==s){a>=o&&(o=Math.max(o,1),a=o-1);const c=this.getValueSize();this.times=i.slice(a,o),this.values=this.values.slice(a*c,o*c)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const i=this.times,s=this.values,a=i.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let o=null;for(let c=0;c!==a;c++){const u=i[c];if(typeof u=="number"&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,c,u),t=!1;break}if(o!==null&&o>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,c,u,o),t=!1;break}o=u}if(s!==void 0&&RP(s))for(let c=0,u=s.length;c!==u;++c){const d=s[c];if(isNaN(d)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,c,d),t=!1;break}}return t}optimize(){const t=this.times.slice(),e=this.values.slice(),i=this.getValueSize(),s=this.getInterpolation()===Bx,a=t.length-1;let o=1;for(let c=1;c<a;++c){let u=!1;const d=t[c],m=t[c+1];if(d!==m&&(c!==1||d!==t[0]))if(s)u=!0;else{const g=c*i,y=g-i,A=g+i;for(let b=0;b!==i;++b){const T=e[g+b];if(T!==e[y+b]||T!==e[A+b]){u=!0;break}}}if(u){if(c!==o){t[o]=t[c];const g=c*i,y=o*i;for(let A=0;A!==i;++A)e[y+A]=e[g+A]}++o}}if(a>0){t[o]=t[a];for(let c=a*i,u=o*i,d=0;d!==i;++d)e[u+d]=e[c+d];++o}return o!==t.length?(this.times=t.slice(0,o),this.values=e.slice(0,o*i)):(this.times=t,this.values=e),this}clone(){const t=this.times.slice(),e=this.values.slice(),i=this.constructor,s=new i(this.name,t,e);return s.createInterpolant=this.createInterpolant,s}}zo.prototype.TimeBufferType=Float32Array;zo.prototype.ValueBufferType=Float32Array;zo.prototype.DefaultInterpolation=Jp;class Zh extends zo{constructor(t,e,i){super(t,e,i)}}Zh.prototype.ValueTypeName="bool";Zh.prototype.ValueBufferType=Array;Zh.prototype.DefaultInterpolation=Kp;Zh.prototype.InterpolantFactoryMethodLinear=void 0;Zh.prototype.InterpolantFactoryMethodSmooth=void 0;class pC extends zo{}pC.prototype.ValueTypeName="color";class jh extends zo{}jh.prototype.ValueTypeName="number";class NP extends vm{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t,e,i,s){const a=this.resultBuffer,o=this.sampleValues,c=this.valueSize,u=(i-e)/(s-e);let d=t*c;for(let m=d+c;d!==m;d+=4)Xi.slerpFlat(a,0,o,d-c,o,d,u);return a}}class Xh extends zo{InterpolantFactoryMethodLinear(t){return new NP(this.times,this.values,this.getValueSize(),t)}}Xh.prototype.ValueTypeName="quaternion";Xh.prototype.InterpolantFactoryMethodSmooth=void 0;class Qh extends zo{constructor(t,e,i){super(t,e,i)}}Qh.prototype.ValueTypeName="string";Qh.prototype.ValueBufferType=Array;Qh.prototype.DefaultInterpolation=Kp;Qh.prototype.InterpolantFactoryMethodLinear=void 0;Qh.prototype.InterpolantFactoryMethodSmooth=void 0;class Yh extends zo{}Yh.prototype.ValueTypeName="vector";class tm{constructor(t="",e=-1,i=[],s=v_){this.name=t,this.tracks=i,this.duration=e,this.blendMode=s,this.uuid=pr(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],i=t.tracks,s=1/(t.fps||1);for(let o=0,c=i.length;o!==c;++o)e.push(bV(i[o]).scale(s));const a=new this(t.name,t.duration,e,t.blendMode);return a.uuid=t.uuid,a}static toJSON(t){const e=[],i=t.tracks,s={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let a=0,o=i.length;a!==o;++a)e.push(zo.toJSON(i[a]));return s}static CreateFromMorphTargetSequence(t,e,i,s){const a=e.length,o=[];for(let c=0;c<a;c++){let u=[],d=[];u.push((c+a-1)%a,c,(c+1)%a),d.push(0,1,0);const m=BP(u);u=lE(u,1,m),d=lE(d,1,m),!s&&u[0]===0&&(u.push(a),d.push(d[0])),o.push(new jh(".morphTargetInfluences["+e[c].name+"]",u,d).scale(1/i))}return new this(t,-1,o)}static findByName(t,e){let i=t;if(!Array.isArray(t)){const s=t;i=s.geometry&&s.geometry.animations||s.animations}for(let s=0;s<i.length;s++)if(i[s].name===e)return i[s];return null}static CreateClipsFromMorphTargetSequences(t,e,i){const s={},a=/^([\w-]*?)([\d]+)$/;for(let c=0,u=t.length;c<u;c++){const d=t[c],m=d.name.match(a);if(m&&m.length>1){const g=m[1];let y=s[g];y||(s[g]=y=[]),y.push(d)}}const o=[];for(const c in s)o.push(this.CreateFromMorphTargetSequence(c,s[c],e,i));return o}static parseAnimation(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(g,y,A,b,T){if(A.length!==0){const E=[],S=[];hC(A,E,S,b),E.length!==0&&T.push(new g(y,E,S))}},s=[],a=t.name||"default",o=t.fps||30,c=t.blendMode;let u=t.length||-1;const d=t.hierarchy||[];for(let g=0;g<d.length;g++){const y=d[g].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const A={};let b;for(b=0;b<y.length;b++)if(y[b].morphTargets)for(let T=0;T<y[b].morphTargets.length;T++)A[y[b].morphTargets[T]]=-1;for(const T in A){const E=[],S=[];for(let R=0;R!==y[b].morphTargets.length;++R){const B=y[b];E.push(B.time),S.push(B.morphTarget===T?1:0)}s.push(new jh(".morphTargetInfluence["+T+"]",E,S))}u=A.length*o}else{const A=".bones["+e[g].name+"]";i(Yh,A+".position",y,"pos",s),i(Xh,A+".quaternion",y,"rot",s),i(Yh,A+".scale",y,"scl",s)}}return s.length===0?null:new this(a,u,s,c)}resetDuration(){const t=this.tracks;let e=0;for(let i=0,s=t.length;i!==s;++i){const a=this.tracks[i];e=Math.max(e,a.times[a.times.length-1])}return this.duration=e,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function SV(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return jh;case"vector":case"vector2":case"vector3":case"vector4":return Yh;case"color":return pC;case"quaternion":return Xh;case"bool":case"boolean":return Zh;case"string":return Qh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function bV(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=SV(n.type);if(n.times===void 0){const e=[],i=[];hC(n.keys,e,i,"value"),n.times=e,n.values=i}return t.parse!==void 0?t.parse(n):new t(n.name,n.times,n.values,n.interpolation)}const wc={enabled:!1,files:{},add:function(n,t){this.enabled!==!1&&(this.files[n]=t)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class mC{constructor(t,e,i){const s=this;let a=!1,o=0,c=0,u;const d=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(m){c++,a===!1&&s.onStart!==void 0&&s.onStart(m,o,c),a=!0},this.itemEnd=function(m){o++,s.onProgress!==void 0&&s.onProgress(m,o,c),o===c&&(a=!1,s.onLoad!==void 0&&s.onLoad())},this.itemError=function(m){s.onError!==void 0&&s.onError(m)},this.resolveURL=function(m){return u?u(m):m},this.setURLModifier=function(m){return u=m,this},this.addHandler=function(m,g){return d.push(m,g),this},this.removeHandler=function(m){const g=d.indexOf(m);return g!==-1&&d.splice(g,2),this},this.getHandler=function(m){for(let g=0,y=d.length;g<y;g+=2){const A=d[g],b=d[g+1];if(A.global&&(A.lastIndex=0),A.test(m))return b}return null}}}const Dp=new mC;let oa=class{constructor(t){this.manager=t!==void 0?t:Dp,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const i=this;return new Promise(function(s,a){i.load(t,s,e,a)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}};oa.DEFAULT_MATERIAL_NAME="__DEFAULT";const xc={};class MV extends Error{constructor(t,e){super(t),this.response=e}}class mr extends oa{constructor(t){super(t)}load(t,e,i,s){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const a=wc.get(t);if(a!==void 0)return this.manager.itemStart(t),setTimeout(()=>{e&&e(a),this.manager.itemEnd(t)},0),a;if(xc[t]!==void 0){xc[t].push({onLoad:e,onProgress:i,onError:s});return}xc[t]=[],xc[t].push({onLoad:e,onProgress:i,onError:s});const o=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),c=this.mimeType,u=this.responseType;fetch(o).then(d=>{if(d.status===200||d.status===0){if(d.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||d.body===void 0||d.body.getReader===void 0)return d;const m=xc[t],g=d.body.getReader(),y=d.headers.get("X-File-Size")||d.headers.get("Content-Length"),A=y?parseInt(y):0,b=A!==0;let T=0;const E=new ReadableStream({start(S){R();function R(){g.read().then(({done:B,value:D})=>{if(B)S.close();else{T+=D.byteLength;const U=new ProgressEvent("progress",{lengthComputable:b,loaded:T,total:A});for(let N=0,F=m.length;N<F;N++){const z=m[N];z.onProgress&&z.onProgress(U)}S.enqueue(D),R()}},B=>{S.error(B)})}}});return new Response(E)}else throw new MV(`fetch for "${d.url}" responded with ${d.status}: ${d.statusText}`,d)}).then(d=>{switch(u){case"arraybuffer":return d.arrayBuffer();case"blob":return d.blob();case"document":return d.text().then(m=>new DOMParser().parseFromString(m,c));case"json":return d.json();default:if(c===void 0)return d.text();{const g=/charset="?([^;"\s]*)"?/i.exec(c),y=g&&g[1]?g[1].toLowerCase():void 0,A=new TextDecoder(y);return d.arrayBuffer().then(b=>A.decode(b))}}}).then(d=>{wc.add(t,d);const m=xc[t];delete xc[t];for(let g=0,y=m.length;g<y;g++){const A=m[g];A.onLoad&&A.onLoad(d)}}).catch(d=>{const m=xc[t];if(m===void 0)throw this.manager.itemError(t),d;delete xc[t];for(let g=0,y=m.length;g<y;g++){const A=m[g];A.onError&&A.onError(d)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class EV extends oa{constructor(t){super(t)}load(t,e,i,s){const a=this,o=new mr(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,function(c){try{e(a.parse(JSON.parse(c)))}catch(u){s?s(u):console.error(u),a.manager.itemError(t)}},i,s)}parse(t){const e=[];for(let i=0;i<t.length;i++){const s=tm.parse(t[i]);e.push(s)}return e}}class TV extends oa{constructor(t){super(t)}load(t,e,i,s){const a=this,o=[],c=new E_,u=new mr(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(a.withCredentials);let d=0;function m(g){u.load(t[g],function(y){const A=a.parse(y,!0);o[g]={width:A.width,height:A.height,format:A.format,mipmaps:A.mipmaps},d+=1,d===6&&(A.mipmapCount===1&&(c.minFilter=ki),c.image=o,c.format=A.format,c.needsUpdate=!0,e&&e(c))},i,s)}if(Array.isArray(t))for(let g=0,y=t.length;g<y;++g)m(g);else u.load(t,function(g){const y=a.parse(g,!0);if(y.isCubemap){const A=y.mipmaps.length/y.mipmapCount;for(let b=0;b<A;b++){o[b]={mipmaps:[]};for(let T=0;T<y.mipmapCount;T++)o[b].mipmaps.push(y.mipmaps[b*y.mipmapCount+T]),o[b].format=y.format,o[b].width=y.width,o[b].height=y.height}c.image=o}else c.image.width=y.width,c.image.height=y.height,c.mipmaps=y.mipmaps;y.mipmapCount===1&&(c.minFilter=ki),c.format=y.format,c.needsUpdate=!0,e&&e(c)},i,s);return c}}class iv extends oa{constructor(t){super(t)}load(t,e,i,s){this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const a=this,o=wc.get(t);if(o!==void 0)return a.manager.itemStart(t),setTimeout(function(){e&&e(o),a.manager.itemEnd(t)},0),o;const c=Q0("img");function u(){m(),wc.add(t,this),e&&e(this),a.manager.itemEnd(t)}function d(g){m(),s&&s(g),a.manager.itemError(t),a.manager.itemEnd(t)}function m(){c.removeEventListener("load",u,!1),c.removeEventListener("error",d,!1)}return c.addEventListener("load",u,!1),c.addEventListener("error",d,!1),t.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(c.crossOrigin=this.crossOrigin),a.manager.itemStart(t),c.src=t,c}}class CV extends oa{constructor(t){super(t)}load(t,e,i,s){const a=new bv;a.colorSpace=ea;const o=new iv(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let c=0;function u(d){o.load(t[d],function(m){a.images[d]=m,c++,c===6&&(a.needsUpdate=!0,e&&e(a))},void 0,s)}for(let d=0;d<t.length;++d)u(d);return a}}class wV extends oa{constructor(t){super(t)}load(t,e,i,s){const a=this,o=new Rl,c=new mr(this.manager);return c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setPath(this.path),c.setWithCredentials(a.withCredentials),c.load(t,function(u){let d;try{d=a.parse(u)}catch(m){if(s!==void 0)s(m);else{console.error(m);return}}d.image!==void 0?o.image=d.image:d.data!==void 0&&(o.image.width=d.width,o.image.height=d.height,o.image.data=d.data),o.wrapS=d.wrapS!==void 0?d.wrapS:hr,o.wrapT=d.wrapT!==void 0?d.wrapT:hr,o.magFilter=d.magFilter!==void 0?d.magFilter:ki,o.minFilter=d.minFilter!==void 0?d.minFilter:ki,o.anisotropy=d.anisotropy!==void 0?d.anisotropy:1,d.colorSpace!==void 0&&(o.colorSpace=d.colorSpace),d.flipY!==void 0&&(o.flipY=d.flipY),d.format!==void 0&&(o.format=d.format),d.type!==void 0&&(o.type=d.type),d.mipmaps!==void 0&&(o.mipmaps=d.mipmaps,o.minFilter=Hr),d.mipmapCount===1&&(o.minFilter=ki),d.generateMipmaps!==void 0&&(o.generateMipmaps=d.generateMipmaps),o.needsUpdate=!0,e&&e(o,d)},i,s),o}}class UP extends oa{constructor(t){super(t)}load(t,e,i,s){const a=new ui,o=new iv(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,function(c){a.image=c,a.needsUpdate=!0,e!==void 0&&e(a)},i,s),a}}class nf extends gn{constructor(t,e=1){super(),this.isLight=!0,this.type="Light",this.color=new ie(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,this.groundColor!==void 0&&(e.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(e.object.distance=this.distance),this.angle!==void 0&&(e.object.angle=this.angle),this.decay!==void 0&&(e.object.decay=this.decay),this.penumbra!==void 0&&(e.object.penumbra=this.penumbra),this.shadow!==void 0&&(e.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(e.object.target=this.target.uuid),e}}class OP extends nf{constructor(t,e,i){super(t,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(gn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ie(e)}copy(t,e){return super.copy(t,e),this.groundColor.copy(t.groundColor),this}}const Ub=new Re,MB=new q,EB=new q;class gC{constructor(t){this.camera=t,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ft(512,512),this.map=null,this.mapPass=null,this.matrix=new Re,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Tv,this._frameExtents=new Ft(1,1),this._viewportCount=1,this._viewports=[new mn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,i=this.matrix;MB.setFromMatrixPosition(t.matrixWorld),e.position.copy(MB),EB.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(EB),e.updateMatrixWorld(),Ub.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Ub),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Ub)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.intensity=t.intensity,this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const t={};return this.intensity!==1&&(t.intensity=this.intensity),this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class RV extends gC{constructor(){super(new Vi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(t){const e=this.camera,i=Zp*2*t.angle*this.focus,s=this.mapSize.width/this.mapSize.height,a=t.distance||e.far;(i!==e.fov||s!==e.aspect||a!==e.far)&&(e.fov=i,e.aspect=s,e.far=a,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class vC extends nf{constructor(t,e,i=0,s=Math.PI/3,a=0,o=2){super(t,e),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(gn.DEFAULT_UP),this.updateMatrix(),this.target=new gn,this.distance=i,this.angle=s,this.penumbra=a,this.decay=o,this.map=null,this.shadow=new RV}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}const TB=new Re,Qg=new q,Ob=new q;class BV extends gC{constructor(){super(new Vi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ft(4,2),this._viewportCount=6,this._viewports=[new mn(2,1,1,1),new mn(0,1,1,1),new mn(3,1,1,1),new mn(1,1,1,1),new mn(3,0,1,1),new mn(1,0,1,1)],this._cubeDirections=[new q(1,0,0),new q(-1,0,0),new q(0,0,1),new q(0,0,-1),new q(0,1,0),new q(0,-1,0)],this._cubeUps=[new q(0,1,0),new q(0,1,0),new q(0,1,0),new q(0,1,0),new q(0,0,1),new q(0,0,-1)]}updateMatrices(t,e=0){const i=this.camera,s=this.matrix,a=t.distance||i.far;a!==i.far&&(i.far=a,i.updateProjectionMatrix()),Qg.setFromMatrixPosition(t.matrixWorld),i.position.copy(Qg),Ob.copy(i.position),Ob.add(this._cubeDirections[e]),i.up.copy(this._cubeUps[e]),i.lookAt(Ob),i.updateMatrixWorld(),s.makeTranslation(-Qg.x,-Qg.y,-Qg.z),TB.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(TB)}}class yC extends nf{constructor(t,e,i=0,s=2){super(t,e),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=s,this.shadow=new BV}get power(){return this.intensity*4*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class sf extends A_{constructor(t=-1,e=1,i=1,s=-1,a=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=s,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,e,i,s,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=s,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let a=i-t,o=i+t,c=s+e,u=s-e;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=d*this.view.offsetX,o=a+d*this.view.width,c-=m*this.view.offsetY,u=c-m*this.view.height}this.projectionMatrix.makeOrthographic(a,o,c,u,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,this.view!==null&&(e.object.view=Object.assign({},this.view)),e}}class DV extends gC{constructor(){super(new sf(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class xC extends nf{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(gn.DEFAULT_UP),this.updateMatrix(),this.target=new gn,this.shadow=new DV}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class PP extends nf{constructor(t,e){super(t,e),this.isAmbientLight=!0,this.type="AmbientLight"}}class IP extends nf{constructor(t,e,i=10,s=10){super(t,e),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=s}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const e=super.toJSON(t);return e.object.width=this.width,e.object.height=this.height,e}}class FP{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new q)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const i=t.x,s=t.y,a=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.282095),e.addScaledVector(o[1],.488603*s),e.addScaledVector(o[2],.488603*a),e.addScaledVector(o[3],.488603*i),e.addScaledVector(o[4],1.092548*(i*s)),e.addScaledVector(o[5],1.092548*(s*a)),e.addScaledVector(o[6],.315392*(3*a*a-1)),e.addScaledVector(o[7],1.092548*(i*a)),e.addScaledVector(o[8],.546274*(i*i-s*s)),e}getIrradianceAt(t,e){const i=t.x,s=t.y,a=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.886227),e.addScaledVector(o[1],2*.511664*s),e.addScaledVector(o[2],2*.511664*a),e.addScaledVector(o[3],2*.511664*i),e.addScaledVector(o[4],2*.429043*i*s),e.addScaledVector(o[5],2*.429043*s*a),e.addScaledVector(o[6],.743125*a*a-.247708),e.addScaledVector(o[7],2*.429043*i*a),e.addScaledVector(o[8],.429043*(i*i-s*s)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(t.coefficients[i],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(t,e=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].fromArray(t,e+s*3);return this}toArray(t=[],e=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].toArray(t,e+s*3);return t}static getBasisAt(t,e){const i=t.x,s=t.y,a=t.z;e[0]=.282095,e[1]=.488603*s,e[2]=.488603*a,e[3]=.488603*i,e[4]=1.092548*i*s,e[5]=1.092548*s*a,e[6]=.315392*(3*a*a-1),e[7]=1.092548*i*a,e[8]=.546274*(i*i-s*s)}}class zP extends nf{constructor(t=new FP,e=1){super(void 0,e),this.isLightProbe=!0,this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){const e=super.toJSON(t);return e.object.sh=this.sh.toArray(),e}}class H_ extends oa{constructor(t){super(t),this.textures={}}load(t,e,i,s){const a=this,o=new mr(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(t,function(c){try{e(a.parse(JSON.parse(c)))}catch(u){s?s(u):console.error(u),a.manager.itemError(t)}},i,s)}parse(t){const e=this.textures;function i(a){return e[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),e[a]}const s=this.createMaterialFromType(t.type);if(t.uuid!==void 0&&(s.uuid=t.uuid),t.name!==void 0&&(s.name=t.name),t.color!==void 0&&s.color!==void 0&&s.color.setHex(t.color),t.roughness!==void 0&&(s.roughness=t.roughness),t.metalness!==void 0&&(s.metalness=t.metalness),t.sheen!==void 0&&(s.sheen=t.sheen),t.sheenColor!==void 0&&(s.sheenColor=new ie().setHex(t.sheenColor)),t.sheenRoughness!==void 0&&(s.sheenRoughness=t.sheenRoughness),t.emissive!==void 0&&s.emissive!==void 0&&s.emissive.setHex(t.emissive),t.specular!==void 0&&s.specular!==void 0&&s.specular.setHex(t.specular),t.specularIntensity!==void 0&&(s.specularIntensity=t.specularIntensity),t.specularColor!==void 0&&s.specularColor!==void 0&&s.specularColor.setHex(t.specularColor),t.shininess!==void 0&&(s.shininess=t.shininess),t.clearcoat!==void 0&&(s.clearcoat=t.clearcoat),t.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=t.clearcoatRoughness),t.dispersion!==void 0&&(s.dispersion=t.dispersion),t.iridescence!==void 0&&(s.iridescence=t.iridescence),t.iridescenceIOR!==void 0&&(s.iridescenceIOR=t.iridescenceIOR),t.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=t.iridescenceThicknessRange),t.transmission!==void 0&&(s.transmission=t.transmission),t.thickness!==void 0&&(s.thickness=t.thickness),t.attenuationDistance!==void 0&&(s.attenuationDistance=t.attenuationDistance),t.attenuationColor!==void 0&&s.attenuationColor!==void 0&&s.attenuationColor.setHex(t.attenuationColor),t.anisotropy!==void 0&&(s.anisotropy=t.anisotropy),t.anisotropyRotation!==void 0&&(s.anisotropyRotation=t.anisotropyRotation),t.fog!==void 0&&(s.fog=t.fog),t.flatShading!==void 0&&(s.flatShading=t.flatShading),t.blending!==void 0&&(s.blending=t.blending),t.combine!==void 0&&(s.combine=t.combine),t.side!==void 0&&(s.side=t.side),t.shadowSide!==void 0&&(s.shadowSide=t.shadowSide),t.opacity!==void 0&&(s.opacity=t.opacity),t.transparent!==void 0&&(s.transparent=t.transparent),t.alphaTest!==void 0&&(s.alphaTest=t.alphaTest),t.alphaHash!==void 0&&(s.alphaHash=t.alphaHash),t.depthFunc!==void 0&&(s.depthFunc=t.depthFunc),t.depthTest!==void 0&&(s.depthTest=t.depthTest),t.depthWrite!==void 0&&(s.depthWrite=t.depthWrite),t.colorWrite!==void 0&&(s.colorWrite=t.colorWrite),t.blendSrc!==void 0&&(s.blendSrc=t.blendSrc),t.blendDst!==void 0&&(s.blendDst=t.blendDst),t.blendEquation!==void 0&&(s.blendEquation=t.blendEquation),t.blendSrcAlpha!==void 0&&(s.blendSrcAlpha=t.blendSrcAlpha),t.blendDstAlpha!==void 0&&(s.blendDstAlpha=t.blendDstAlpha),t.blendEquationAlpha!==void 0&&(s.blendEquationAlpha=t.blendEquationAlpha),t.blendColor!==void 0&&s.blendColor!==void 0&&s.blendColor.setHex(t.blendColor),t.blendAlpha!==void 0&&(s.blendAlpha=t.blendAlpha),t.stencilWriteMask!==void 0&&(s.stencilWriteMask=t.stencilWriteMask),t.stencilFunc!==void 0&&(s.stencilFunc=t.stencilFunc),t.stencilRef!==void 0&&(s.stencilRef=t.stencilRef),t.stencilFuncMask!==void 0&&(s.stencilFuncMask=t.stencilFuncMask),t.stencilFail!==void 0&&(s.stencilFail=t.stencilFail),t.stencilZFail!==void 0&&(s.stencilZFail=t.stencilZFail),t.stencilZPass!==void 0&&(s.stencilZPass=t.stencilZPass),t.stencilWrite!==void 0&&(s.stencilWrite=t.stencilWrite),t.wireframe!==void 0&&(s.wireframe=t.wireframe),t.wireframeLinewidth!==void 0&&(s.wireframeLinewidth=t.wireframeLinewidth),t.wireframeLinecap!==void 0&&(s.wireframeLinecap=t.wireframeLinecap),t.wireframeLinejoin!==void 0&&(s.wireframeLinejoin=t.wireframeLinejoin),t.rotation!==void 0&&(s.rotation=t.rotation),t.linewidth!==void 0&&(s.linewidth=t.linewidth),t.dashSize!==void 0&&(s.dashSize=t.dashSize),t.gapSize!==void 0&&(s.gapSize=t.gapSize),t.scale!==void 0&&(s.scale=t.scale),t.polygonOffset!==void 0&&(s.polygonOffset=t.polygonOffset),t.polygonOffsetFactor!==void 0&&(s.polygonOffsetFactor=t.polygonOffsetFactor),t.polygonOffsetUnits!==void 0&&(s.polygonOffsetUnits=t.polygonOffsetUnits),t.dithering!==void 0&&(s.dithering=t.dithering),t.alphaToCoverage!==void 0&&(s.alphaToCoverage=t.alphaToCoverage),t.premultipliedAlpha!==void 0&&(s.premultipliedAlpha=t.premultipliedAlpha),t.forceSinglePass!==void 0&&(s.forceSinglePass=t.forceSinglePass),t.visible!==void 0&&(s.visible=t.visible),t.toneMapped!==void 0&&(s.toneMapped=t.toneMapped),t.userData!==void 0&&(s.userData=t.userData),t.vertexColors!==void 0&&(typeof t.vertexColors=="number"?s.vertexColors=t.vertexColors>0:s.vertexColors=t.vertexColors),t.uniforms!==void 0)for(const a in t.uniforms){const o=t.uniforms[a];switch(s.uniforms[a]={},o.type){case"t":s.uniforms[a].value=i(o.value);break;case"c":s.uniforms[a].value=new ie().setHex(o.value);break;case"v2":s.uniforms[a].value=new Ft().fromArray(o.value);break;case"v3":s.uniforms[a].value=new q().fromArray(o.value);break;case"v4":s.uniforms[a].value=new mn().fromArray(o.value);break;case"m3":s.uniforms[a].value=new Ye().fromArray(o.value);break;case"m4":s.uniforms[a].value=new Re().fromArray(o.value);break;default:s.uniforms[a].value=o.value}}if(t.defines!==void 0&&(s.defines=t.defines),t.vertexShader!==void 0&&(s.vertexShader=t.vertexShader),t.fragmentShader!==void 0&&(s.fragmentShader=t.fragmentShader),t.glslVersion!==void 0&&(s.glslVersion=t.glslVersion),t.extensions!==void 0)for(const a in t.extensions)s.extensions[a]=t.extensions[a];if(t.lights!==void 0&&(s.lights=t.lights),t.clipping!==void 0&&(s.clipping=t.clipping),t.size!==void 0&&(s.size=t.size),t.sizeAttenuation!==void 0&&(s.sizeAttenuation=t.sizeAttenuation),t.map!==void 0&&(s.map=i(t.map)),t.matcap!==void 0&&(s.matcap=i(t.matcap)),t.alphaMap!==void 0&&(s.alphaMap=i(t.alphaMap)),t.bumpMap!==void 0&&(s.bumpMap=i(t.bumpMap)),t.bumpScale!==void 0&&(s.bumpScale=t.bumpScale),t.normalMap!==void 0&&(s.normalMap=i(t.normalMap)),t.normalMapType!==void 0&&(s.normalMapType=t.normalMapType),t.normalScale!==void 0){let a=t.normalScale;Array.isArray(a)===!1&&(a=[a,a]),s.normalScale=new Ft().fromArray(a)}return t.displacementMap!==void 0&&(s.displacementMap=i(t.displacementMap)),t.displacementScale!==void 0&&(s.displacementScale=t.displacementScale),t.displacementBias!==void 0&&(s.displacementBias=t.displacementBias),t.roughnessMap!==void 0&&(s.roughnessMap=i(t.roughnessMap)),t.metalnessMap!==void 0&&(s.metalnessMap=i(t.metalnessMap)),t.emissiveMap!==void 0&&(s.emissiveMap=i(t.emissiveMap)),t.emissiveIntensity!==void 0&&(s.emissiveIntensity=t.emissiveIntensity),t.specularMap!==void 0&&(s.specularMap=i(t.specularMap)),t.specularIntensityMap!==void 0&&(s.specularIntensityMap=i(t.specularIntensityMap)),t.specularColorMap!==void 0&&(s.specularColorMap=i(t.specularColorMap)),t.envMap!==void 0&&(s.envMap=i(t.envMap)),t.envMapRotation!==void 0&&s.envMapRotation.fromArray(t.envMapRotation),t.envMapIntensity!==void 0&&(s.envMapIntensity=t.envMapIntensity),t.reflectivity!==void 0&&(s.reflectivity=t.reflectivity),t.refractionRatio!==void 0&&(s.refractionRatio=t.refractionRatio),t.lightMap!==void 0&&(s.lightMap=i(t.lightMap)),t.lightMapIntensity!==void 0&&(s.lightMapIntensity=t.lightMapIntensity),t.aoMap!==void 0&&(s.aoMap=i(t.aoMap)),t.aoMapIntensity!==void 0&&(s.aoMapIntensity=t.aoMapIntensity),t.gradientMap!==void 0&&(s.gradientMap=i(t.gradientMap)),t.clearcoatMap!==void 0&&(s.clearcoatMap=i(t.clearcoatMap)),t.clearcoatRoughnessMap!==void 0&&(s.clearcoatRoughnessMap=i(t.clearcoatRoughnessMap)),t.clearcoatNormalMap!==void 0&&(s.clearcoatNormalMap=i(t.clearcoatNormalMap)),t.clearcoatNormalScale!==void 0&&(s.clearcoatNormalScale=new Ft().fromArray(t.clearcoatNormalScale)),t.iridescenceMap!==void 0&&(s.iridescenceMap=i(t.iridescenceMap)),t.iridescenceThicknessMap!==void 0&&(s.iridescenceThicknessMap=i(t.iridescenceThicknessMap)),t.transmissionMap!==void 0&&(s.transmissionMap=i(t.transmissionMap)),t.thicknessMap!==void 0&&(s.thicknessMap=i(t.thicknessMap)),t.anisotropyMap!==void 0&&(s.anisotropyMap=i(t.anisotropyMap)),t.sheenColorMap!==void 0&&(s.sheenColorMap=i(t.sheenColorMap)),t.sheenRoughnessMap!==void 0&&(s.sheenRoughnessMap=i(t.sheenRoughnessMap)),s}setTextures(t){return this.textures=t,this}createMaterialFromType(t){return H_.createMaterialFromType(t)}static createMaterialFromType(t){const e={ShadowMaterial:_P,SpriteMaterial:QT,RawShaderMaterial:SP,ShaderMaterial:Oo,PointsMaterial:M_,MeshPhysicalMaterial:Vr,MeshStandardMaterial:Bv,MeshPhongMaterial:bP,MeshToonMaterial:MP,MeshNormalMaterial:EP,MeshLambertMaterial:TP,MeshDepthMaterial:uC,MeshDistanceMaterial:fC,MeshBasicMaterial:dr,MeshMatcapMaterial:CP,LineDashedMaterial:wP,LineBasicMaterial:ra,Material:ss};return new e[t]}}class ju{static decodeText(t){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(t);let e="";for(let i=0,s=t.length;i<s;i++)e+=String.fromCharCode(t[i]);try{return decodeURIComponent(escape(e))}catch{return e}}static extractUrlBase(t){const e=t.lastIndexOf("/");return e===-1?"./":t.slice(0,e+1)}static resolveURL(t,e){return typeof t!="string"||t===""?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}class HP extends We{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}toJSON(){const t=super.toJSON();return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}class GP extends oa{constructor(t){super(t)}load(t,e,i,s){const a=this,o=new mr(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(t,function(c){try{e(a.parse(JSON.parse(c)))}catch(u){s?s(u):console.error(u),a.manager.itemError(t)}},i,s)}parse(t){const e={},i={};function s(A,b){if(e[b]!==void 0)return e[b];const E=A.interleavedBuffers[b],S=a(A,E.buffer),R=Rp(E.type,S),B=new Mv(R,E.stride);return B.uuid=E.uuid,e[b]=B,B}function a(A,b){if(i[b]!==void 0)return i[b];const E=A.arrayBuffers[b],S=new Uint32Array(E).buffer;return i[b]=S,S}const o=t.isInstancedBufferGeometry?new HP:new We,c=t.data.index;if(c!==void 0){const A=Rp(c.type,c.array);o.setIndex(new wn(A,1))}const u=t.data.attributes;for(const A in u){const b=u[A];let T;if(b.isInterleavedBufferAttribute){const E=s(t.data,b.data);T=new Ju(E,b.itemSize,b.offset,b.normalized)}else{const E=Rp(b.type,b.array),S=b.isInstancedBufferAttribute?Vh:wn;T=new S(E,b.itemSize,b.normalized)}b.name!==void 0&&(T.name=b.name),b.usage!==void 0&&T.setUsage(b.usage),o.setAttribute(A,T)}const d=t.data.morphAttributes;if(d)for(const A in d){const b=d[A],T=[];for(let E=0,S=b.length;E<S;E++){const R=b[E];let B;if(R.isInterleavedBufferAttribute){const D=s(t.data,R.data);B=new Ju(D,R.itemSize,R.offset,R.normalized)}else{const D=Rp(R.type,R.array);B=new wn(D,R.itemSize,R.normalized)}R.name!==void 0&&(B.name=R.name),T.push(B)}o.morphAttributes[A]=T}t.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const g=t.data.groups||t.data.drawcalls||t.data.offsets;if(g!==void 0)for(let A=0,b=g.length;A!==b;++A){const T=g[A];o.addGroup(T.start,T.count,T.materialIndex)}const y=t.data.boundingSphere;if(y!==void 0){const A=new q;y.center!==void 0&&A.fromArray(y.center),o.boundingSphere=new Fs(A,y.radius)}return t.name&&(o.name=t.name),t.userData&&(o.userData=t.userData),o}}class LV extends oa{constructor(t){super(t)}load(t,e,i,s){const a=this,o=this.path===""?ju.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||o;const c=new mr(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(t,function(u){let d=null;try{d=JSON.parse(u)}catch(g){s!==void 0&&s(g),console.error("THREE:ObjectLoader: Can't parse "+t+".",g.message);return}const m=d.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){s!==void 0&&s(new Error("THREE.ObjectLoader: Can't load "+t)),console.error("THREE.ObjectLoader: Can't load "+t);return}a.parse(d,e)},i,s)}async loadAsync(t,e){const i=this,s=this.path===""?ju.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||s;const a=new mr(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const o=await a.loadAsync(t,e),c=JSON.parse(o),u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+t);return await i.parseAsync(c)}parse(t,e){const i=this.parseAnimations(t.animations),s=this.parseShapes(t.shapes),a=this.parseGeometries(t.geometries,s),o=this.parseImages(t.images,function(){e!==void 0&&e(d)}),c=this.parseTextures(t.textures,o),u=this.parseMaterials(t.materials,c),d=this.parseObject(t.object,a,u,c,i),m=this.parseSkeletons(t.skeletons,d);if(this.bindSkeletons(d,m),this.bindLightTargets(d),e!==void 0){let g=!1;for(const y in o)if(o[y].data instanceof HTMLImageElement){g=!0;break}g===!1&&e(d)}return d}async parseAsync(t){const e=this.parseAnimations(t.animations),i=this.parseShapes(t.shapes),s=this.parseGeometries(t.geometries,i),a=await this.parseImagesAsync(t.images),o=this.parseTextures(t.textures,a),c=this.parseMaterials(t.materials,o),u=this.parseObject(t.object,s,c,o,e),d=this.parseSkeletons(t.skeletons,u);return this.bindSkeletons(u,d),this.bindLightTargets(u),u}parseShapes(t){const e={};if(t!==void 0)for(let i=0,s=t.length;i<s;i++){const a=new Uh().fromJSON(t[i]);e[a.uuid]=a}return e}parseSkeletons(t,e){const i={},s={};if(e.traverse(function(a){a.isBone&&(s[a.uuid]=a)}),t!==void 0)for(let a=0,o=t.length;a<o;a++){const c=new Ev().fromJSON(t[a],s);i[c.uuid]=c}return i}parseGeometries(t,e){const i={};if(t!==void 0){const s=new GP;for(let a=0,o=t.length;a<o;a++){let c;const u=t[a];switch(u.type){case"BufferGeometry":case"InstancedBufferGeometry":c=s.parse(u);break;default:u.type in bB?c=bB[u.type].fromJSON(u,e):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${u.type}"`)}c.uuid=u.uuid,u.name!==void 0&&(c.name=u.name),u.userData!==void 0&&(c.userData=u.userData),i[u.uuid]=c}}return i}parseMaterials(t,e){const i={},s={};if(t!==void 0){const a=new H_;a.setTextures(e);for(let o=0,c=t.length;o<c;o++){const u=t[o];i[u.uuid]===void 0&&(i[u.uuid]=a.parse(u)),s[u.uuid]=i[u.uuid]}}return s}parseAnimations(t){const e={};if(t!==void 0)for(let i=0;i<t.length;i++){const s=t[i],a=tm.parse(s);e[a.uuid]=a}return e}parseImages(t,e){const i=this,s={};let a;function o(u){return i.manager.itemStart(u),a.load(u,function(){i.manager.itemEnd(u)},void 0,function(){i.manager.itemError(u),i.manager.itemEnd(u)})}function c(u){if(typeof u=="string"){const d=u,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:i.resourcePath+d;return o(m)}else return u.data?{data:Rp(u.type,u.data),width:u.width,height:u.height}:null}if(t!==void 0&&t.length>0){const u=new mC(e);a=new iv(u),a.setCrossOrigin(this.crossOrigin);for(let d=0,m=t.length;d<m;d++){const g=t[d],y=g.url;if(Array.isArray(y)){const A=[];for(let b=0,T=y.length;b<T;b++){const E=y[b],S=c(E);S!==null&&(S instanceof HTMLImageElement?A.push(S):A.push(new Rl(S.data,S.width,S.height)))}s[g.uuid]=new Mh(A)}else{const A=c(g.url);s[g.uuid]=new Mh(A)}}}return s}async parseImagesAsync(t){const e=this,i={};let s;async function a(o){if(typeof o=="string"){const c=o,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:e.resourcePath+c;return await s.loadAsync(u)}else return o.data?{data:Rp(o.type,o.data),width:o.width,height:o.height}:null}if(t!==void 0&&t.length>0){s=new iv(this.manager),s.setCrossOrigin(this.crossOrigin);for(let o=0,c=t.length;o<c;o++){const u=t[o],d=u.url;if(Array.isArray(d)){const m=[];for(let g=0,y=d.length;g<y;g++){const A=d[g],b=await a(A);b!==null&&(b instanceof HTMLImageElement?m.push(b):m.push(new Rl(b.data,b.width,b.height)))}i[u.uuid]=new Mh(m)}else{const m=await a(u.url);i[u.uuid]=new Mh(m)}}}return i}parseTextures(t,e){function i(a,o){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),o[a])}const s={};if(t!==void 0)for(let a=0,o=t.length;a<o;a++){const c=t[a];c.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',c.uuid),e[c.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",c.image);const u=e[c.image],d=u.data;let m;Array.isArray(d)?(m=new bv,d.length===6&&(m.needsUpdate=!0)):(d&&d.data?m=new Rl:m=new ui,d&&(m.needsUpdate=!0)),m.source=u,m.uuid=c.uuid,c.name!==void 0&&(m.name=c.name),c.mapping!==void 0&&(m.mapping=i(c.mapping,NV)),c.channel!==void 0&&(m.channel=c.channel),c.offset!==void 0&&m.offset.fromArray(c.offset),c.repeat!==void 0&&m.repeat.fromArray(c.repeat),c.center!==void 0&&m.center.fromArray(c.center),c.rotation!==void 0&&(m.rotation=c.rotation),c.wrap!==void 0&&(m.wrapS=i(c.wrap[0],CB),m.wrapT=i(c.wrap[1],CB)),c.format!==void 0&&(m.format=c.format),c.internalFormat!==void 0&&(m.internalFormat=c.internalFormat),c.type!==void 0&&(m.type=c.type),c.colorSpace!==void 0&&(m.colorSpace=c.colorSpace),c.minFilter!==void 0&&(m.minFilter=i(c.minFilter,wB)),c.magFilter!==void 0&&(m.magFilter=i(c.magFilter,wB)),c.anisotropy!==void 0&&(m.anisotropy=c.anisotropy),c.flipY!==void 0&&(m.flipY=c.flipY),c.generateMipmaps!==void 0&&(m.generateMipmaps=c.generateMipmaps),c.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=c.premultiplyAlpha),c.unpackAlignment!==void 0&&(m.unpackAlignment=c.unpackAlignment),c.compareFunction!==void 0&&(m.compareFunction=c.compareFunction),c.userData!==void 0&&(m.userData=c.userData),s[c.uuid]=m}return s}parseObject(t,e,i,s,a){let o;function c(y){return e[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",y),e[y]}function u(y){if(y!==void 0){if(Array.isArray(y)){const A=[];for(let b=0,T=y.length;b<T;b++){const E=y[b];i[E]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",E),A.push(i[E])}return A}return i[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),i[y]}}function d(y){return s[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",y),s[y]}let m,g;switch(t.type){case"Scene":o=new ZT,t.background!==void 0&&(Number.isInteger(t.background)?o.background=new ie(t.background):o.background=d(t.background)),t.environment!==void 0&&(o.environment=d(t.environment)),t.fog!==void 0&&(t.fog.type==="Fog"?o.fog=new S_(t.fog.color,t.fog.near,t.fog.far):t.fog.type==="FogExp2"&&(o.fog=new __(t.fog.color,t.fog.density)),t.fog.name!==""&&(o.fog.name=t.fog.name)),t.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=t.backgroundBlurriness),t.backgroundIntensity!==void 0&&(o.backgroundIntensity=t.backgroundIntensity),t.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(t.backgroundRotation),t.environmentIntensity!==void 0&&(o.environmentIntensity=t.environmentIntensity),t.environmentRotation!==void 0&&o.environmentRotation.fromArray(t.environmentRotation);break;case"PerspectiveCamera":o=new Vi(t.fov,t.aspect,t.near,t.far),t.focus!==void 0&&(o.focus=t.focus),t.zoom!==void 0&&(o.zoom=t.zoom),t.filmGauge!==void 0&&(o.filmGauge=t.filmGauge),t.filmOffset!==void 0&&(o.filmOffset=t.filmOffset),t.view!==void 0&&(o.view=Object.assign({},t.view));break;case"OrthographicCamera":o=new sf(t.left,t.right,t.top,t.bottom,t.near,t.far),t.zoom!==void 0&&(o.zoom=t.zoom),t.view!==void 0&&(o.view=Object.assign({},t.view));break;case"AmbientLight":o=new PP(t.color,t.intensity);break;case"DirectionalLight":o=new xC(t.color,t.intensity),o.target=t.target||"";break;case"PointLight":o=new yC(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":o=new IP(t.color,t.intensity,t.width,t.height);break;case"SpotLight":o=new vC(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay),o.target=t.target||"";break;case"HemisphereLight":o=new OP(t.color,t.groundColor,t.intensity);break;case"LightProbe":o=new zP().fromJSON(t);break;case"SkinnedMesh":m=c(t.geometry),g=u(t.material),o=new $T(m,g),t.bindMode!==void 0&&(o.bindMode=t.bindMode),t.bindMatrix!==void 0&&o.bindMatrix.fromArray(t.bindMatrix),t.skeleton!==void 0&&(o.skeleton=t.skeleton);break;case"Mesh":m=c(t.geometry),g=u(t.material),o=new ji(m,g);break;case"InstancedMesh":m=c(t.geometry),g=u(t.material);const y=t.count,A=t.instanceMatrix,b=t.instanceColor;o=new tC(m,g,y),o.instanceMatrix=new Vh(new Float32Array(A.array),16),b!==void 0&&(o.instanceColor=new Vh(new Float32Array(b.array),b.itemSize));break;case"BatchedMesh":m=c(t.geometry),g=u(t.material),o=new cP(t.maxInstanceCount,t.maxVertexCount,t.maxIndexCount,g),o.geometry=m,o.perObjectFrustumCulled=t.perObjectFrustumCulled,o.sortObjects=t.sortObjects,o._drawRanges=t.drawRanges,o._reservedRanges=t.reservedRanges,o._visibility=t.visibility,o._active=t.active,o._bounds=t.bounds.map(T=>{const E=new aa;E.min.fromArray(T.boxMin),E.max.fromArray(T.boxMax);const S=new Fs;return S.radius=T.sphereRadius,S.center.fromArray(T.sphereCenter),{boxInitialized:T.boxInitialized,box:E,sphereInitialized:T.sphereInitialized,sphere:S}}),o._maxInstanceCount=t.maxInstanceCount,o._maxVertexCount=t.maxVertexCount,o._maxIndexCount=t.maxIndexCount,o._geometryInitialized=t.geometryInitialized,o._geometryCount=t.geometryCount,o._matricesTexture=d(t.matricesTexture.uuid),t.colorsTexture!==void 0&&(o._colorsTexture=d(t.colorsTexture.uuid));break;case"LOD":o=new lP;break;case"Line":o=new Fc(c(t.geometry),u(t.material));break;case"LineLoop":o=new eC(c(t.geometry),u(t.material));break;case"LineSegments":o=new Io(c(t.geometry),u(t.material));break;case"PointCloud":case"Points":o=new nC(c(t.geometry),u(t.material));break;case"Sprite":o=new oP(u(t.material));break;case"Group":o=new Cc;break;case"Bone":o=new b_;break;default:o=new gn}if(o.uuid=t.uuid,t.name!==void 0&&(o.name=t.name),t.matrix!==void 0?(o.matrix.fromArray(t.matrix),t.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=t.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(t.position!==void 0&&o.position.fromArray(t.position),t.rotation!==void 0&&o.rotation.fromArray(t.rotation),t.quaternion!==void 0&&o.quaternion.fromArray(t.quaternion),t.scale!==void 0&&o.scale.fromArray(t.scale)),t.up!==void 0&&o.up.fromArray(t.up),t.castShadow!==void 0&&(o.castShadow=t.castShadow),t.receiveShadow!==void 0&&(o.receiveShadow=t.receiveShadow),t.shadow&&(t.shadow.intensity!==void 0&&(o.shadow.intensity=t.shadow.intensity),t.shadow.bias!==void 0&&(o.shadow.bias=t.shadow.bias),t.shadow.normalBias!==void 0&&(o.shadow.normalBias=t.shadow.normalBias),t.shadow.radius!==void 0&&(o.shadow.radius=t.shadow.radius),t.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(t.shadow.mapSize),t.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(t.shadow.camera))),t.visible!==void 0&&(o.visible=t.visible),t.frustumCulled!==void 0&&(o.frustumCulled=t.frustumCulled),t.renderOrder!==void 0&&(o.renderOrder=t.renderOrder),t.userData!==void 0&&(o.userData=t.userData),t.layers!==void 0&&(o.layers.mask=t.layers),t.children!==void 0){const y=t.children;for(let A=0;A<y.length;A++)o.add(this.parseObject(y[A],e,i,s,a))}if(t.animations!==void 0){const y=t.animations;for(let A=0;A<y.length;A++){const b=y[A];o.animations.push(a[b])}}if(t.type==="LOD"){t.autoUpdate!==void 0&&(o.autoUpdate=t.autoUpdate);const y=t.levels;for(let A=0;A<y.length;A++){const b=y[A],T=o.getObjectByProperty("uuid",b.object);T!==void 0&&o.addLevel(T,b.distance,b.hysteresis)}}return o}bindSkeletons(t,e){Object.keys(e).length!==0&&t.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const s=e[i.skeleton];s===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(s,i.bindMatrix)}})}bindLightTargets(t){t.traverse(function(e){if(e.isDirectionalLight||e.isSpotLight){const i=e.target,s=t.getObjectByProperty("uuid",i);s!==void 0?e.target=s:e.target=new gn}})}}const NV={UVMapping:c_,CubeReflectionMapping:Pc,CubeRefractionMapping:Wu,EquirectangularReflectionMapping:Y0,EquirectangularRefractionMapping:W0,CubeUVReflectionMapping:hm},CB={RepeatWrapping:qu,ClampToEdgeWrapping:hr,MirroredRepeatWrapping:Wp},wB={NearestFilter:Ts,NearestMipmapNearestFilter:u_,NearestMipmapLinearFilter:_h,LinearFilter:ki,LinearMipmapNearestFilter:Hp,LinearMipmapLinearFilter:Hr};class VP extends oa{constructor(t){super(t),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,e,i,s){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const a=this,o=wc.get(t);if(o!==void 0){if(a.manager.itemStart(t),o.then){o.then(d=>{e&&e(d),a.manager.itemEnd(t)}).catch(d=>{s&&s(d)});return}return setTimeout(function(){e&&e(o),a.manager.itemEnd(t)},0),o}const c={};c.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",c.headers=this.requestHeader;const u=fetch(t,c).then(function(d){return d.blob()}).then(function(d){return createImageBitmap(d,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(d){return wc.add(t,d),e&&e(d),a.manager.itemEnd(t),d}).catch(function(d){s&&s(d),wc.remove(t),a.manager.itemError(t),a.manager.itemEnd(t)});wc.add(t,u),a.manager.itemStart(t)}}let nx;class AC{static getContext(){return nx===void 0&&(nx=new(window.AudioContext||window.webkitAudioContext)),nx}static setContext(t){nx=t}}class UV extends oa{constructor(t){super(t)}load(t,e,i,s){const a=this,o=new mr(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,function(u){try{const d=u.slice(0);AC.getContext().decodeAudioData(d,function(g){e(g)}).catch(c)}catch(d){c(d)}},i,s);function c(u){s?s(u):console.error(u),a.manager.itemError(t)}}}const RB=new Re,BB=new Re,nh=new Re;class OV{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Vi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Vi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep,nh.copy(t.projectionMatrix);const s=e.eyeSep/2,a=s*e.near/e.focus,o=e.near*Math.tan(Nh*e.fov*.5)/e.zoom;let c,u;BB.elements[12]=-s,RB.elements[12]=s,c=-o*e.aspect+a,u=o*e.aspect+a,nh.elements[0]=2*e.near/(u-c),nh.elements[8]=(u+c)/(u-c),this.cameraL.projectionMatrix.copy(nh),c=-o*e.aspect-a,u=o*e.aspect-a,nh.elements[0]=2*e.near/(u-c),nh.elements[8]=(u+c)/(u-c),this.cameraR.projectionMatrix.copy(nh)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(BB),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(RB)}}class kP extends Vi{constructor(t=[]){super(),this.isArrayCamera=!0,this.cameras=t,this.index=0}}class _C{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=DB(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=DB();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}function DB(){return performance.now()}const ih=new q,LB=new Xi,PV=new q,sh=new q;class IV extends gn{constructor(){super(),this.type="AudioListener",this.context=AC.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new _C}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t);const e=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ih,LB,PV),sh.set(0,0,-1).applyQuaternion(LB),e.positionX){const s=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(ih.x,s),e.positionY.linearRampToValueAtTime(ih.y,s),e.positionZ.linearRampToValueAtTime(ih.z,s),e.forwardX.linearRampToValueAtTime(sh.x,s),e.forwardY.linearRampToValueAtTime(sh.y,s),e.forwardZ.linearRampToValueAtTime(sh.z,s),e.upX.linearRampToValueAtTime(i.x,s),e.upY.linearRampToValueAtTime(i.y,s),e.upZ.linearRampToValueAtTime(i.z,s)}else e.setPosition(ih.x,ih.y,ih.z),e.setOrientation(sh.x,sh.y,sh.z,i.x,i.y,i.z)}}class jP extends gn{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(t=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+t),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(t){return t||(t=[]),this._connected===!0?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){return this.detune=t,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=t,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=t,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}copy(t,e){return super.copy(t,e),t.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=t.autoplay,this.buffer=t.buffer,this.detune=t.detune,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.offset=t.offset,this.duration=t.duration,this.playbackRate=t.playbackRate,this.hasPlaybackControl=t.hasPlaybackControl,this.sourceType=t.sourceType,this.filters=t.filters.slice(),this)}clone(t){return new this.constructor(this.listener).copy(this,t)}}const ah=new q,NB=new Xi,FV=new q,rh=new q;class zV extends jP{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,e,i){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=i,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(ah,NB,FV),rh.set(0,0,1).applyQuaternion(NB);const e=this.panner;if(e.positionX){const i=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(ah.x,i),e.positionY.linearRampToValueAtTime(ah.y,i),e.positionZ.linearRampToValueAtTime(ah.z,i),e.orientationX.linearRampToValueAtTime(rh.x,i),e.orientationY.linearRampToValueAtTime(rh.y,i),e.orientationZ.linearRampToValueAtTime(rh.z,i)}else e.setPosition(ah.x,ah.y,ah.z),e.setOrientation(rh.x,rh.y,rh.z)}}class HV{constructor(t,e=2048){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=e,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;const e=this.getFrequencyData();for(let i=0;i<e.length;i++)t+=e[i];return t/e.length}}class XP{constructor(t,e,i){this.binding=t,this.valueSize=i;let s,a,o;switch(e){case"quaternion":s=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":s=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:s=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const i=this.buffer,s=this.valueSize,a=t*s+s;let o=this.cumulativeWeight;if(o===0){for(let c=0;c!==s;++c)i[a+c]=i[c];o=e}else{o+=e;const c=e/o;this._mixBufferRegion(i,a,0,c,s)}this.cumulativeWeight=o}accumulateAdditive(t){const e=this.buffer,i=this.valueSize,s=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(e,s,0,t,i),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,i=this.buffer,s=t*e+e,a=this.cumulativeWeight,o=this.cumulativeWeightAdditive,c=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const u=e*this._origIndex;this._mixBufferRegion(i,s,u,1-a,e)}o>0&&this._mixBufferRegionAdditive(i,s,this._addIndex*e,1,e);for(let u=e,d=e+e;u!==d;++u)if(i[u]!==i[u+e]){c.setValue(i,s);break}}saveOriginalState(){const t=this.binding,e=this.buffer,i=this.valueSize,s=i*this._origIndex;t.getValue(e,s);for(let a=i,o=s;a!==o;++a)e[a]=e[s+a%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const t=this.valueSize*3;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let i=t;i<e;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[e+i]=this.buffer[t+i]}_select(t,e,i,s,a){if(s>=.5)for(let o=0;o!==a;++o)t[e+o]=t[i+o]}_slerp(t,e,i,s){Xi.slerpFlat(t,e,t,e,t,i,s)}_slerpAdditive(t,e,i,s,a){const o=this._workIndex*a;Xi.multiplyQuaternionsFlat(t,o,t,e,t,i),Xi.slerpFlat(t,e,t,e,t,o,s)}_lerp(t,e,i,s,a){const o=1-s;for(let c=0;c!==a;++c){const u=e+c;t[u]=t[u]*o+t[i+c]*s}}_lerpAdditive(t,e,i,s,a){for(let o=0;o!==a;++o){const c=e+o;t[c]=t[c]+t[i+o]*s}}}const SC="\\[\\]\\.:\\/",GV=new RegExp("["+SC+"]","g"),bC="[^"+SC+"]",VV="[^"+SC.replace("\\.","")+"]",kV=/((?:WC+[\/:])*)/.source.replace("WC",bC),jV=/(WCOD+)?/.source.replace("WCOD",VV),XV=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",bC),YV=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",bC),WV=new RegExp("^"+kV+jV+XV+YV+"$"),qV=["material","materials","bones","map"];class KV{constructor(t,e,i){const s=i||Tn.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,s)}getValue(t,e){this.bind();const i=this._targetGroup.nCachedObjects_,s=this._bindings[i];s!==void 0&&s.getValue(t,e)}setValue(t,e){const i=this._bindings;for(let s=this._targetGroup.nCachedObjects_,a=i.length;s!==a;++s)i[s].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}class Tn{constructor(t,e,i){this.path=e,this.parsedPath=i||Tn.parseTrackName(e),this.node=Tn.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,e,i){return t&&t.isAnimationObjectGroup?new Tn.Composite(t,e,i):new Tn(t,e,i)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(GV,"")}static parseTrackName(t){const e=WV.exec(t);if(e===null)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const i={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},s=i.nodeName&&i.nodeName.lastIndexOf(".");if(s!==void 0&&s!==-1){const a=i.nodeName.substring(s+1);qV.indexOf(a)!==-1&&(i.nodeName=i.nodeName.substring(0,s),i.objectName=a)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}static findNode(t,e){if(e===void 0||e===""||e==="."||e===-1||e===t.name||e===t.uuid)return t;if(t.skeleton){const i=t.skeleton.getBoneByName(e);if(i!==void 0)return i}if(t.children){const i=function(a){for(let o=0;o<a.length;o++){const c=a[o];if(c.name===e||c.uuid===e)return c;const u=i(c.children);if(u)return u}return null},s=i(t.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.targetObject[this.propertyName]}_getValue_array(t,e){const i=this.resolvedProperty;for(let s=0,a=i.length;s!==a;++s)t[e++]=i[s]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const i=this.resolvedProperty;for(let s=0,a=i.length;s!==a;++s)i[s]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const i=this.resolvedProperty;for(let s=0,a=i.length;s!==a;++s)i[s]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const i=this.resolvedProperty;for(let s=0,a=i.length;s!==a;++s)i[s]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,i=e.objectName,s=e.propertyName;let a=e.propertyIndex;if(t||(t=Tn.findNode(this.rootNode,e.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let d=e.objectIndex;switch(i){case"materials":if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}t=t.material.materials;break;case"bones":if(!t.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}t=t.skeleton.bones;for(let m=0;m<t.length;m++)if(t[m].name===d){d=m;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}t=t.material.map;break;default:if(t[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}t=t[i]}if(d!==void 0){if(t[d]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);return}t=t[d]}}const o=t[s];if(o===void 0){const d=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+s+" but it wasn't found.",t);return}let c=this.Versioning.None;this.targetObject=t,t.isMaterial===!0?c=this.Versioning.NeedsUpdate:t.isObject3D===!0&&(c=this.Versioning.MatrixWorldNeedsUpdate);let u=this.BindingType.Direct;if(a!==void 0){if(s==="morphTargetInfluences"){if(!t.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!t.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}t.morphTargetDictionary[a]!==void 0&&(a=t.morphTargetDictionary[a])}u=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else o.fromArray!==void 0&&o.toArray!==void 0?(u=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(u=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=s;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][c]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Tn.Composite=KV;Tn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Tn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Tn.prototype.GetterByBindingType=[Tn.prototype._getValue_direct,Tn.prototype._getValue_array,Tn.prototype._getValue_arrayElement,Tn.prototype._getValue_toArray];Tn.prototype.SetterByBindingTypeAndVersioning=[[Tn.prototype._setValue_direct,Tn.prototype._setValue_direct_setNeedsUpdate,Tn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Tn.prototype._setValue_array,Tn.prototype._setValue_array_setNeedsUpdate,Tn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Tn.prototype._setValue_arrayElement,Tn.prototype._setValue_arrayElement_setNeedsUpdate,Tn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Tn.prototype._setValue_fromArray,Tn.prototype._setValue_fromArray_setNeedsUpdate,Tn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class JV{constructor(){this.isAnimationObjectGroup=!0,this.uuid=pr(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let i=0,s=arguments.length;i!==s;++i)t[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}add(){const t=this._objects,e=this._indicesByUUID,i=this._paths,s=this._parsedPaths,a=this._bindings,o=a.length;let c,u=t.length,d=this.nCachedObjects_;for(let m=0,g=arguments.length;m!==g;++m){const y=arguments[m],A=y.uuid;let b=e[A];if(b===void 0){b=u++,e[A]=b,t.push(y);for(let T=0,E=o;T!==E;++T)a[T].push(new Tn(y,i[T],s[T]))}else if(b<d){c=t[b];const T=--d,E=t[T];e[E.uuid]=b,t[b]=E,e[A]=T,t[T]=y;for(let S=0,R=o;S!==R;++S){const B=a[S],D=B[T];let U=B[b];B[b]=D,U===void 0&&(U=new Tn(y,i[S],s[S])),B[T]=U}}else t[b]!==c&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=d}remove(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,s=i.length;let a=this.nCachedObjects_;for(let o=0,c=arguments.length;o!==c;++o){const u=arguments[o],d=u.uuid,m=e[d];if(m!==void 0&&m>=a){const g=a++,y=t[g];e[y.uuid]=m,t[m]=y,e[d]=g,t[g]=u;for(let A=0,b=s;A!==b;++A){const T=i[A],E=T[g],S=T[m];T[m]=E,T[g]=S}}}this.nCachedObjects_=a}uncache(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,s=i.length;let a=this.nCachedObjects_,o=t.length;for(let c=0,u=arguments.length;c!==u;++c){const d=arguments[c],m=d.uuid,g=e[m];if(g!==void 0)if(delete e[m],g<a){const y=--a,A=t[y],b=--o,T=t[b];e[A.uuid]=g,t[g]=A,e[T.uuid]=y,t[y]=T,t.pop();for(let E=0,S=s;E!==S;++E){const R=i[E],B=R[y],D=R[b];R[g]=B,R[y]=D,R.pop()}}else{const y=--o,A=t[y];y>0&&(e[A.uuid]=g),t[g]=A,t.pop();for(let b=0,T=s;b!==T;++b){const E=i[b];E[g]=E[y],E.pop()}}}this.nCachedObjects_=a}subscribe_(t,e){const i=this._bindingsIndicesByPath;let s=i[t];const a=this._bindings;if(s!==void 0)return a[s];const o=this._paths,c=this._parsedPaths,u=this._objects,d=u.length,m=this.nCachedObjects_,g=new Array(d);s=a.length,i[t]=s,o.push(t),c.push(e),a.push(g);for(let y=m,A=u.length;y!==A;++y){const b=u[y];g[y]=new Tn(b,t,e)}return g}unsubscribe_(t){const e=this._bindingsIndicesByPath,i=e[t];if(i!==void 0){const s=this._paths,a=this._parsedPaths,o=this._bindings,c=o.length-1,u=o[c],d=t[c];e[d]=i,o[i]=u,o.pop(),a[i]=a[c],a.pop(),s[i]=s[c],s.pop()}}}class YP{constructor(t,e,i=null,s=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=i,this.blendMode=s;const a=e.tracks,o=a.length,c=new Array(o),u={endingStart:Sh,endingEnd:Sh};for(let d=0;d!==o;++d){const m=a[d].createInterpolant(null);c[d]=m,m.settings=u}this._interpolantSettings=u,this._interpolants=c,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=zO,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,i){if(t.fadeOut(e),this.fadeIn(e),i){const s=this._clip.duration,a=t._clip.duration,o=a/s,c=s/a;t.warp(1,o,e),this.warp(c,1,e)}return this}crossFadeTo(t,e,i){return t.crossFadeFrom(this,e,i)}stopFading(){const t=this._weightInterpolant;return t!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,i){const s=this._mixer,a=s.time,o=this.timeScale;let c=this._timeScaleInterpolant;c===null&&(c=s._lendControlInterpolant(),this._timeScaleInterpolant=c);const u=c.parameterPositions,d=c.sampleValues;return u[0]=a,u[1]=a+i,d[0]=t/o,d[1]=e/o,this}stopWarping(){const t=this._timeScaleInterpolant;return t!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,i,s){if(!this.enabled){this._updateWeight(t);return}const a=this._startTime;if(a!==null){const u=(t-a)*i;u<0||i===0?e=0:(this._startTime=null,e=i*u)}e*=this._updateTimeScale(t);const o=this._updateTime(e),c=this._updateWeight(t);if(c>0){const u=this._interpolants,d=this._propertyBindings;switch(this.blendMode){case jT:for(let m=0,g=u.length;m!==g;++m)u[m].evaluate(o),d[m].accumulateAdditive(c);break;case v_:default:for(let m=0,g=u.length;m!==g;++m)u[m].evaluate(o),d[m].accumulate(s,c)}}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const i=this._weightInterpolant;if(i!==null){const s=i.evaluate(t)[0];e*=s,t>i.parameterPositions[1]&&(this.stopFading(),s===0&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const s=i.evaluate(t)[0];e*=s,t>i.parameterPositions[1]&&(this.stopWarping(),e===0?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,i=this.loop;let s=this.time+t,a=this._loopCount;const o=i===HO;if(t===0)return a===-1?s:o&&(a&1)===1?e-s:s;if(i===FO){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(s>=e)s=e;else if(s<0)s=0;else{this.time=s;break t}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(a===-1&&(t>=0?(a=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),s>=e||s<0){const c=Math.floor(s/e);s-=e*c,a+=Math.abs(c);const u=this.repetitions-a;if(u<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=t>0?e:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(u===1){const d=t<0;this._setEndings(d,!d,o)}else this._setEndings(!1,!1,o);this._loopCount=a,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:c})}}else this.time=s;if(o&&(a&1)===1)return e-s}return s}_setEndings(t,e,i){const s=this._interpolantSettings;i?(s.endingStart=bh,s.endingEnd=bh):(t?s.endingStart=this.zeroSlopeAtStart?bh:Sh:s.endingStart=q0,e?s.endingEnd=this.zeroSlopeAtEnd?bh:Sh:s.endingEnd=q0)}_scheduleFading(t,e,i){const s=this._mixer,a=s.time;let o=this._weightInterpolant;o===null&&(o=s._lendControlInterpolant(),this._weightInterpolant=o);const c=o.parameterPositions,u=o.sampleValues;return c[0]=a,u[0]=e,c[1]=a+t,u[1]=i,this}}const ZV=new Float32Array(1);class WP extends Fl{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,e){const i=t._localRoot||this._root,s=t._clip.tracks,a=s.length,o=t._propertyBindings,c=t._interpolants,u=i.uuid,d=this._bindingsByRootAndName;let m=d[u];m===void 0&&(m={},d[u]=m);for(let g=0;g!==a;++g){const y=s[g],A=y.name;let b=m[A];if(b!==void 0)++b.referenceCount,o[g]=b;else{if(b=o[g],b!==void 0){b._cacheIndex===null&&(++b.referenceCount,this._addInactiveBinding(b,u,A));continue}const T=e&&e._propertyBindings[g].binding.parsedPath;b=new XP(Tn.create(i,A,T),y.ValueTypeName,y.getValueSize()),++b.referenceCount,this._addInactiveBinding(b,u,A),o[g]=b}c[g].resultBuffer=b.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(t._cacheIndex===null){const i=(t._localRoot||this._root).uuid,s=t._clip.uuid,a=this._actionsByClip[s];this._bindAction(t,a&&a.knownActions[0]),this._addInactiveAction(t,s,i)}const e=t._propertyBindings;for(let i=0,s=e.length;i!==s;++i){const a=e[i];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let i=0,s=e.length;i!==s;++i){const a=e[i];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const e=t._cacheIndex;return e!==null&&e<this._nActiveActions}_addInactiveAction(t,e,i){const s=this._actions,a=this._actionsByClip;let o=a[e];if(o===void 0)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,a[e]=o;else{const c=o.knownActions;t._byClipCacheIndex=c.length,c.push(t)}t._cacheIndex=s.length,s.push(t),o.actionByRoot[i]=t}_removeInactiveAction(t){const e=this._actions,i=e[e.length-1],s=t._cacheIndex;i._cacheIndex=s,e[s]=i,e.pop(),t._cacheIndex=null;const a=t._clip.uuid,o=this._actionsByClip,c=o[a],u=c.knownActions,d=u[u.length-1],m=t._byClipCacheIndex;d._byClipCacheIndex=m,u[m]=d,u.pop(),t._byClipCacheIndex=null;const g=c.actionByRoot,y=(t._localRoot||this._root).uuid;delete g[y],u.length===0&&delete o[a],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const e=t._propertyBindings;for(let i=0,s=e.length;i!==s;++i){const a=e[i];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(t){const e=this._actions,i=t._cacheIndex,s=this._nActiveActions++,a=e[s];t._cacheIndex=s,e[s]=t,a._cacheIndex=i,e[i]=a}_takeBackAction(t){const e=this._actions,i=t._cacheIndex,s=--this._nActiveActions,a=e[s];t._cacheIndex=s,e[s]=t,a._cacheIndex=i,e[i]=a}_addInactiveBinding(t,e,i){const s=this._bindingsByRootAndName,a=this._bindings;let o=s[e];o===void 0&&(o={},s[e]=o),o[i]=t,t._cacheIndex=a.length,a.push(t)}_removeInactiveBinding(t){const e=this._bindings,i=t.binding,s=i.rootNode.uuid,a=i.path,o=this._bindingsByRootAndName,c=o[s],u=e[e.length-1],d=t._cacheIndex;u._cacheIndex=d,e[d]=u,e.pop(),delete c[a],Object.keys(c).length===0&&delete o[s]}_lendBinding(t){const e=this._bindings,i=t._cacheIndex,s=this._nActiveBindings++,a=e[s];t._cacheIndex=s,e[s]=t,a._cacheIndex=i,e[i]=a}_takeBackBinding(t){const e=this._bindings,i=t._cacheIndex,s=--this._nActiveBindings,a=e[s];t._cacheIndex=s,e[s]=t,a._cacheIndex=i,e[i]=a}_lendControlInterpolant(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let i=t[e];return i===void 0&&(i=new dC(new Float32Array(2),new Float32Array(2),1,ZV),i.__cacheIndex=e,t[e]=i),i}_takeBackControlInterpolant(t){const e=this._controlInterpolants,i=t.__cacheIndex,s=--this._nActiveControlInterpolants,a=e[s];t.__cacheIndex=s,e[s]=t,a.__cacheIndex=i,e[i]=a}clipAction(t,e,i){const s=e||this._root,a=s.uuid;let o=typeof t=="string"?tm.findByName(s,t):t;const c=o!==null?o.uuid:t,u=this._actionsByClip[c];let d=null;if(i===void 0&&(o!==null?i=o.blendMode:i=v_),u!==void 0){const g=u.actionByRoot[a];if(g!==void 0&&g.blendMode===i)return g;d=u.knownActions[0],o===null&&(o=d._clip)}if(o===null)return null;const m=new YP(this,o,e,i);return this._bindAction(m,d),this._addInactiveAction(m,c,a),m}existingAction(t,e){const i=e||this._root,s=i.uuid,a=typeof t=="string"?tm.findByName(i,t):t,o=a?a.uuid:t,c=this._actionsByClip[o];return c!==void 0&&c.actionByRoot[s]||null}stopAllAction(){const t=this._actions,e=this._nActiveActions;for(let i=e-1;i>=0;--i)t[i].stop();return this}update(t){t*=this.timeScale;const e=this._actions,i=this._nActiveActions,s=this.time+=t,a=Math.sign(t),o=this._accuIndex^=1;for(let d=0;d!==i;++d)e[d]._update(s,t,a,o);const c=this._bindings,u=this._nActiveBindings;for(let d=0;d!==u;++d)c[d].apply(o);return this}setTime(t){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const e=this._actions,i=t.uuid,s=this._actionsByClip,a=s[i];if(a!==void 0){const o=a.knownActions;for(let c=0,u=o.length;c!==u;++c){const d=o[c];this._deactivateAction(d);const m=d._cacheIndex,g=e[e.length-1];d._cacheIndex=null,d._byClipCacheIndex=null,g._cacheIndex=m,e[m]=g,e.pop(),this._removeInactiveBindingsForAction(d)}delete s[i]}}uncacheRoot(t){const e=t.uuid,i=this._actionsByClip;for(const o in i){const c=i[o].actionByRoot,u=c[e];u!==void 0&&(this._deactivateAction(u),this._removeInactiveAction(u))}const s=this._bindingsByRootAndName,a=s[e];if(a!==void 0)for(const o in a){const c=a[o];c.restoreOriginalState(),this._removeInactiveBinding(c)}}uncacheAction(t,e){const i=this.existingAction(t,e);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class QV extends y_{constructor(t=1,e=1,i=1,s={}){super(t,e,s),this.isRenderTarget3D=!0,this.depth=i,this.texture=new x_(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class $V extends y_{constructor(t=1,e=1,i=1,s={}){super(t,e,s),this.isRenderTargetArray=!0,this.depth=i,this.texture=new Sv(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class MC{constructor(t){this.value=t}clone(){return new MC(this.value.clone===void 0?this.value:this.value.clone())}}let tk=0;class ek extends Fl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:tk++}),this.name="",this.usage=J0,this.uniforms=[]}add(t){return this.uniforms.push(t),this}remove(t){const e=this.uniforms.indexOf(t);return e!==-1&&this.uniforms.splice(e,1),this}setName(t){return this.name=t,this}setUsage(t){return this.usage=t,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(t){this.name=t.name,this.usage=t.usage;const e=t.uniforms;this.uniforms.length=0;for(let i=0,s=e.length;i<s;i++){const a=Array.isArray(e[i])?e[i]:[e[i]];for(let o=0;o<a.length;o++)this.uniforms.push(a[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class nk extends Mv{constructor(t,e,i=1){super(t,e),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}class ik{constructor(t,e,i,s,a){this.isGLBufferAttribute=!0,this.name="",this.buffer=t,this.type=e,this.itemSize=i,this.elementSize=s,this.count=a,this.version=0}set needsUpdate(t){t===!0&&this.version++}setBuffer(t){return this.buffer=t,this}setType(t,e){return this.type=t,this.elementSize=e,this}setItemSize(t){return this.itemSize=t,this}setCount(t){return this.count=t,this}}const UB=new Re;class qP{constructor(t,e,i=0,s=1/0){this.ray=new pm(t,e),this.near=i,this.far=s,this.camera=null,this.layers=new Qp,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}setFromXRController(t){return UB.identity().extractRotation(t.matrixWorld),this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(UB),this}intersectObject(t,e=!0,i=[]){return cE(t,this,i,e),i.sort(OB),i}intersectObjects(t,e=!0,i=[]){for(let s=0,a=t.length;s<a;s++)cE(t[s],this,i,e);return i.sort(OB),i}}function OB(n,t){return n.distance-t.distance}function cE(n,t,e,i){let s=!0;if(n.layers.test(t.layers)&&n.raycast(t,e)===!1&&(s=!1),s===!0&&i===!0){const a=n.children;for(let o=0,c=a.length;o<c;o++)cE(a[o],t,e,!0)}}class KP{constructor(t=1,e=0,i=0){return this.radius=t,this.phi=e,this.theta=i,this}set(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=Xe(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+e*e+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(Xe(e/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class sk{constructor(t=1,e=0,i=0){return this.radius=t,this.theta=e,this.y=i,this}set(t,e,i){return this.radius=t,this.theta=e,this.y=i,this}copy(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+i*i),this.theta=Math.atan2(t,i),this.y=e,this}clone(){return new this.constructor().copy(this)}}class EC{constructor(t,e,i,s){EC.prototype.isMatrix2=!0,this.elements=[1,0,0,1],t!==void 0&&this.set(t,e,i,s)}identity(){return this.set(1,0,0,1),this}fromArray(t,e=0){for(let i=0;i<4;i++)this.elements[i]=t[i+e];return this}set(t,e,i,s){const a=this.elements;return a[0]=t,a[2]=e,a[1]=i,a[3]=s,this}}const PB=new Ft;class ak{constructor(t=new Ft(1/0,1/0),e=new Ft(-1/0,-1/0)){this.isBox2=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=PB.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,PB).distanceTo(t)}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const IB=new q,ix=new q;class rk{constructor(t=new q,e=new q){this.start=t,this.end=e}set(t,e){return this.start.copy(t),this.end.copy(e),this}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,e){return this.delta(e).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,e){IB.subVectors(t,this.start),ix.subVectors(this.end,this.start);const i=ix.dot(ix);let a=ix.dot(IB)/i;return e&&(a=Xe(a,0,1)),a}closestPointToPoint(t,e,i){const s=this.closestPointToPointParameter(t,e);return this.delta(i).multiplyScalar(s).add(this.start)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const FB=new q;class ok extends gn{constructor(t,e){super(),this.light=t,this.matrixAutoUpdate=!1,this.color=e,this.type="SpotLightHelper";const i=new We,s=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,c=1,u=32;o<u;o++,c++){const d=o/u*Math.PI*2,m=c/u*Math.PI*2;s.push(Math.cos(d),Math.sin(d),1,Math.cos(m),Math.sin(m),1)}i.setAttribute("position",new Se(s,3));const a=new ra({fog:!1,toneMapped:!1});this.cone=new Io(i,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),FB.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(FB),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Lu=new q,sx=new Re,Pb=new Re;class lk extends Io{constructor(t){const e=JP(t),i=new We,s=[],a=[],o=new ie(0,0,1),c=new ie(0,1,0);for(let d=0;d<e.length;d++){const m=e[d];m.parent&&m.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),a.push(o.r,o.g,o.b),a.push(c.r,c.g,c.b))}i.setAttribute("position",new Se(s,3)),i.setAttribute("color",new Se(a,3));const u=new ra({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,u),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,i=this.geometry,s=i.getAttribute("position");Pb.copy(this.root.matrixWorld).invert();for(let a=0,o=0;a<e.length;a++){const c=e[a];c.parent&&c.parent.isBone&&(sx.multiplyMatrices(Pb,c.matrixWorld),Lu.setFromMatrixPosition(sx),s.setXYZ(o,Lu.x,Lu.y,Lu.z),sx.multiplyMatrices(Pb,c.parent.matrixWorld),Lu.setFromMatrixPosition(sx),s.setXYZ(o+1,Lu.x,Lu.y,Lu.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose()}}function JP(n){const t=[];n.isBone===!0&&t.push(n);for(let e=0;e<n.children.length;e++)t.push.apply(t,JP(n.children[e]));return t}class ck extends ji{constructor(t,e,i){const s=new Rv(e,4,2),a=new dr({wireframe:!0,fog:!1,toneMapped:!1});super(s,a),this.light=t,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const uk=new q,zB=new ie,HB=new ie;class fk extends gn{constructor(t,e,i){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const s=new wv(e);s.rotateY(Math.PI*.5),this.material=new dr({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=s.getAttribute("position"),o=new Float32Array(a.count*3);s.setAttribute("color",new wn(o,3)),this.add(new ji(s,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const t=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const e=t.geometry.getAttribute("color");zB.copy(this.light.color),HB.copy(this.light.groundColor);for(let i=0,s=e.count;i<s;i++){const a=i<s/2?zB:HB;e.setXYZ(i,a.r,a.g,a.b)}e.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),t.lookAt(uk.setFromMatrixPosition(this.light.matrixWorld).negate())}}class hk extends Io{constructor(t=10,e=10,i=4473924,s=8947848){i=new ie(i),s=new ie(s);const a=e/2,o=t/e,c=t/2,u=[],d=[];for(let y=0,A=0,b=-c;y<=e;y++,b+=o){u.push(-c,0,b,c,0,b),u.push(b,0,-c,b,0,c);const T=y===a?i:s;T.toArray(d,A),A+=3,T.toArray(d,A),A+=3,T.toArray(d,A),A+=3,T.toArray(d,A),A+=3}const m=new We;m.setAttribute("position",new Se(u,3)),m.setAttribute("color",new Se(d,3));const g=new ra({vertexColors:!0,toneMapped:!1});super(m,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class dk extends Io{constructor(t=10,e=16,i=8,s=64,a=4473924,o=8947848){a=new ie(a),o=new ie(o);const c=[],u=[];if(e>1)for(let g=0;g<e;g++){const y=g/e*(Math.PI*2),A=Math.sin(y)*t,b=Math.cos(y)*t;c.push(0,0,0),c.push(A,0,b);const T=g&1?a:o;u.push(T.r,T.g,T.b),u.push(T.r,T.g,T.b)}for(let g=0;g<i;g++){const y=g&1?a:o,A=t-t/i*g;for(let b=0;b<s;b++){let T=b/s*(Math.PI*2),E=Math.sin(T)*A,S=Math.cos(T)*A;c.push(E,0,S),u.push(y.r,y.g,y.b),T=(b+1)/s*(Math.PI*2),E=Math.sin(T)*A,S=Math.cos(T)*A,c.push(E,0,S),u.push(y.r,y.g,y.b)}}const d=new We;d.setAttribute("position",new Se(c,3)),d.setAttribute("color",new Se(u,3));const m=new ra({vertexColors:!0,toneMapped:!1});super(d,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const GB=new q,ax=new q,VB=new q;class pk extends gn{constructor(t,e,i){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",e===void 0&&(e=1);let s=new We;s.setAttribute("position",new Se([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));const a=new ra({fog:!1,toneMapped:!1});this.lightPlane=new Fc(s,a),this.add(this.lightPlane),s=new We,s.setAttribute("position",new Se([0,0,0,0,0,1],3)),this.targetLine=new Fc(s,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),GB.setFromMatrixPosition(this.light.matrixWorld),ax.setFromMatrixPosition(this.light.target.matrixWorld),VB.subVectors(ax,GB),this.lightPlane.lookAt(ax),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(ax),this.targetLine.scale.z=VB.length()}}const rx=new q,Ni=new A_;class mk extends Io{constructor(t){const e=new We,i=new ra({color:16777215,vertexColors:!0,toneMapped:!1}),s=[],a=[],o={};c("n1","n2"),c("n2","n4"),c("n4","n3"),c("n3","n1"),c("f1","f2"),c("f2","f4"),c("f4","f3"),c("f3","f1"),c("n1","f1"),c("n2","f2"),c("n3","f3"),c("n4","f4"),c("p","n1"),c("p","n2"),c("p","n3"),c("p","n4"),c("u1","u2"),c("u2","u3"),c("u3","u1"),c("c","t"),c("p","c"),c("cn1","cn2"),c("cn3","cn4"),c("cf1","cf2"),c("cf3","cf4");function c(b,T){u(b),u(T)}function u(b){s.push(0,0,0),a.push(0,0,0),o[b]===void 0&&(o[b]=[]),o[b].push(s.length/3-1)}e.setAttribute("position",new Se(s,3)),e.setAttribute("color",new Se(a,3)),super(e,i),this.type="CameraHelper",this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const d=new ie(16755200),m=new ie(16711680),g=new ie(43775),y=new ie(16777215),A=new ie(3355443);this.setColors(d,m,g,y,A)}setColors(t,e,i,s,a){const c=this.geometry.getAttribute("color");c.setXYZ(0,t.r,t.g,t.b),c.setXYZ(1,t.r,t.g,t.b),c.setXYZ(2,t.r,t.g,t.b),c.setXYZ(3,t.r,t.g,t.b),c.setXYZ(4,t.r,t.g,t.b),c.setXYZ(5,t.r,t.g,t.b),c.setXYZ(6,t.r,t.g,t.b),c.setXYZ(7,t.r,t.g,t.b),c.setXYZ(8,t.r,t.g,t.b),c.setXYZ(9,t.r,t.g,t.b),c.setXYZ(10,t.r,t.g,t.b),c.setXYZ(11,t.r,t.g,t.b),c.setXYZ(12,t.r,t.g,t.b),c.setXYZ(13,t.r,t.g,t.b),c.setXYZ(14,t.r,t.g,t.b),c.setXYZ(15,t.r,t.g,t.b),c.setXYZ(16,t.r,t.g,t.b),c.setXYZ(17,t.r,t.g,t.b),c.setXYZ(18,t.r,t.g,t.b),c.setXYZ(19,t.r,t.g,t.b),c.setXYZ(20,t.r,t.g,t.b),c.setXYZ(21,t.r,t.g,t.b),c.setXYZ(22,t.r,t.g,t.b),c.setXYZ(23,t.r,t.g,t.b),c.setXYZ(24,e.r,e.g,e.b),c.setXYZ(25,e.r,e.g,e.b),c.setXYZ(26,e.r,e.g,e.b),c.setXYZ(27,e.r,e.g,e.b),c.setXYZ(28,e.r,e.g,e.b),c.setXYZ(29,e.r,e.g,e.b),c.setXYZ(30,e.r,e.g,e.b),c.setXYZ(31,e.r,e.g,e.b),c.setXYZ(32,i.r,i.g,i.b),c.setXYZ(33,i.r,i.g,i.b),c.setXYZ(34,i.r,i.g,i.b),c.setXYZ(35,i.r,i.g,i.b),c.setXYZ(36,i.r,i.g,i.b),c.setXYZ(37,i.r,i.g,i.b),c.setXYZ(38,s.r,s.g,s.b),c.setXYZ(39,s.r,s.g,s.b),c.setXYZ(40,a.r,a.g,a.b),c.setXYZ(41,a.r,a.g,a.b),c.setXYZ(42,a.r,a.g,a.b),c.setXYZ(43,a.r,a.g,a.b),c.setXYZ(44,a.r,a.g,a.b),c.setXYZ(45,a.r,a.g,a.b),c.setXYZ(46,a.r,a.g,a.b),c.setXYZ(47,a.r,a.g,a.b),c.setXYZ(48,a.r,a.g,a.b),c.setXYZ(49,a.r,a.g,a.b),c.needsUpdate=!0}update(){const t=this.geometry,e=this.pointMap,i=1,s=1;Ni.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const a=this.camera.coordinateSystem===Do?-1:0;zi("c",e,t,Ni,0,0,a),zi("t",e,t,Ni,0,0,1),zi("n1",e,t,Ni,-1,-1,a),zi("n2",e,t,Ni,i,-1,a),zi("n3",e,t,Ni,-1,s,a),zi("n4",e,t,Ni,i,s,a),zi("f1",e,t,Ni,-1,-1,1),zi("f2",e,t,Ni,i,-1,1),zi("f3",e,t,Ni,-1,s,1),zi("f4",e,t,Ni,i,s,1),zi("u1",e,t,Ni,i*.7,s*1.1,a),zi("u2",e,t,Ni,-1*.7,s*1.1,a),zi("u3",e,t,Ni,0,s*2,a),zi("cf1",e,t,Ni,-1,0,1),zi("cf2",e,t,Ni,i,0,1),zi("cf3",e,t,Ni,0,-1,1),zi("cf4",e,t,Ni,0,s,1),zi("cn1",e,t,Ni,-1,0,a),zi("cn2",e,t,Ni,i,0,a),zi("cn3",e,t,Ni,0,-1,a),zi("cn4",e,t,Ni,0,s,a),t.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function zi(n,t,e,i,s,a,o){rx.set(s,a,o).unproject(i);const c=t[n];if(c!==void 0){const u=e.getAttribute("position");for(let d=0,m=c.length;d<m;d++)u.setXYZ(c[d],rx.x,rx.y,rx.z)}}const ox=new aa;class gk extends Io{constructor(t,e=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=new Float32Array(8*3),a=new We;a.setIndex(new wn(i,1)),a.setAttribute("position",new wn(s,3)),super(a,new ra({color:e,toneMapped:!1})),this.object=t,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(t){if(t!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&ox.setFromObject(this.object),ox.isEmpty())return;const e=ox.min,i=ox.max,s=this.geometry.attributes.position,a=s.array;a[0]=i.x,a[1]=i.y,a[2]=i.z,a[3]=e.x,a[4]=i.y,a[5]=i.z,a[6]=e.x,a[7]=e.y,a[8]=i.z,a[9]=i.x,a[10]=e.y,a[11]=i.z,a[12]=i.x,a[13]=i.y,a[14]=e.z,a[15]=e.x,a[16]=i.y,a[17]=e.z,a[18]=e.x,a[19]=e.y,a[20]=e.z,a[21]=i.x,a[22]=e.y,a[23]=e.z,s.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t,e){return super.copy(t,e),this.object=t.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class vk extends Io{constructor(t,e=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new We;a.setIndex(new wn(i,1)),a.setAttribute("position",new Se(s,3)),super(a,new ra({color:e,toneMapped:!1})),this.box=t,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(t){const e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(t))}dispose(){this.geometry.dispose(),this.material.dispose()}}class yk extends Fc{constructor(t,e=1,i=16776960){const s=i,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new We;o.setAttribute("position",new Se(a,3)),o.computeBoundingSphere(),super(o,new ra({color:s,toneMapped:!1})),this.type="PlaneHelper",this.plane=t,this.size=e;const c=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],u=new We;u.setAttribute("position",new Se(c,3)),u.computeBoundingSphere(),this.add(new ji(u,new dr({color:s,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(t){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const kB=new q;let lx,Ib;class xk extends gn{constructor(t=new q(0,0,1),e=new q(0,0,0),i=1,s=16776960,a=i*.2,o=a*.2){super(),this.type="ArrowHelper",lx===void 0&&(lx=new We,lx.setAttribute("position",new Se([0,0,0,0,1,0],3)),Ib=new mm(0,.5,1,5,1),Ib.translate(0,-.5,0)),this.position.copy(e),this.line=new Fc(lx,new ra({color:s,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ji(Ib,new dr({color:s,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(i,a,o)}setDirection(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{kB.set(t.z,0,-t.x).normalize();const e=Math.acos(t.y);this.quaternion.setFromAxisAngle(kB,e)}}setLength(t,e=t*.2,i=e*.2){this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(i,e,i),this.cone.position.y=t,this.cone.updateMatrix()}setColor(t){this.line.material.color.set(t),this.cone.material.color.set(t)}copy(t){return super.copy(t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Ak extends Io{constructor(t=1){const e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],s=new We;s.setAttribute("position",new Se(e,3)),s.setAttribute("color",new Se(i,3));const a=new ra({vertexColors:!0,toneMapped:!1});super(s,a),this.type="AxesHelper"}setColors(t,e,i){const s=new ie,a=this.geometry.attributes.color.array;return s.set(t),s.toArray(a,0),s.toArray(a,3),s.set(e),s.toArray(a,6),s.toArray(a,9),s.set(i),s.toArray(a,12),s.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class _k{constructor(){this.type="ShapePath",this.color=new ie,this.subPaths=[],this.currentPath=null}moveTo(t,e){return this.currentPath=new $0,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this}lineTo(t,e){return this.currentPath.lineTo(t,e),this}quadraticCurveTo(t,e,i,s){return this.currentPath.quadraticCurveTo(t,e,i,s),this}bezierCurveTo(t,e,i,s,a,o){return this.currentPath.bezierCurveTo(t,e,i,s,a,o),this}splineThru(t){return this.currentPath.splineThru(t),this}toShapes(t){function e(S){const R=[];for(let B=0,D=S.length;B<D;B++){const U=S[B],N=new Uh;N.curves=U.curves,R.push(N)}return R}function i(S,R){const B=R.length;let D=!1;for(let U=B-1,N=0;N<B;U=N++){let F=R[U],z=R[N],O=z.x-F.x,I=z.y-F.y;if(Math.abs(I)>Number.EPSILON){if(I<0&&(F=R[N],O=-O,z=R[U],I=-I),S.y<F.y||S.y>z.y)continue;if(S.y===F.y){if(S.x===F.x)return!0}else{const Y=I*(S.x-F.x)-O*(S.y-F.y);if(Y===0)return!0;if(Y<0)continue;D=!D}}else{if(S.y!==F.y)continue;if(z.x<=S.x&&S.x<=F.x||F.x<=S.x&&S.x<=z.x)return!0}}return D}const s=Bl.isClockWise,a=this.subPaths;if(a.length===0)return[];let o,c,u;const d=[];if(a.length===1)return c=a[0],u=new Uh,u.curves=c.curves,d.push(u),d;let m=!s(a[0].getPoints());m=t?!m:m;const g=[],y=[];let A=[],b=0,T;y[b]=void 0,A[b]=[];for(let S=0,R=a.length;S<R;S++)c=a[S],T=c.getPoints(),o=s(T),o=t?!o:o,o?(!m&&y[b]&&b++,y[b]={s:new Uh,p:T},y[b].s.curves=c.curves,m&&b++,A[b]=[]):A[b].push({h:c,p:T[0]});if(!y[0])return e(a);if(y.length>1){let S=!1,R=0;for(let B=0,D=y.length;B<D;B++)g[B]=[];for(let B=0,D=y.length;B<D;B++){const U=A[B];for(let N=0;N<U.length;N++){const F=U[N];let z=!0;for(let O=0;O<y.length;O++)i(F.p,y[O].p)&&(B!==O&&R++,z?(z=!1,g[O].push(F)):S=!0);z&&g[B].push(F)}}R>0&&S===!1&&(A=g)}let E;for(let S=0,R=y.length;S<R;S++){u=y[S].s,d.push(u),E=A[S];for(let B=0,D=E.length;B<D;B++)u.holes.push(E[B].h)}return d}}class Sk extends Fl{constructor(t,e=null){super(),this.object=t,this.domElement=e,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function bk(n,t){const e=n.image&&n.image.width?n.image.width/n.image.height:1;return e>t?(n.repeat.x=1,n.repeat.y=e/t,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=t/e,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function Mk(n,t){const e=n.image&&n.image.width?n.image.width/n.image.height:1;return e>t?(n.repeat.x=t/e,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=e/t,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function Ek(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function uE(n,t,e,i){const s=Tk(i);switch(e){case FT:return n*t;case HT:return n*t;case GT:return n*t*2;case p_:return n*t/s.components*s.byteLength;case _v:return n*t/s.components*s.byteLength;case VT:return n*t*2/s.components*s.byteLength;case m_:return n*t*2/s.components*s.byteLength;case zT:return n*t*3/s.components*s.byteLength;case na:return n*t*4/s.components*s.byteLength;case g_:return n*t*4/s.components*s.byteLength;case b0:case M0:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*8;case E0:case T0:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*16;case cA:case fA:return Math.max(n,16)*Math.max(t,8)/4;case lA:case uA:return Math.max(n,8)*Math.max(t,8)/2;case hA:case dA:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*8;case pA:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*16;case mA:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*16;case gA:return Math.floor((n+4)/5)*Math.floor((t+3)/4)*16;case vA:return Math.floor((n+4)/5)*Math.floor((t+4)/5)*16;case yA:return Math.floor((n+5)/6)*Math.floor((t+4)/5)*16;case xA:return Math.floor((n+5)/6)*Math.floor((t+5)/6)*16;case AA:return Math.floor((n+7)/8)*Math.floor((t+4)/5)*16;case _A:return Math.floor((n+7)/8)*Math.floor((t+5)/6)*16;case SA:return Math.floor((n+7)/8)*Math.floor((t+7)/8)*16;case bA:return Math.floor((n+9)/10)*Math.floor((t+4)/5)*16;case MA:return Math.floor((n+9)/10)*Math.floor((t+5)/6)*16;case EA:return Math.floor((n+9)/10)*Math.floor((t+7)/8)*16;case TA:return Math.floor((n+9)/10)*Math.floor((t+9)/10)*16;case CA:return Math.floor((n+11)/12)*Math.floor((t+9)/10)*16;case wA:return Math.floor((n+11)/12)*Math.floor((t+11)/12)*16;case C0:case RA:case BA:return Math.ceil(n/4)*Math.ceil(t/4)*16;case kT:case DA:return Math.ceil(n/4)*Math.ceil(t/4)*8;case LA:case NA:return Math.ceil(n/4)*Math.ceil(t/4)*16}throw new Error(`Unable to determine texture byte length for ${e} format.`)}function Tk(n){switch(n){case Uo:case OT:return{byteLength:1,components:1};case qp:case PT:case dm:return{byteLength:2,components:1};case h_:case d_:return{byteLength:2,components:4};case Ic:case f_:case Xa:return{byteLength:4,components:1};case IT:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}const Ck={contain:bk,cover:Mk,fill:Ek,getByteLength:uE};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:xv}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=xv);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function ZP(){let n=null,t=!1,e=null,i=null;function s(a,o){e(a,o),i=n.requestAnimationFrame(s)}return{start:function(){t!==!0&&e!==null&&(i=n.requestAnimationFrame(s),t=!0)},stop:function(){n.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(a){e=a},setContext:function(a){n=a}}}function wk(n){const t=new WeakMap;function e(c,u){const d=c.array,m=c.usage,g=d.byteLength,y=n.createBuffer();n.bindBuffer(u,y),n.bufferData(u,d,m),c.onUploadCallback();let A;if(d instanceof Float32Array)A=n.FLOAT;else if(d instanceof Uint16Array)c.isFloat16BufferAttribute?A=n.HALF_FLOAT:A=n.UNSIGNED_SHORT;else if(d instanceof Int16Array)A=n.SHORT;else if(d instanceof Uint32Array)A=n.UNSIGNED_INT;else if(d instanceof Int32Array)A=n.INT;else if(d instanceof Int8Array)A=n.BYTE;else if(d instanceof Uint8Array)A=n.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)A=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:y,type:A,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version,size:g}}function i(c,u,d){const m=u.array,g=u.updateRanges;if(n.bindBuffer(d,c),g.length===0)n.bufferSubData(d,0,m);else{g.sort((A,b)=>A.start-b.start);let y=0;for(let A=1;A<g.length;A++){const b=g[y],T=g[A];T.start<=b.start+b.count+1?b.count=Math.max(b.count,T.start+T.count-b.start):(++y,g[y]=T)}g.length=y+1;for(let A=0,b=g.length;A<b;A++){const T=g[A];n.bufferSubData(d,T.start*m.BYTES_PER_ELEMENT,m,T.start,T.count)}u.clearUpdateRanges()}u.onUploadCallback()}function s(c){return c.isInterleavedBufferAttribute&&(c=c.data),t.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=t.get(c);u&&(n.deleteBuffer(u.buffer),t.delete(c))}function o(c,u){if(c.isInterleavedBufferAttribute&&(c=c.data),c.isGLBufferAttribute){const m=t.get(c);(!m||m.version<c.version)&&t.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}const d=t.get(c);if(d===void 0)t.set(c,e(c,u));else if(d.version<c.version){if(d.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(d.buffer,c,u),d.version=c.version}}return{get:s,remove:a,update:o}}var Rk=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Bk=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Dk=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Lk=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Nk=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Uk=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Ok=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Pk=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Ik=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Fk=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,zk=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Hk=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Gk=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Vk=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,kk=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,jk=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Xk=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Yk=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Wk=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,qk=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Kk=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Jk=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Zk=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Qk=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,$k=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,tj=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,ej=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,nj=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,ij=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,sj=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,aj="gl_FragColor = linearToOutputTexel( gl_FragColor );",rj=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,oj=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,lj=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,cj=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,uj=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,fj=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,hj=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,dj=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,pj=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,mj=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gj=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,vj=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,yj=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,xj=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Aj=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,_j=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Sj=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,bj=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Mj=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Ej=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Tj=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Cj=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,wj=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Rj=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Bj=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Dj=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Lj=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Nj=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Uj=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Oj=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Pj=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Ij=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Fj=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,zj=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Hj=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Gj=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Vj=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,kj=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,jj=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Xj=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Yj=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Wj=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,qj=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Kj=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Jj=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Zj=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Qj=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,$j=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,tX=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,eX=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,nX=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,iX=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,sX=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,aX=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,rX=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,oX=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,lX=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,cX=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,uX=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,fX=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,hX=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,dX=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,pX=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,mX=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,gX=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,vX=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,yX=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,xX=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,AX=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,_X=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,SX=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,bX=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,MX=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,EX=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,TX=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,CX=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const wX=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,RX=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,BX=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,DX=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,LX=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,NX=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,UX=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,OX=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,PX=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,IX=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,FX=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,zX=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,HX=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,GX=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,VX=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,kX=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jX=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,XX=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,YX=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,WX=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,qX=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,KX=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,JX=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ZX=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,QX=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,$X=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,tY=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,eY=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nY=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,iY=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,sY=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,aY=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,rY=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,oY=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,tn={alphahash_fragment:Rk,alphahash_pars_fragment:Bk,alphamap_fragment:Dk,alphamap_pars_fragment:Lk,alphatest_fragment:Nk,alphatest_pars_fragment:Uk,aomap_fragment:Ok,aomap_pars_fragment:Pk,batching_pars_vertex:Ik,batching_vertex:Fk,begin_vertex:zk,beginnormal_vertex:Hk,bsdfs:Gk,iridescence_fragment:Vk,bumpmap_pars_fragment:kk,clipping_planes_fragment:jk,clipping_planes_pars_fragment:Xk,clipping_planes_pars_vertex:Yk,clipping_planes_vertex:Wk,color_fragment:qk,color_pars_fragment:Kk,color_pars_vertex:Jk,color_vertex:Zk,common:Qk,cube_uv_reflection_fragment:$k,defaultnormal_vertex:tj,displacementmap_pars_vertex:ej,displacementmap_vertex:nj,emissivemap_fragment:ij,emissivemap_pars_fragment:sj,colorspace_fragment:aj,colorspace_pars_fragment:rj,envmap_fragment:oj,envmap_common_pars_fragment:lj,envmap_pars_fragment:cj,envmap_pars_vertex:uj,envmap_physical_pars_fragment:_j,envmap_vertex:fj,fog_vertex:hj,fog_pars_vertex:dj,fog_fragment:pj,fog_pars_fragment:mj,gradientmap_pars_fragment:gj,lightmap_pars_fragment:vj,lights_lambert_fragment:yj,lights_lambert_pars_fragment:xj,lights_pars_begin:Aj,lights_toon_fragment:Sj,lights_toon_pars_fragment:bj,lights_phong_fragment:Mj,lights_phong_pars_fragment:Ej,lights_physical_fragment:Tj,lights_physical_pars_fragment:Cj,lights_fragment_begin:wj,lights_fragment_maps:Rj,lights_fragment_end:Bj,logdepthbuf_fragment:Dj,logdepthbuf_pars_fragment:Lj,logdepthbuf_pars_vertex:Nj,logdepthbuf_vertex:Uj,map_fragment:Oj,map_pars_fragment:Pj,map_particle_fragment:Ij,map_particle_pars_fragment:Fj,metalnessmap_fragment:zj,metalnessmap_pars_fragment:Hj,morphinstance_vertex:Gj,morphcolor_vertex:Vj,morphnormal_vertex:kj,morphtarget_pars_vertex:jj,morphtarget_vertex:Xj,normal_fragment_begin:Yj,normal_fragment_maps:Wj,normal_pars_fragment:qj,normal_pars_vertex:Kj,normal_vertex:Jj,normalmap_pars_fragment:Zj,clearcoat_normal_fragment_begin:Qj,clearcoat_normal_fragment_maps:$j,clearcoat_pars_fragment:tX,iridescence_pars_fragment:eX,opaque_fragment:nX,packing:iX,premultiplied_alpha_fragment:sX,project_vertex:aX,dithering_fragment:rX,dithering_pars_fragment:oX,roughnessmap_fragment:lX,roughnessmap_pars_fragment:cX,shadowmap_pars_fragment:uX,shadowmap_pars_vertex:fX,shadowmap_vertex:hX,shadowmask_pars_fragment:dX,skinbase_vertex:pX,skinning_pars_vertex:mX,skinning_vertex:gX,skinnormal_vertex:vX,specularmap_fragment:yX,specularmap_pars_fragment:xX,tonemapping_fragment:AX,tonemapping_pars_fragment:_X,transmission_fragment:SX,transmission_pars_fragment:bX,uv_pars_fragment:MX,uv_pars_vertex:EX,uv_vertex:TX,worldpos_vertex:CX,background_vert:wX,background_frag:RX,backgroundCube_vert:BX,backgroundCube_frag:DX,cube_vert:LX,cube_frag:NX,depth_vert:UX,depth_frag:OX,distanceRGBA_vert:PX,distanceRGBA_frag:IX,equirect_vert:FX,equirect_frag:zX,linedashed_vert:HX,linedashed_frag:GX,meshbasic_vert:VX,meshbasic_frag:kX,meshlambert_vert:jX,meshlambert_frag:XX,meshmatcap_vert:YX,meshmatcap_frag:WX,meshnormal_vert:qX,meshnormal_frag:KX,meshphong_vert:JX,meshphong_frag:ZX,meshphysical_vert:QX,meshphysical_frag:$X,meshtoon_vert:tY,meshtoon_frag:eY,points_vert:nY,points_frag:iY,shadow_vert:sY,shadow_frag:aY,sprite_vert:rY,sprite_frag:oY},ce={common:{diffuse:{value:new ie(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Ye},alphaMap:{value:null},alphaMapTransform:{value:new Ye},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Ye}},envmap:{envMap:{value:null},envMapRotation:{value:new Ye},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Ye}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Ye}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Ye},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Ye},normalScale:{value:new Ft(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Ye},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Ye}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Ye}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Ye}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ie(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ie(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Ye},alphaTest:{value:0},uvTransform:{value:new Ye}},sprite:{diffuse:{value:new ie(16777215)},opacity:{value:1},center:{value:new Ft(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Ye},alphaMap:{value:null},alphaMapTransform:{value:new Ye},alphaTest:{value:0}}},Bo={basic:{uniforms:xa([ce.common,ce.specularmap,ce.envmap,ce.aomap,ce.lightmap,ce.fog]),vertexShader:tn.meshbasic_vert,fragmentShader:tn.meshbasic_frag},lambert:{uniforms:xa([ce.common,ce.specularmap,ce.envmap,ce.aomap,ce.lightmap,ce.emissivemap,ce.bumpmap,ce.normalmap,ce.displacementmap,ce.fog,ce.lights,{emissive:{value:new ie(0)}}]),vertexShader:tn.meshlambert_vert,fragmentShader:tn.meshlambert_frag},phong:{uniforms:xa([ce.common,ce.specularmap,ce.envmap,ce.aomap,ce.lightmap,ce.emissivemap,ce.bumpmap,ce.normalmap,ce.displacementmap,ce.fog,ce.lights,{emissive:{value:new ie(0)},specular:{value:new ie(1118481)},shininess:{value:30}}]),vertexShader:tn.meshphong_vert,fragmentShader:tn.meshphong_frag},standard:{uniforms:xa([ce.common,ce.envmap,ce.aomap,ce.lightmap,ce.emissivemap,ce.bumpmap,ce.normalmap,ce.displacementmap,ce.roughnessmap,ce.metalnessmap,ce.fog,ce.lights,{emissive:{value:new ie(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:tn.meshphysical_vert,fragmentShader:tn.meshphysical_frag},toon:{uniforms:xa([ce.common,ce.aomap,ce.lightmap,ce.emissivemap,ce.bumpmap,ce.normalmap,ce.displacementmap,ce.gradientmap,ce.fog,ce.lights,{emissive:{value:new ie(0)}}]),vertexShader:tn.meshtoon_vert,fragmentShader:tn.meshtoon_frag},matcap:{uniforms:xa([ce.common,ce.bumpmap,ce.normalmap,ce.displacementmap,ce.fog,{matcap:{value:null}}]),vertexShader:tn.meshmatcap_vert,fragmentShader:tn.meshmatcap_frag},points:{uniforms:xa([ce.points,ce.fog]),vertexShader:tn.points_vert,fragmentShader:tn.points_frag},dashed:{uniforms:xa([ce.common,ce.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:tn.linedashed_vert,fragmentShader:tn.linedashed_frag},depth:{uniforms:xa([ce.common,ce.displacementmap]),vertexShader:tn.depth_vert,fragmentShader:tn.depth_frag},normal:{uniforms:xa([ce.common,ce.bumpmap,ce.normalmap,ce.displacementmap,{opacity:{value:1}}]),vertexShader:tn.meshnormal_vert,fragmentShader:tn.meshnormal_frag},sprite:{uniforms:xa([ce.sprite,ce.fog]),vertexShader:tn.sprite_vert,fragmentShader:tn.sprite_frag},background:{uniforms:{uvTransform:{value:new Ye},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:tn.background_vert,fragmentShader:tn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Ye}},vertexShader:tn.backgroundCube_vert,fragmentShader:tn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:tn.cube_vert,fragmentShader:tn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:tn.equirect_vert,fragmentShader:tn.equirect_frag},distanceRGBA:{uniforms:xa([ce.common,ce.displacementmap,{referencePosition:{value:new q},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:tn.distanceRGBA_vert,fragmentShader:tn.distanceRGBA_frag},shadow:{uniforms:xa([ce.lights,ce.fog,{color:{value:new ie(0)},opacity:{value:1}}]),vertexShader:tn.shadow_vert,fragmentShader:tn.shadow_frag}};Bo.physical={uniforms:xa([Bo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Ye},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Ye},clearcoatNormalScale:{value:new Ft(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Ye},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Ye},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Ye},sheen:{value:0},sheenColor:{value:new ie(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Ye},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Ye},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Ye},transmissionSamplerSize:{value:new Ft},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Ye},attenuationDistance:{value:0},attenuationColor:{value:new ie(0)},specularColor:{value:new ie(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Ye},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Ye},anisotropyVector:{value:new Ft},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Ye}}]),vertexShader:tn.meshphysical_vert,fragmentShader:tn.meshphysical_frag};const cx={r:0,b:0,g:0},oh=new Wa,lY=new Re;function cY(n,t,e,i,s,a,o){const c=new ie(0);let u=a===!0?0:1,d,m,g=null,y=0,A=null;function b(B){let D=B.isScene===!0?B.background:null;return D&&D.isTexture&&(D=(B.backgroundBlurriness>0?e:t).get(D)),D}function T(B){let D=!1;const U=b(B);U===null?S(c,u):U&&U.isColor&&(S(U,1),D=!0);const N=n.xr.getEnvironmentBlendMode();N==="additive"?i.buffers.color.setClear(0,0,0,1,o):N==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||D)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function E(B,D){const U=b(D);U&&(U.isCubeTexture||U.mapping===hm)?(m===void 0&&(m=new ji(new Jh(1,1,1),new Oo({name:"BackgroundCubeMaterial",uniforms:$p(Bo.backgroundCube.uniforms),vertexShader:Bo.backgroundCube.vertexShader,fragmentShader:Bo.backgroundCube.fragmentShader,side:Ea,depthTest:!1,depthWrite:!1,fog:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(N,F,z){this.matrixWorld.copyPosition(z.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(m)),oh.copy(D.backgroundRotation),oh.x*=-1,oh.y*=-1,oh.z*=-1,U.isCubeTexture&&U.isRenderTargetTexture===!1&&(oh.y*=-1,oh.z*=-1),m.material.uniforms.envMap.value=U,m.material.uniforms.flipEnvMap.value=U.isCubeTexture&&U.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=D.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=D.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(lY.makeRotationFromEuler(oh)),m.material.toneMapped=Sn.getTransfer(U.colorSpace)!==jn,(g!==U||y!==U.version||A!==n.toneMapping)&&(m.material.needsUpdate=!0,g=U,y=U.version,A=n.toneMapping),m.layers.enableAll(),B.unshift(m,m.geometry,m.material,0,0,null)):U&&U.isTexture&&(d===void 0&&(d=new ji(new gm(2,2),new Oo({name:"BackgroundMaterial",uniforms:$p(Bo.background.uniforms),vertexShader:Bo.background.vertexShader,fragmentShader:Bo.background.fragmentShader,side:Ol,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(d)),d.material.uniforms.t2D.value=U,d.material.uniforms.backgroundIntensity.value=D.backgroundIntensity,d.material.toneMapped=Sn.getTransfer(U.colorSpace)!==jn,U.matrixAutoUpdate===!0&&U.updateMatrix(),d.material.uniforms.uvTransform.value.copy(U.matrix),(g!==U||y!==U.version||A!==n.toneMapping)&&(d.material.needsUpdate=!0,g=U,y=U.version,A=n.toneMapping),d.layers.enableAll(),B.unshift(d,d.geometry,d.material,0,0,null))}function S(B,D){B.getRGB(cx,nP(n)),i.buffers.color.setClear(cx.r,cx.g,cx.b,D,o)}function R(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0)}return{getClearColor:function(){return c},setClearColor:function(B,D=1){c.set(B),u=D,S(c,u)},getClearAlpha:function(){return u},setClearAlpha:function(B){u=B,S(c,u)},render:T,addToRenderList:E,dispose:R}}function uY(n,t){const e=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},s=y(null);let a=s,o=!1;function c(I,Y,dt,at,Q){let lt=!1;const tt=g(at,dt,Y);a!==tt&&(a=tt,d(a.object)),lt=A(I,at,dt,Q),lt&&b(I,at,dt,Q),Q!==null&&t.update(Q,n.ELEMENT_ARRAY_BUFFER),(lt||o)&&(o=!1,D(I,Y,dt,at),Q!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(Q).buffer))}function u(){return n.createVertexArray()}function d(I){return n.bindVertexArray(I)}function m(I){return n.deleteVertexArray(I)}function g(I,Y,dt){const at=dt.wireframe===!0;let Q=i[I.id];Q===void 0&&(Q={},i[I.id]=Q);let lt=Q[Y.id];lt===void 0&&(lt={},Q[Y.id]=lt);let tt=lt[at];return tt===void 0&&(tt=y(u()),lt[at]=tt),tt}function y(I){const Y=[],dt=[],at=[];for(let Q=0;Q<e;Q++)Y[Q]=0,dt[Q]=0,at[Q]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Y,enabledAttributes:dt,attributeDivisors:at,object:I,attributes:{},index:null}}function A(I,Y,dt,at){const Q=a.attributes,lt=Y.attributes;let tt=0;const et=dt.getAttributes();for(const Z in et)if(et[Z].location>=0){const X=Q[Z];let it=lt[Z];if(it===void 0&&(Z==="instanceMatrix"&&I.instanceMatrix&&(it=I.instanceMatrix),Z==="instanceColor"&&I.instanceColor&&(it=I.instanceColor)),X===void 0||X.attribute!==it||it&&X.data!==it.data)return!0;tt++}return a.attributesNum!==tt||a.index!==at}function b(I,Y,dt,at){const Q={},lt=Y.attributes;let tt=0;const et=dt.getAttributes();for(const Z in et)if(et[Z].location>=0){let X=lt[Z];X===void 0&&(Z==="instanceMatrix"&&I.instanceMatrix&&(X=I.instanceMatrix),Z==="instanceColor"&&I.instanceColor&&(X=I.instanceColor));const it={};it.attribute=X,X&&X.data&&(it.data=X.data),Q[Z]=it,tt++}a.attributes=Q,a.attributesNum=tt,a.index=at}function T(){const I=a.newAttributes;for(let Y=0,dt=I.length;Y<dt;Y++)I[Y]=0}function E(I){S(I,0)}function S(I,Y){const dt=a.newAttributes,at=a.enabledAttributes,Q=a.attributeDivisors;dt[I]=1,at[I]===0&&(n.enableVertexAttribArray(I),at[I]=1),Q[I]!==Y&&(n.vertexAttribDivisor(I,Y),Q[I]=Y)}function R(){const I=a.newAttributes,Y=a.enabledAttributes;for(let dt=0,at=Y.length;dt<at;dt++)Y[dt]!==I[dt]&&(n.disableVertexAttribArray(dt),Y[dt]=0)}function B(I,Y,dt,at,Q,lt,tt){tt===!0?n.vertexAttribIPointer(I,Y,dt,Q,lt):n.vertexAttribPointer(I,Y,dt,at,Q,lt)}function D(I,Y,dt,at){T();const Q=at.attributes,lt=dt.getAttributes(),tt=Y.defaultAttributeValues;for(const et in lt){const Z=lt[et];if(Z.location>=0){let vt=Q[et];if(vt===void 0&&(et==="instanceMatrix"&&I.instanceMatrix&&(vt=I.instanceMatrix),et==="instanceColor"&&I.instanceColor&&(vt=I.instanceColor)),vt!==void 0){const X=vt.normalized,it=vt.itemSize,Mt=t.get(vt);if(Mt===void 0)continue;const Ot=Mt.buffer,st=Mt.type,Et=Mt.bytesPerElement,Bt=st===n.INT||st===n.UNSIGNED_INT||vt.gpuType===f_;if(vt.isInterleavedBufferAttribute){const Pt=vt.data,Ht=Pt.stride,fe=vt.offset;if(Pt.isInstancedInterleavedBuffer){for(let Xt=0;Xt<Z.locationSize;Xt++)S(Z.location+Xt,Pt.meshPerAttribute);I.isInstancedMesh!==!0&&at._maxInstanceCount===void 0&&(at._maxInstanceCount=Pt.meshPerAttribute*Pt.count)}else for(let Xt=0;Xt<Z.locationSize;Xt++)E(Z.location+Xt);n.bindBuffer(n.ARRAY_BUFFER,Ot);for(let Xt=0;Xt<Z.locationSize;Xt++)B(Z.location+Xt,it/Z.locationSize,st,X,Ht*Et,(fe+it/Z.locationSize*Xt)*Et,Bt)}else{if(vt.isInstancedBufferAttribute){for(let Pt=0;Pt<Z.locationSize;Pt++)S(Z.location+Pt,vt.meshPerAttribute);I.isInstancedMesh!==!0&&at._maxInstanceCount===void 0&&(at._maxInstanceCount=vt.meshPerAttribute*vt.count)}else for(let Pt=0;Pt<Z.locationSize;Pt++)E(Z.location+Pt);n.bindBuffer(n.ARRAY_BUFFER,Ot);for(let Pt=0;Pt<Z.locationSize;Pt++)B(Z.location+Pt,it/Z.locationSize,st,X,it*Et,it/Z.locationSize*Pt*Et,Bt)}}else if(tt!==void 0){const X=tt[et];if(X!==void 0)switch(X.length){case 2:n.vertexAttrib2fv(Z.location,X);break;case 3:n.vertexAttrib3fv(Z.location,X);break;case 4:n.vertexAttrib4fv(Z.location,X);break;default:n.vertexAttrib1fv(Z.location,X)}}}}R()}function U(){z();for(const I in i){const Y=i[I];for(const dt in Y){const at=Y[dt];for(const Q in at)m(at[Q].object),delete at[Q];delete Y[dt]}delete i[I]}}function N(I){if(i[I.id]===void 0)return;const Y=i[I.id];for(const dt in Y){const at=Y[dt];for(const Q in at)m(at[Q].object),delete at[Q];delete Y[dt]}delete i[I.id]}function F(I){for(const Y in i){const dt=i[Y];if(dt[I.id]===void 0)continue;const at=dt[I.id];for(const Q in at)m(at[Q].object),delete at[Q];delete dt[I.id]}}function z(){O(),o=!0,a!==s&&(a=s,d(a.object))}function O(){s.geometry=null,s.program=null,s.wireframe=!1}return{setup:c,reset:z,resetDefaultState:O,dispose:U,releaseStatesOfGeometry:N,releaseStatesOfProgram:F,initAttributes:T,enableAttribute:E,disableUnusedAttributes:R}}function fY(n,t,e){let i;function s(d){i=d}function a(d,m){n.drawArrays(i,d,m),e.update(m,i,1)}function o(d,m,g){g!==0&&(n.drawArraysInstanced(i,d,m,g),e.update(m,i,g))}function c(d,m,g){if(g===0)return;t.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,d,0,m,0,g);let A=0;for(let b=0;b<g;b++)A+=m[b];e.update(A,i,1)}function u(d,m,g,y){if(g===0)return;const A=t.get("WEBGL_multi_draw");if(A===null)for(let b=0;b<d.length;b++)o(d[b],m[b],y[b]);else{A.multiDrawArraysInstancedWEBGL(i,d,0,m,0,y,0,g);let b=0;for(let T=0;T<g;T++)b+=m[T]*y[T];e.update(b,i,1)}}this.setMode=s,this.render=a,this.renderInstances=o,this.renderMultiDraw=c,this.renderMultiDrawInstances=u}function hY(n,t,e,i){let s;function a(){if(s!==void 0)return s;if(t.has("EXT_texture_filter_anisotropic")===!0){const F=t.get("EXT_texture_filter_anisotropic");s=n.getParameter(F.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s}function o(F){return!(F!==na&&i.convert(F)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function c(F){const z=F===dm&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(F!==Uo&&i.convert(F)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&F!==Xa&&!z)}function u(F){if(F==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";F="mediump"}return F==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let d=e.precision!==void 0?e.precision:"highp";const m=u(d);m!==d&&(console.warn("THREE.WebGLRenderer:",d,"not supported, using",m,"instead."),d=m);const g=e.logarithmicDepthBuffer===!0,y=e.reverseDepthBuffer===!0&&t.has("EXT_clip_control"),A=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),b=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),T=n.getParameter(n.MAX_TEXTURE_SIZE),E=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),S=n.getParameter(n.MAX_VERTEX_ATTRIBS),R=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),B=n.getParameter(n.MAX_VARYING_VECTORS),D=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),U=b>0,N=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:u,textureFormatReadable:o,textureTypeReadable:c,precision:d,logarithmicDepthBuffer:g,reverseDepthBuffer:y,maxTextures:A,maxVertexTextures:b,maxTextureSize:T,maxCubemapSize:E,maxAttributes:S,maxVertexUniforms:R,maxVaryings:B,maxFragmentUniforms:D,vertexTextures:U,maxSamples:N}}function dY(n){const t=this;let e=null,i=0,s=!1,a=!1;const o=new Gu,c=new Ye,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(g,y){const A=g.length!==0||y||i!==0||s;return s=y,i=g.length,A},this.beginShadows=function(){a=!0,m(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(g,y){e=m(g,y,0)},this.setState=function(g,y,A){const b=g.clippingPlanes,T=g.clipIntersection,E=g.clipShadows,S=n.get(g);if(!s||b===null||b.length===0||a&&!E)a?m(null):d();else{const R=a?0:i,B=R*4;let D=S.clippingState||null;u.value=D,D=m(b,y,B,A);for(let U=0;U!==B;++U)D[U]=e[U];S.clippingState=D,this.numIntersection=T?this.numPlanes:0,this.numPlanes+=R}};function d(){u.value!==e&&(u.value=e,u.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function m(g,y,A,b){const T=g!==null?g.length:0;let E=null;if(T!==0){if(E=u.value,b!==!0||E===null){const S=A+T*4,R=y.matrixWorldInverse;c.getNormalMatrix(R),(E===null||E.length<S)&&(E=new Float32Array(S));for(let B=0,D=A;B!==T;++B,D+=4)o.copy(g[B]).applyMatrix4(R,c),o.normal.toArray(E,D),E[D+3]=o.constant}u.value=E,u.needsUpdate=!0}return t.numPlanes=T,t.numIntersection=0,E}}function pY(n){let t=new WeakMap;function e(o,c){return c===Y0?o.mapping=Pc:c===W0&&(o.mapping=Wu),o}function i(o){if(o&&o.isTexture){const c=o.mapping;if(c===Y0||c===W0)if(t.has(o)){const u=t.get(o).texture;return e(u,o.mapping)}else{const u=o.image;if(u&&u.height>0){const d=new aP(u.height);return d.fromEquirectangularTexture(n,o),t.set(o,d),o.addEventListener("dispose",s),e(d.texture,o.mapping)}else return null}}return o}function s(o){const c=o.target;c.removeEventListener("dispose",s);const u=t.get(c);u!==void 0&&(t.delete(c),u.dispose())}function a(){t=new WeakMap}return{get:i,dispose:a}}const Lp=4,jB=[.125,.215,.35,.446,.526,.582],xh=20,Fb=new sf,XB=new ie;let zb=null,Hb=0,Gb=0,Vb=!1;const gh=(1+Math.sqrt(5))/2,pp=1/gh,YB=[new q(-gh,pp,0),new q(gh,pp,0),new q(-pp,0,gh),new q(pp,0,gh),new q(0,gh,-pp),new q(0,gh,pp),new q(-1,1,-1),new q(1,1,-1),new q(-1,1,1),new q(1,1,1)];class fE{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,i=.1,s=100){zb=this._renderer.getRenderTarget(),Hb=this._renderer.getActiveCubeFace(),Gb=this._renderer.getActiveMipmapLevel(),Vb=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(t,i,s,a),e>0&&this._blur(a,0,0,e),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=KB(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=qB(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(zb,Hb,Gb),this._renderer.xr.enabled=Vb,t.scissorTest=!1,ux(t,0,0,t.width,t.height)}_fromTexture(t,e){t.mapping===Pc||t.mapping===Wu?this._setSize(t.image.length===0?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),zb=this._renderer.getRenderTarget(),Hb=this._renderer.getActiveCubeFace(),Gb=this._renderer.getActiveMipmapLevel(),Vb=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=e||this._allocateTargets();return this._textureToCubeUV(t,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,i={magFilter:ki,minFilter:ki,generateMipmaps:!1,type:dm,format:na,colorSpace:Ku,depthBuffer:!1},s=WB(t,e,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=WB(t,e,i);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=mY(a)),this._blurMaterial=gY(a,t,e)}return s}_compileMaterial(t){const e=new ji(this._lodPlanes[0],t);this._renderer.compile(e,Fb)}_sceneToCubeUV(t,e,i,s){const c=new Vi(90,1,e,i),u=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],m=this._renderer,g=m.autoClear,y=m.toneMapping;m.getClearColor(XB),m.toneMapping=wl,m.autoClear=!1;const A=new dr({name:"PMREM.Background",side:Ea,depthWrite:!1,depthTest:!1}),b=new ji(new Jh,A);let T=!1;const E=t.background;E?E.isColor&&(A.color.copy(E),t.background=null,T=!0):(A.color.copy(XB),T=!0);for(let S=0;S<6;S++){const R=S%3;R===0?(c.up.set(0,u[S],0),c.lookAt(d[S],0,0)):R===1?(c.up.set(0,0,u[S]),c.lookAt(0,d[S],0)):(c.up.set(0,u[S],0),c.lookAt(0,0,d[S]));const B=this._cubeSize;ux(s,R*B,S>2?B:0,B,B),m.setRenderTarget(s),T&&m.render(b,c),m.render(t,c)}b.geometry.dispose(),b.material.dispose(),m.toneMapping=y,m.autoClear=g,t.background=E}_textureToCubeUV(t,e){const i=this._renderer,s=t.mapping===Pc||t.mapping===Wu;s?(this._cubemapMaterial===null&&(this._cubemapMaterial=KB()),this._cubemapMaterial.uniforms.flipEnvMap.value=t.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=qB());const a=s?this._cubemapMaterial:this._equirectMaterial,o=new ji(this._lodPlanes[0],a),c=a.uniforms;c.envMap.value=t;const u=this._cubeSize;ux(e,0,0,3*u,2*u),i.setRenderTarget(e),i.render(o,Fb)}_applyPMREM(t){const e=this._renderer,i=e.autoClear;e.autoClear=!1;const s=this._lodPlanes.length;for(let a=1;a<s;a++){const o=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),c=YB[(s-a-1)%YB.length];this._blur(t,a-1,a,o,c)}e.autoClear=i}_blur(t,e,i,s,a){const o=this._pingPongRenderTarget;this._halfBlur(t,o,e,i,s,"latitudinal",a),this._halfBlur(o,t,i,i,s,"longitudinal",a)}_halfBlur(t,e,i,s,a,o,c){const u=this._renderer,d=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,g=new ji(this._lodPlanes[s],d),y=d.uniforms,A=this._sizeLods[i]-1,b=isFinite(a)?Math.PI/(2*A):2*Math.PI/(2*xh-1),T=a/b,E=isFinite(a)?1+Math.floor(m*T):xh;E>xh&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${E} samples when the maximum is set to ${xh}`);const S=[];let R=0;for(let F=0;F<xh;++F){const z=F/T,O=Math.exp(-z*z/2);S.push(O),F===0?R+=O:F<E&&(R+=2*O)}for(let F=0;F<S.length;F++)S[F]=S[F]/R;y.envMap.value=t.texture,y.samples.value=E,y.weights.value=S,y.latitudinal.value=o==="latitudinal",c&&(y.poleAxis.value=c);const{_lodMax:B}=this;y.dTheta.value=b,y.mipInt.value=B-i;const D=this._sizeLods[s],U=3*D*(s>B-Lp?s-B+Lp:0),N=4*(this._cubeSize-D);ux(e,U,N,3*D,2*D),u.setRenderTarget(e),u.render(g,Fb)}}function mY(n){const t=[],e=[],i=[];let s=n;const a=n-Lp+1+jB.length;for(let o=0;o<a;o++){const c=Math.pow(2,s);e.push(c);let u=1/c;o>n-Lp?u=jB[o-n+Lp-1]:o===0&&(u=0),i.push(u);const d=1/(c-2),m=-d,g=1+d,y=[m,m,g,m,g,g,m,m,g,g,m,g],A=6,b=6,T=3,E=2,S=1,R=new Float32Array(T*b*A),B=new Float32Array(E*b*A),D=new Float32Array(S*b*A);for(let N=0;N<A;N++){const F=N%3*2/3-1,z=N>2?0:-1,O=[F,z,0,F+2/3,z,0,F+2/3,z+1,0,F,z,0,F+2/3,z+1,0,F,z+1,0];R.set(O,T*b*N),B.set(y,E*b*N);const I=[N,N,N,N,N,N];D.set(I,S*b*N)}const U=new We;U.setAttribute("position",new wn(R,T)),U.setAttribute("uv",new wn(B,E)),U.setAttribute("faceIndex",new wn(D,S)),t.push(U),s>Lp&&s--}return{lodPlanes:t,sizeLods:e,sigmas:i}}function WB(n,t,e){const i=new Pl(n,t,e);return i.texture.mapping=hm,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function ux(n,t,e,i,s){n.viewport.set(t,e,i,s),n.scissor.set(t,e,i,s)}function gY(n,t,e){const i=new Float32Array(xh),s=new q(0,1,0);return new Oo({name:"SphericalGaussianBlur",defines:{n:xh,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/e,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:TC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Dc,depthTest:!1,depthWrite:!1})}function qB(){return new Oo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:TC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Dc,depthTest:!1,depthWrite:!1})}function KB(){return new Oo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:TC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Dc,depthTest:!1,depthWrite:!1})}function TC(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function vY(n){let t=new WeakMap,e=null;function i(c){if(c&&c.isTexture){const u=c.mapping,d=u===Y0||u===W0,m=u===Pc||u===Wu;if(d||m){let g=t.get(c);const y=g!==void 0?g.texture.pmremVersion:0;if(c.isRenderTargetTexture&&c.pmremVersion!==y)return e===null&&(e=new fE(n)),g=d?e.fromEquirectangular(c,g):e.fromCubemap(c,g),g.texture.pmremVersion=c.pmremVersion,t.set(c,g),g.texture;if(g!==void 0)return g.texture;{const A=c.image;return d&&A&&A.height>0||m&&A&&s(A)?(e===null&&(e=new fE(n)),g=d?e.fromEquirectangular(c):e.fromCubemap(c),g.texture.pmremVersion=c.pmremVersion,t.set(c,g),c.addEventListener("dispose",a),g.texture):null}}}return c}function s(c){let u=0;const d=6;for(let m=0;m<d;m++)c[m]!==void 0&&u++;return u===d}function a(c){const u=c.target;u.removeEventListener("dispose",a);const d=t.get(u);d!==void 0&&(t.delete(u),d.dispose())}function o(){t=new WeakMap,e!==null&&(e.dispose(),e=null)}return{get:i,dispose:o}}function yY(n){const t={};function e(i){if(t[i]!==void 0)return t[i];let s;switch(i){case"WEBGL_depth_texture":s=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":s=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":s=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":s=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:s=n.getExtension(i)}return t[i]=s,s}return{has:function(i){return e(i)!==null},init:function(){e("EXT_color_buffer_float"),e("WEBGL_clip_cull_distance"),e("OES_texture_float_linear"),e("EXT_color_buffer_half_float"),e("WEBGL_multisampled_render_to_texture"),e("WEBGL_render_shared_exponent")},get:function(i){const s=e(i);return s===null&&Sp("THREE.WebGLRenderer: "+i+" extension not supported."),s}}}function xY(n,t,e,i){const s={},a=new WeakMap;function o(g){const y=g.target;y.index!==null&&t.remove(y.index);for(const b in y.attributes)t.remove(y.attributes[b]);y.removeEventListener("dispose",o),delete s[y.id];const A=a.get(y);A&&(t.remove(A),a.delete(y)),i.releaseStatesOfGeometry(y),y.isInstancedBufferGeometry===!0&&delete y._maxInstanceCount,e.memory.geometries--}function c(g,y){return s[y.id]===!0||(y.addEventListener("dispose",o),s[y.id]=!0,e.memory.geometries++),y}function u(g){const y=g.attributes;for(const A in y)t.update(y[A],n.ARRAY_BUFFER)}function d(g){const y=[],A=g.index,b=g.attributes.position;let T=0;if(A!==null){const R=A.array;T=A.version;for(let B=0,D=R.length;B<D;B+=3){const U=R[B+0],N=R[B+1],F=R[B+2];y.push(U,N,N,F,F,U)}}else if(b!==void 0){const R=b.array;T=b.version;for(let B=0,D=R.length/3-1;B<D;B+=3){const U=B+0,N=B+1,F=B+2;y.push(U,N,N,F,F,U)}}else return;const E=new(QO(y)?JT:KT)(y,1);E.version=T;const S=a.get(g);S&&t.remove(S),a.set(g,E)}function m(g){const y=a.get(g);if(y){const A=g.index;A!==null&&y.version<A.version&&d(g)}else d(g);return a.get(g)}return{get:c,update:u,getWireframeAttribute:m}}function AY(n,t,e){let i;function s(y){i=y}let a,o;function c(y){a=y.type,o=y.bytesPerElement}function u(y,A){n.drawElements(i,A,a,y*o),e.update(A,i,1)}function d(y,A,b){b!==0&&(n.drawElementsInstanced(i,A,a,y*o,b),e.update(A,i,b))}function m(y,A,b){if(b===0)return;t.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,A,0,a,y,0,b);let E=0;for(let S=0;S<b;S++)E+=A[S];e.update(E,i,1)}function g(y,A,b,T){if(b===0)return;const E=t.get("WEBGL_multi_draw");if(E===null)for(let S=0;S<y.length;S++)d(y[S]/o,A[S],T[S]);else{E.multiDrawElementsInstancedWEBGL(i,A,0,a,y,0,T,0,b);let S=0;for(let R=0;R<b;R++)S+=A[R]*T[R];e.update(S,i,1)}}this.setMode=s,this.setIndex=c,this.render=u,this.renderInstances=d,this.renderMultiDraw=m,this.renderMultiDrawInstances=g}function _Y(n){const t={geometries:0,textures:0},e={frame:0,calls:0,triangles:0,points:0,lines:0};function i(a,o,c){switch(e.calls++,o){case n.TRIANGLES:e.triangles+=c*(a/3);break;case n.LINES:e.lines+=c*(a/2);break;case n.LINE_STRIP:e.lines+=c*(a-1);break;case n.LINE_LOOP:e.lines+=c*a;break;case n.POINTS:e.points+=c*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function s(){e.calls=0,e.triangles=0,e.points=0,e.lines=0}return{memory:t,render:e,programs:null,autoReset:!0,reset:s,update:i}}function SY(n,t,e){const i=new WeakMap,s=new mn;function a(o,c,u){const d=o.morphTargetInfluences,m=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,g=m!==void 0?m.length:0;let y=i.get(c);if(y===void 0||y.count!==g){let I=function(){z.dispose(),i.delete(c),c.removeEventListener("dispose",I)};var A=I;y!==void 0&&y.texture.dispose();const b=c.morphAttributes.position!==void 0,T=c.morphAttributes.normal!==void 0,E=c.morphAttributes.color!==void 0,S=c.morphAttributes.position||[],R=c.morphAttributes.normal||[],B=c.morphAttributes.color||[];let D=0;b===!0&&(D=1),T===!0&&(D=2),E===!0&&(D=3);let U=c.attributes.position.count*D,N=1;U>t.maxTextureSize&&(N=Math.ceil(U/t.maxTextureSize),U=t.maxTextureSize);const F=new Float32Array(U*N*4*g),z=new Sv(F,U,N,g);z.type=Xa,z.needsUpdate=!0;const O=D*4;for(let Y=0;Y<g;Y++){const dt=S[Y],at=R[Y],Q=B[Y],lt=U*N*4*Y;for(let tt=0;tt<dt.count;tt++){const et=tt*O;b===!0&&(s.fromBufferAttribute(dt,tt),F[lt+et+0]=s.x,F[lt+et+1]=s.y,F[lt+et+2]=s.z,F[lt+et+3]=0),T===!0&&(s.fromBufferAttribute(at,tt),F[lt+et+4]=s.x,F[lt+et+5]=s.y,F[lt+et+6]=s.z,F[lt+et+7]=0),E===!0&&(s.fromBufferAttribute(Q,tt),F[lt+et+8]=s.x,F[lt+et+9]=s.y,F[lt+et+10]=s.z,F[lt+et+11]=Q.itemSize===4?s.w:1)}}y={count:g,texture:z,size:new Ft(U,N)},i.set(c,y),c.addEventListener("dispose",I)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)u.getUniforms().setValue(n,"morphTexture",o.morphTexture,e);else{let b=0;for(let E=0;E<d.length;E++)b+=d[E];const T=c.morphTargetsRelative?1:1-b;u.getUniforms().setValue(n,"morphTargetBaseInfluence",T),u.getUniforms().setValue(n,"morphTargetInfluences",d)}u.getUniforms().setValue(n,"morphTargetsTexture",y.texture,e),u.getUniforms().setValue(n,"morphTargetsTextureSize",y.size)}return{update:a}}function bY(n,t,e,i){let s=new WeakMap;function a(u){const d=i.render.frame,m=u.geometry,g=t.get(u,m);if(s.get(g)!==d&&(t.update(g),s.set(g,d)),u.isInstancedMesh&&(u.hasEventListener("dispose",c)===!1&&u.addEventListener("dispose",c),s.get(u)!==d&&(e.update(u.instanceMatrix,n.ARRAY_BUFFER),u.instanceColor!==null&&e.update(u.instanceColor,n.ARRAY_BUFFER),s.set(u,d))),u.isSkinnedMesh){const y=u.skeleton;s.get(y)!==d&&(y.update(),s.set(y,d))}return g}function o(){s=new WeakMap}function c(u){const d=u.target;d.removeEventListener("dispose",c),e.remove(d.instanceMatrix),d.instanceColor!==null&&e.remove(d.instanceColor)}return{update:a,dispose:o}}const QP=new ui,JB=new iC(1,1),$P=new Sv,t4=new x_,e4=new bv,ZB=[],QB=[],$B=new Float32Array(16),t3=new Float32Array(9),e3=new Float32Array(4);function ym(n,t,e){const i=n[0];if(i<=0||i>0)return n;const s=t*e;let a=ZB[s];if(a===void 0&&(a=new Float32Array(s),ZB[s]=a),t!==0){i.toArray(a,0);for(let o=1,c=0;o!==t;++o)c+=e,n[o].toArray(a,c)}return a}function as(n,t){if(n.length!==t.length)return!1;for(let e=0,i=n.length;e<i;e++)if(n[e]!==t[e])return!1;return!0}function rs(n,t){for(let e=0,i=t.length;e<i;e++)n[e]=t[e]}function G_(n,t){let e=QB[t];e===void 0&&(e=new Int32Array(t),QB[t]=e);for(let i=0;i!==t;++i)e[i]=n.allocateTextureUnit();return e}function MY(n,t){const e=this.cache;e[0]!==t&&(n.uniform1f(this.addr,t),e[0]=t)}function EY(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2f(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(as(e,t))return;n.uniform2fv(this.addr,t),rs(e,t)}}function TY(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3f(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else if(t.r!==void 0)(e[0]!==t.r||e[1]!==t.g||e[2]!==t.b)&&(n.uniform3f(this.addr,t.r,t.g,t.b),e[0]=t.r,e[1]=t.g,e[2]=t.b);else{if(as(e,t))return;n.uniform3fv(this.addr,t),rs(e,t)}}function CY(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4f(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(as(e,t))return;n.uniform4fv(this.addr,t),rs(e,t)}}function wY(n,t){const e=this.cache,i=t.elements;if(i===void 0){if(as(e,t))return;n.uniformMatrix2fv(this.addr,!1,t),rs(e,t)}else{if(as(e,i))return;e3.set(i),n.uniformMatrix2fv(this.addr,!1,e3),rs(e,i)}}function RY(n,t){const e=this.cache,i=t.elements;if(i===void 0){if(as(e,t))return;n.uniformMatrix3fv(this.addr,!1,t),rs(e,t)}else{if(as(e,i))return;t3.set(i),n.uniformMatrix3fv(this.addr,!1,t3),rs(e,i)}}function BY(n,t){const e=this.cache,i=t.elements;if(i===void 0){if(as(e,t))return;n.uniformMatrix4fv(this.addr,!1,t),rs(e,t)}else{if(as(e,i))return;$B.set(i),n.uniformMatrix4fv(this.addr,!1,$B),rs(e,i)}}function DY(n,t){const e=this.cache;e[0]!==t&&(n.uniform1i(this.addr,t),e[0]=t)}function LY(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2i(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(as(e,t))return;n.uniform2iv(this.addr,t),rs(e,t)}}function NY(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3i(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(as(e,t))return;n.uniform3iv(this.addr,t),rs(e,t)}}function UY(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4i(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(as(e,t))return;n.uniform4iv(this.addr,t),rs(e,t)}}function OY(n,t){const e=this.cache;e[0]!==t&&(n.uniform1ui(this.addr,t),e[0]=t)}function PY(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2ui(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(as(e,t))return;n.uniform2uiv(this.addr,t),rs(e,t)}}function IY(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3ui(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(as(e,t))return;n.uniform3uiv(this.addr,t),rs(e,t)}}function FY(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4ui(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(as(e,t))return;n.uniform4uiv(this.addr,t),rs(e,t)}}function zY(n,t,e){const i=this.cache,s=e.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s);let a;this.type===n.SAMPLER_2D_SHADOW?(JB.compareFunction=YT,a=JB):a=QP,e.setTexture2D(t||a,s)}function HY(n,t,e){const i=this.cache,s=e.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),e.setTexture3D(t||t4,s)}function GY(n,t,e){const i=this.cache,s=e.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),e.setTextureCube(t||e4,s)}function VY(n,t,e){const i=this.cache,s=e.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),e.setTexture2DArray(t||$P,s)}function kY(n){switch(n){case 5126:return MY;case 35664:return EY;case 35665:return TY;case 35666:return CY;case 35674:return wY;case 35675:return RY;case 35676:return BY;case 5124:case 35670:return DY;case 35667:case 35671:return LY;case 35668:case 35672:return NY;case 35669:case 35673:return UY;case 5125:return OY;case 36294:return PY;case 36295:return IY;case 36296:return FY;case 35678:case 36198:case 36298:case 36306:case 35682:return zY;case 35679:case 36299:case 36307:return HY;case 35680:case 36300:case 36308:case 36293:return GY;case 36289:case 36303:case 36311:case 36292:return VY}}function jY(n,t){n.uniform1fv(this.addr,t)}function XY(n,t){const e=ym(t,this.size,2);n.uniform2fv(this.addr,e)}function YY(n,t){const e=ym(t,this.size,3);n.uniform3fv(this.addr,e)}function WY(n,t){const e=ym(t,this.size,4);n.uniform4fv(this.addr,e)}function qY(n,t){const e=ym(t,this.size,4);n.uniformMatrix2fv(this.addr,!1,e)}function KY(n,t){const e=ym(t,this.size,9);n.uniformMatrix3fv(this.addr,!1,e)}function JY(n,t){const e=ym(t,this.size,16);n.uniformMatrix4fv(this.addr,!1,e)}function ZY(n,t){n.uniform1iv(this.addr,t)}function QY(n,t){n.uniform2iv(this.addr,t)}function $Y(n,t){n.uniform3iv(this.addr,t)}function tW(n,t){n.uniform4iv(this.addr,t)}function eW(n,t){n.uniform1uiv(this.addr,t)}function nW(n,t){n.uniform2uiv(this.addr,t)}function iW(n,t){n.uniform3uiv(this.addr,t)}function sW(n,t){n.uniform4uiv(this.addr,t)}function aW(n,t,e){const i=this.cache,s=t.length,a=G_(e,s);as(i,a)||(n.uniform1iv(this.addr,a),rs(i,a));for(let o=0;o!==s;++o)e.setTexture2D(t[o]||QP,a[o])}function rW(n,t,e){const i=this.cache,s=t.length,a=G_(e,s);as(i,a)||(n.uniform1iv(this.addr,a),rs(i,a));for(let o=0;o!==s;++o)e.setTexture3D(t[o]||t4,a[o])}function oW(n,t,e){const i=this.cache,s=t.length,a=G_(e,s);as(i,a)||(n.uniform1iv(this.addr,a),rs(i,a));for(let o=0;o!==s;++o)e.setTextureCube(t[o]||e4,a[o])}function lW(n,t,e){const i=this.cache,s=t.length,a=G_(e,s);as(i,a)||(n.uniform1iv(this.addr,a),rs(i,a));for(let o=0;o!==s;++o)e.setTexture2DArray(t[o]||$P,a[o])}function cW(n){switch(n){case 5126:return jY;case 35664:return XY;case 35665:return YY;case 35666:return WY;case 35674:return qY;case 35675:return KY;case 35676:return JY;case 5124:case 35670:return ZY;case 35667:case 35671:return QY;case 35668:case 35672:return $Y;case 35669:case 35673:return tW;case 5125:return eW;case 36294:return nW;case 36295:return iW;case 36296:return sW;case 35678:case 36198:case 36298:case 36306:case 35682:return aW;case 35679:case 36299:case 36307:return rW;case 35680:case 36300:case 36308:case 36293:return oW;case 36289:case 36303:case 36311:case 36292:return lW}}class uW{constructor(t,e,i){this.id=t,this.addr=i,this.cache=[],this.type=e.type,this.setValue=kY(e.type)}}class fW{constructor(t,e,i){this.id=t,this.addr=i,this.cache=[],this.type=e.type,this.size=e.size,this.setValue=cW(e.type)}}class hW{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,e,i){const s=this.seq;for(let a=0,o=s.length;a!==o;++a){const c=s[a];c.setValue(t,e[c.id],i)}}}const kb=/(\w+)(\])?(\[|\.)?/g;function n3(n,t){n.seq.push(t),n.map[t.id]=t}function dW(n,t,e){const i=n.name,s=i.length;for(kb.lastIndex=0;;){const a=kb.exec(i),o=kb.lastIndex;let c=a[1];const u=a[2]==="]",d=a[3];if(u&&(c=c|0),d===void 0||d==="["&&o+2===s){n3(e,d===void 0?new uW(c,n,t):new fW(c,n,t));break}else{let g=e.map[c];g===void 0&&(g=new hW(c),n3(e,g)),e=g}}}class Lx{constructor(t,e){this.seq=[],this.map={};const i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let s=0;s<i;++s){const a=t.getActiveUniform(e,s),o=t.getUniformLocation(e,a.name);dW(a,o,this)}}setValue(t,e,i,s){const a=this.map[e];a!==void 0&&a.setValue(t,i,s)}setOptional(t,e,i){const s=e[i];s!==void 0&&this.setValue(t,i,s)}static upload(t,e,i,s){for(let a=0,o=e.length;a!==o;++a){const c=e[a],u=i[c.id];u.needsUpdate!==!1&&c.setValue(t,u.value,s)}}static seqWithValue(t,e){const i=[];for(let s=0,a=t.length;s!==a;++s){const o=t[s];o.id in e&&i.push(o)}return i}}function i3(n,t,e){const i=n.createShader(t);return n.shaderSource(i,e),n.compileShader(i),i}const pW=37297;let mW=0;function gW(n,t){const e=n.split(`
`),i=[],s=Math.max(t-6,0),a=Math.min(t+6,e.length);for(let o=s;o<a;o++){const c=o+1;i.push(`${c===t?">":" "} ${c}: ${e[o]}`)}return i.join(`
`)}const s3=new Ye;function vW(n){Sn._getMatrix(s3,Sn.workingColorSpace,n);const t=`mat3( ${s3.elements.map(e=>e.toFixed(4))} )`;switch(Sn.getTransfer(n)){case K0:return[t,"LinearTransferOETF"];case jn:return[t,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[t,"LinearTransferOETF"]}}function a3(n,t,e){const i=n.getShaderParameter(t,n.COMPILE_STATUS),s=n.getShaderInfoLog(t).trim();if(i&&s==="")return"";const a=/ERROR: 0:(\d+)/.exec(s);if(a){const o=parseInt(a[1]);return e.toUpperCase()+`

`+s+`

`+gW(n.getShaderSource(t),o)}else return s}function yW(n,t){const e=vW(t);return[`vec4 ${n}( vec4 value ) {`,`	return ${e[1]}( vec4( value.rgb * ${e[0]}, value.a ) );`,"}"].join(`
`)}function xW(n,t){let e;switch(t){case DO:e="Linear";break;case LO:e="Reinhard";break;case NO:e="Cineon";break;case UT:e="ACESFilmic";break;case OO:e="AgX";break;case PO:e="Neutral";break;case UO:e="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),e="Linear"}return"vec3 "+n+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}const fx=new q;function AW(){Sn.getLuminanceCoefficients(fx);const n=fx.x.toFixed(4),t=fx.y.toFixed(4),e=fx.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${t}, ${e} );`,"	return dot( weights, rgb );","}"].join(`
`)}function _W(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(d0).join(`
`)}function SW(n){const t=[];for(const e in n){const i=n[e];i!==!1&&t.push("#define "+e+" "+i)}return t.join(`
`)}function bW(n,t){const e={},i=n.getProgramParameter(t,n.ACTIVE_ATTRIBUTES);for(let s=0;s<i;s++){const a=n.getActiveAttrib(t,s),o=a.name;let c=1;a.type===n.FLOAT_MAT2&&(c=2),a.type===n.FLOAT_MAT3&&(c=3),a.type===n.FLOAT_MAT4&&(c=4),e[o]={type:a.type,location:n.getAttribLocation(t,o),locationSize:c}}return e}function d0(n){return n!==""}function r3(n,t){const e=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,e).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function o3(n,t){return n.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const MW=/^[ \t]*#include +<([\w\d./]+)>/gm;function hE(n){return n.replace(MW,TW)}const EW=new Map;function TW(n,t){let e=tn[t];if(e===void 0){const i=EW.get(t);if(i!==void 0)e=tn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,i);else throw new Error("Can not resolve #include <"+t+">")}return hE(e)}const CW=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function l3(n){return n.replace(CW,wW)}function wW(n,t,e,i){let s="";for(let a=parseInt(t);a<parseInt(e);a++)s+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return s}function c3(n){let t=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?t+=`
#define HIGH_PRECISION`:n.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function RW(n){let t="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===l_?t="SHADOWMAP_TYPE_PCF":n.shadowMapType===S0?t="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Ro&&(t="SHADOWMAP_TYPE_VSM"),t}function BW(n){let t="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Pc:case Wu:t="ENVMAP_TYPE_CUBE";break;case hm:t="ENVMAP_TYPE_CUBE_UV";break}return t}function DW(n){let t="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Wu:t="ENVMAP_MODE_REFRACTION";break}return t}function LW(n){let t="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Av:t="ENVMAP_BLENDING_MULTIPLY";break;case RO:t="ENVMAP_BLENDING_MIX";break;case BO:t="ENVMAP_BLENDING_ADD";break}return t}function NW(n){const t=n.envMapCubeUVHeight;if(t===null)return null;const e=Math.log2(t)-2,i=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,e),7*16)),texelHeight:i,maxMip:e}}function UW(n,t,e,i){const s=n.getContext(),a=e.defines;let o=e.vertexShader,c=e.fragmentShader;const u=RW(e),d=BW(e),m=DW(e),g=LW(e),y=NW(e),A=_W(e),b=SW(a),T=s.createProgram();let E,S,R=e.glslVersion?"#version "+e.glslVersion+`
`:"";e.isRawShaderMaterial?(E=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,b].filter(d0).join(`
`),E.length>0&&(E+=`
`),S=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,b].filter(d0).join(`
`),S.length>0&&(S+=`
`)):(E=[c3(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,b,e.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",e.batching?"#define USE_BATCHING":"",e.batchingColor?"#define USE_BATCHING_COLOR":"",e.instancing?"#define USE_INSTANCING":"",e.instancingColor?"#define USE_INSTANCING_COLOR":"",e.instancingMorph?"#define USE_INSTANCING_MORPH":"",e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+m:"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.displacementMap?"#define USE_DISPLACEMENTMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.mapUv?"#define MAP_UV "+e.mapUv:"",e.alphaMapUv?"#define ALPHAMAP_UV "+e.alphaMapUv:"",e.lightMapUv?"#define LIGHTMAP_UV "+e.lightMapUv:"",e.aoMapUv?"#define AOMAP_UV "+e.aoMapUv:"",e.emissiveMapUv?"#define EMISSIVEMAP_UV "+e.emissiveMapUv:"",e.bumpMapUv?"#define BUMPMAP_UV "+e.bumpMapUv:"",e.normalMapUv?"#define NORMALMAP_UV "+e.normalMapUv:"",e.displacementMapUv?"#define DISPLACEMENTMAP_UV "+e.displacementMapUv:"",e.metalnessMapUv?"#define METALNESSMAP_UV "+e.metalnessMapUv:"",e.roughnessMapUv?"#define ROUGHNESSMAP_UV "+e.roughnessMapUv:"",e.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+e.anisotropyMapUv:"",e.clearcoatMapUv?"#define CLEARCOATMAP_UV "+e.clearcoatMapUv:"",e.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+e.clearcoatNormalMapUv:"",e.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+e.clearcoatRoughnessMapUv:"",e.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+e.iridescenceMapUv:"",e.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+e.iridescenceThicknessMapUv:"",e.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+e.sheenColorMapUv:"",e.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+e.sheenRoughnessMapUv:"",e.specularMapUv?"#define SPECULARMAP_UV "+e.specularMapUv:"",e.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+e.specularColorMapUv:"",e.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+e.specularIntensityMapUv:"",e.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+e.transmissionMapUv:"",e.thicknessMapUv?"#define THICKNESSMAP_UV "+e.thicknessMapUv:"",e.vertexTangents&&e.flatShading===!1?"#define USE_TANGENT":"",e.vertexColors?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.flatShading?"#define FLAT_SHADED":"",e.skinning?"#define USE_SKINNING":"",e.morphTargets?"#define USE_MORPHTARGETS":"",e.morphNormals&&e.flatShading===!1?"#define USE_MORPHNORMALS":"",e.morphColors?"#define USE_MORPHCOLORS":"",e.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+e.morphTextureStride:"",e.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+e.morphTargetsCount:"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+u:"",e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(d0).join(`
`),S=[c3(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,b,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",e.map?"#define USE_MAP":"",e.matcap?"#define USE_MATCAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+d:"",e.envMap?"#define "+m:"",e.envMap?"#define "+g:"",y?"#define CUBEUV_TEXEL_WIDTH "+y.texelWidth:"",y?"#define CUBEUV_TEXEL_HEIGHT "+y.texelHeight:"",y?"#define CUBEUV_MAX_MIP "+y.maxMip+".0":"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoat?"#define USE_CLEARCOAT":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.dispersion?"#define USE_DISPERSION":"",e.iridescence?"#define USE_IRIDESCENCE":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaTest?"#define USE_ALPHATEST":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.sheen?"#define USE_SHEEN":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.vertexTangents&&e.flatShading===!1?"#define USE_TANGENT":"",e.vertexColors||e.instancingColor||e.batchingColor?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.gradientMap?"#define USE_GRADIENTMAP":"",e.flatShading?"#define FLAT_SHADED":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+u:"",e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",e.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",e.toneMapping!==wl?"#define TONE_MAPPING":"",e.toneMapping!==wl?tn.tonemapping_pars_fragment:"",e.toneMapping!==wl?xW("toneMapping",e.toneMapping):"",e.dithering?"#define DITHERING":"",e.opaque?"#define OPAQUE":"",tn.colorspace_pars_fragment,yW("linearToOutputTexel",e.outputColorSpace),AW(),e.useDepthPacking?"#define DEPTH_PACKING "+e.depthPacking:"",`
`].filter(d0).join(`
`)),o=hE(o),o=r3(o,e),o=o3(o,e),c=hE(c),c=r3(c,e),c=o3(c,e),o=l3(o),c=l3(c),e.isRawShaderMaterial!==!0&&(R=`#version 300 es
`,E=[A,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+E,S=["#define varying in",e.glslVersion===sE?"":"layout(location = 0) out highp vec4 pc_fragColor;",e.glslVersion===sE?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+S);const B=R+E+o,D=R+S+c,U=i3(s,s.VERTEX_SHADER,B),N=i3(s,s.FRAGMENT_SHADER,D);s.attachShader(T,U),s.attachShader(T,N),e.index0AttributeName!==void 0?s.bindAttribLocation(T,0,e.index0AttributeName):e.morphTargets===!0&&s.bindAttribLocation(T,0,"position"),s.linkProgram(T);function F(Y){if(n.debug.checkShaderErrors){const dt=s.getProgramInfoLog(T).trim(),at=s.getShaderInfoLog(U).trim(),Q=s.getShaderInfoLog(N).trim();let lt=!0,tt=!0;if(s.getProgramParameter(T,s.LINK_STATUS)===!1)if(lt=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(s,T,U,N);else{const et=a3(s,U,"vertex"),Z=a3(s,N,"fragment");console.error("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(T,s.VALIDATE_STATUS)+`

Material Name: `+Y.name+`
Material Type: `+Y.type+`

Program Info Log: `+dt+`
`+et+`
`+Z)}else dt!==""?console.warn("THREE.WebGLProgram: Program Info Log:",dt):(at===""||Q==="")&&(tt=!1);tt&&(Y.diagnostics={runnable:lt,programLog:dt,vertexShader:{log:at,prefix:E},fragmentShader:{log:Q,prefix:S}})}s.deleteShader(U),s.deleteShader(N),z=new Lx(s,T),O=bW(s,T)}let z;this.getUniforms=function(){return z===void 0&&F(this),z};let O;this.getAttributes=function(){return O===void 0&&F(this),O};let I=e.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return I===!1&&(I=s.getProgramParameter(T,pW)),I},this.destroy=function(){i.releaseStatesOfProgram(this),s.deleteProgram(T),this.program=void 0},this.type=e.shaderType,this.name=e.shaderName,this.id=mW++,this.cacheKey=t,this.usedTimes=1,this.program=T,this.vertexShader=U,this.fragmentShader=N,this}let OW=0;class PW{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const e=t.vertexShader,i=t.fragmentShader,s=this._getShaderStage(e),a=this._getShaderStage(i),o=this._getShaderCacheForMaterial(t);return o.has(s)===!1&&(o.add(s),s.usedTimes++),o.has(a)===!1&&(o.add(a),a.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const i of e)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;let i=e.get(t);return i===void 0&&(i=new Set,e.set(t,i)),i}_getShaderStage(t){const e=this.shaderCache;let i=e.get(t);return i===void 0&&(i=new IW(t),e.set(t,i)),i}}class IW{constructor(t){this.id=OW++,this.code=t,this.usedTimes=0}}function FW(n,t,e,i,s,a,o){const c=new Qp,u=new PW,d=new Set,m=[],g=s.logarithmicDepthBuffer,y=s.vertexTextures;let A=s.precision;const b={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function T(O){return d.add(O),O===0?"uv":`uv${O}`}function E(O,I,Y,dt,at){const Q=dt.fog,lt=at.geometry,tt=O.isMeshStandardMaterial?dt.environment:null,et=(O.isMeshStandardMaterial?e:t).get(O.envMap||tt),Z=et&&et.mapping===hm?et.image.height:null,vt=b[O.type];O.precision!==null&&(A=s.getMaxPrecision(O.precision),A!==O.precision&&console.warn("THREE.WebGLProgram.getParameters:",O.precision,"not supported, using",A,"instead."));const X=lt.morphAttributes.position||lt.morphAttributes.normal||lt.morphAttributes.color,it=X!==void 0?X.length:0;let Mt=0;lt.morphAttributes.position!==void 0&&(Mt=1),lt.morphAttributes.normal!==void 0&&(Mt=2),lt.morphAttributes.color!==void 0&&(Mt=3);let Ot,st,Et,Bt;if(vt){const dn=Bo[vt];Ot=dn.vertexShader,st=dn.fragmentShader}else Ot=O.vertexShader,st=O.fragmentShader,u.update(O),Et=u.getVertexShaderID(O),Bt=u.getFragmentShaderID(O);const Pt=n.getRenderTarget(),Ht=n.state.buffers.depth.getReversed(),fe=at.isInstancedMesh===!0,Xt=at.isBatchedMesh===!0,ne=!!O.map,Dt=!!O.matcap,Rt=!!et,K=!!O.aoMap,he=!!O.lightMap,Vt=!!O.bumpMap,Qt=!!O.normalMap,Jt=!!O.displacementMap,_e=!!O.emissiveMap,Zt=!!O.metalnessMap,W=!!O.roughnessMap,H=O.anisotropy>0,yt=O.clearcoat>0,Ct=O.dispersion>0,Gt=O.iridescence>0,Lt=O.sheen>0,ue=O.transmission>0,ee=H&&!!O.anisotropyMap,de=yt&&!!O.clearcoatMap,Ke=yt&&!!O.clearcoatNormalMap,qt=yt&&!!O.clearcoatRoughnessMap,me=Gt&&!!O.iridescenceMap,xe=Gt&&!!O.iridescenceThicknessMap,ye=Lt&&!!O.sheenColorMap,pe=Lt&&!!O.sheenRoughnessMap,He=!!O.specularMap,be=!!O.specularColorMap,bn=!!O.specularIntensityMap,ct=ue&&!!O.transmissionMap,ae=ue&&!!O.thicknessMap,Tt=!!O.gradientMap,It=!!O.alphaMap,te=O.alphaTest>0,se=!!O.alphaHash,Le=!!O.extensions;let Gn=wl;O.toneMapped&&(Pt===null||Pt.isXRRenderTarget===!0)&&(Gn=n.toneMapping);const ni={shaderID:vt,shaderType:O.type,shaderName:O.name,vertexShader:Ot,fragmentShader:st,defines:O.defines,customVertexShaderID:Et,customFragmentShaderID:Bt,isRawShaderMaterial:O.isRawShaderMaterial===!0,glslVersion:O.glslVersion,precision:A,batching:Xt,batchingColor:Xt&&at._colorsTexture!==null,instancing:fe,instancingColor:fe&&at.instanceColor!==null,instancingMorph:fe&&at.morphTexture!==null,supportsVertexTextures:y,outputColorSpace:Pt===null?n.outputColorSpace:Pt.isXRRenderTarget===!0?Pt.texture.colorSpace:Ku,alphaToCoverage:!!O.alphaToCoverage,map:ne,matcap:Dt,envMap:Rt,envMapMode:Rt&&et.mapping,envMapCubeUVHeight:Z,aoMap:K,lightMap:he,bumpMap:Vt,normalMap:Qt,displacementMap:y&&Jt,emissiveMap:_e,normalMapObjectSpace:Qt&&O.normalMapType===jO,normalMapTangentSpace:Qt&&O.normalMapType===tf,metalnessMap:Zt,roughnessMap:W,anisotropy:H,anisotropyMap:ee,clearcoat:yt,clearcoatMap:de,clearcoatNormalMap:Ke,clearcoatRoughnessMap:qt,dispersion:Ct,iridescence:Gt,iridescenceMap:me,iridescenceThicknessMap:xe,sheen:Lt,sheenColorMap:ye,sheenRoughnessMap:pe,specularMap:He,specularColorMap:be,specularIntensityMap:bn,transmission:ue,transmissionMap:ct,thicknessMap:ae,gradientMap:Tt,opaque:O.transparent===!1&&O.blending===Dh&&O.alphaToCoverage===!1,alphaMap:It,alphaTest:te,alphaHash:se,combine:O.combine,mapUv:ne&&T(O.map.channel),aoMapUv:K&&T(O.aoMap.channel),lightMapUv:he&&T(O.lightMap.channel),bumpMapUv:Vt&&T(O.bumpMap.channel),normalMapUv:Qt&&T(O.normalMap.channel),displacementMapUv:Jt&&T(O.displacementMap.channel),emissiveMapUv:_e&&T(O.emissiveMap.channel),metalnessMapUv:Zt&&T(O.metalnessMap.channel),roughnessMapUv:W&&T(O.roughnessMap.channel),anisotropyMapUv:ee&&T(O.anisotropyMap.channel),clearcoatMapUv:de&&T(O.clearcoatMap.channel),clearcoatNormalMapUv:Ke&&T(O.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:qt&&T(O.clearcoatRoughnessMap.channel),iridescenceMapUv:me&&T(O.iridescenceMap.channel),iridescenceThicknessMapUv:xe&&T(O.iridescenceThicknessMap.channel),sheenColorMapUv:ye&&T(O.sheenColorMap.channel),sheenRoughnessMapUv:pe&&T(O.sheenRoughnessMap.channel),specularMapUv:He&&T(O.specularMap.channel),specularColorMapUv:be&&T(O.specularColorMap.channel),specularIntensityMapUv:bn&&T(O.specularIntensityMap.channel),transmissionMapUv:ct&&T(O.transmissionMap.channel),thicknessMapUv:ae&&T(O.thicknessMap.channel),alphaMapUv:It&&T(O.alphaMap.channel),vertexTangents:!!lt.attributes.tangent&&(Qt||H),vertexColors:O.vertexColors,vertexAlphas:O.vertexColors===!0&&!!lt.attributes.color&&lt.attributes.color.itemSize===4,pointsUvs:at.isPoints===!0&&!!lt.attributes.uv&&(ne||It),fog:!!Q,useFog:O.fog===!0,fogExp2:!!Q&&Q.isFogExp2,flatShading:O.flatShading===!0,sizeAttenuation:O.sizeAttenuation===!0,logarithmicDepthBuffer:g,reverseDepthBuffer:Ht,skinning:at.isSkinnedMesh===!0,morphTargets:lt.morphAttributes.position!==void 0,morphNormals:lt.morphAttributes.normal!==void 0,morphColors:lt.morphAttributes.color!==void 0,morphTargetsCount:it,morphTextureStride:Mt,numDirLights:I.directional.length,numPointLights:I.point.length,numSpotLights:I.spot.length,numSpotLightMaps:I.spotLightMap.length,numRectAreaLights:I.rectArea.length,numHemiLights:I.hemi.length,numDirLightShadows:I.directionalShadowMap.length,numPointLightShadows:I.pointShadowMap.length,numSpotLightShadows:I.spotShadowMap.length,numSpotLightShadowsWithMaps:I.numSpotLightShadowsWithMaps,numLightProbes:I.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:O.dithering,shadowMapEnabled:n.shadowMap.enabled&&Y.length>0,shadowMapType:n.shadowMap.type,toneMapping:Gn,decodeVideoTexture:ne&&O.map.isVideoTexture===!0&&Sn.getTransfer(O.map.colorSpace)===jn,decodeVideoTextureEmissive:_e&&O.emissiveMap.isVideoTexture===!0&&Sn.getTransfer(O.emissiveMap.colorSpace)===jn,premultipliedAlpha:O.premultipliedAlpha,doubleSided:O.side===zr,flipSided:O.side===Ea,useDepthPacking:O.depthPacking>=0,depthPacking:O.depthPacking||0,index0AttributeName:O.index0AttributeName,extensionClipCullDistance:Le&&O.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Le&&O.extensions.multiDraw===!0||Xt)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:O.customProgramCacheKey()};return ni.vertexUv1s=d.has(1),ni.vertexUv2s=d.has(2),ni.vertexUv3s=d.has(3),d.clear(),ni}function S(O){const I=[];if(O.shaderID?I.push(O.shaderID):(I.push(O.customVertexShaderID),I.push(O.customFragmentShaderID)),O.defines!==void 0)for(const Y in O.defines)I.push(Y),I.push(O.defines[Y]);return O.isRawShaderMaterial===!1&&(R(I,O),B(I,O),I.push(n.outputColorSpace)),I.push(O.customProgramCacheKey),I.join()}function R(O,I){O.push(I.precision),O.push(I.outputColorSpace),O.push(I.envMapMode),O.push(I.envMapCubeUVHeight),O.push(I.mapUv),O.push(I.alphaMapUv),O.push(I.lightMapUv),O.push(I.aoMapUv),O.push(I.bumpMapUv),O.push(I.normalMapUv),O.push(I.displacementMapUv),O.push(I.emissiveMapUv),O.push(I.metalnessMapUv),O.push(I.roughnessMapUv),O.push(I.anisotropyMapUv),O.push(I.clearcoatMapUv),O.push(I.clearcoatNormalMapUv),O.push(I.clearcoatRoughnessMapUv),O.push(I.iridescenceMapUv),O.push(I.iridescenceThicknessMapUv),O.push(I.sheenColorMapUv),O.push(I.sheenRoughnessMapUv),O.push(I.specularMapUv),O.push(I.specularColorMapUv),O.push(I.specularIntensityMapUv),O.push(I.transmissionMapUv),O.push(I.thicknessMapUv),O.push(I.combine),O.push(I.fogExp2),O.push(I.sizeAttenuation),O.push(I.morphTargetsCount),O.push(I.morphAttributeCount),O.push(I.numDirLights),O.push(I.numPointLights),O.push(I.numSpotLights),O.push(I.numSpotLightMaps),O.push(I.numHemiLights),O.push(I.numRectAreaLights),O.push(I.numDirLightShadows),O.push(I.numPointLightShadows),O.push(I.numSpotLightShadows),O.push(I.numSpotLightShadowsWithMaps),O.push(I.numLightProbes),O.push(I.shadowMapType),O.push(I.toneMapping),O.push(I.numClippingPlanes),O.push(I.numClipIntersection),O.push(I.depthPacking)}function B(O,I){c.disableAll(),I.supportsVertexTextures&&c.enable(0),I.instancing&&c.enable(1),I.instancingColor&&c.enable(2),I.instancingMorph&&c.enable(3),I.matcap&&c.enable(4),I.envMap&&c.enable(5),I.normalMapObjectSpace&&c.enable(6),I.normalMapTangentSpace&&c.enable(7),I.clearcoat&&c.enable(8),I.iridescence&&c.enable(9),I.alphaTest&&c.enable(10),I.vertexColors&&c.enable(11),I.vertexAlphas&&c.enable(12),I.vertexUv1s&&c.enable(13),I.vertexUv2s&&c.enable(14),I.vertexUv3s&&c.enable(15),I.vertexTangents&&c.enable(16),I.anisotropy&&c.enable(17),I.alphaHash&&c.enable(18),I.batching&&c.enable(19),I.dispersion&&c.enable(20),I.batchingColor&&c.enable(21),O.push(c.mask),c.disableAll(),I.fog&&c.enable(0),I.useFog&&c.enable(1),I.flatShading&&c.enable(2),I.logarithmicDepthBuffer&&c.enable(3),I.reverseDepthBuffer&&c.enable(4),I.skinning&&c.enable(5),I.morphTargets&&c.enable(6),I.morphNormals&&c.enable(7),I.morphColors&&c.enable(8),I.premultipliedAlpha&&c.enable(9),I.shadowMapEnabled&&c.enable(10),I.doubleSided&&c.enable(11),I.flipSided&&c.enable(12),I.useDepthPacking&&c.enable(13),I.dithering&&c.enable(14),I.transmission&&c.enable(15),I.sheen&&c.enable(16),I.opaque&&c.enable(17),I.pointsUvs&&c.enable(18),I.decodeVideoTexture&&c.enable(19),I.decodeVideoTextureEmissive&&c.enable(20),I.alphaToCoverage&&c.enable(21),O.push(c.mask)}function D(O){const I=b[O.type];let Y;if(I){const dt=Bo[I];Y=iP.clone(dt.uniforms)}else Y=O.uniforms;return Y}function U(O,I){let Y;for(let dt=0,at=m.length;dt<at;dt++){const Q=m[dt];if(Q.cacheKey===I){Y=Q,++Y.usedTimes;break}}return Y===void 0&&(Y=new UW(n,I,O,a),m.push(Y)),Y}function N(O){if(--O.usedTimes===0){const I=m.indexOf(O);m[I]=m[m.length-1],m.pop(),O.destroy()}}function F(O){u.remove(O)}function z(){u.dispose()}return{getParameters:E,getProgramCacheKey:S,getUniforms:D,acquireProgram:U,releaseProgram:N,releaseShaderCache:F,programs:m,dispose:z}}function zW(){let n=new WeakMap;function t(o){return n.has(o)}function e(o){let c=n.get(o);return c===void 0&&(c={},n.set(o,c)),c}function i(o){n.delete(o)}function s(o,c,u){n.get(o)[c]=u}function a(){n=new WeakMap}return{has:t,get:e,remove:i,update:s,dispose:a}}function HW(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.material.id!==t.material.id?n.material.id-t.material.id:n.z!==t.z?n.z-t.z:n.id-t.id}function u3(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.z!==t.z?t.z-n.z:n.id-t.id}function f3(){const n=[];let t=0;const e=[],i=[],s=[];function a(){t=0,e.length=0,i.length=0,s.length=0}function o(g,y,A,b,T,E){let S=n[t];return S===void 0?(S={id:g.id,object:g,geometry:y,material:A,groupOrder:b,renderOrder:g.renderOrder,z:T,group:E},n[t]=S):(S.id=g.id,S.object=g,S.geometry=y,S.material=A,S.groupOrder=b,S.renderOrder=g.renderOrder,S.z=T,S.group=E),t++,S}function c(g,y,A,b,T,E){const S=o(g,y,A,b,T,E);A.transmission>0?i.push(S):A.transparent===!0?s.push(S):e.push(S)}function u(g,y,A,b,T,E){const S=o(g,y,A,b,T,E);A.transmission>0?i.unshift(S):A.transparent===!0?s.unshift(S):e.unshift(S)}function d(g,y){e.length>1&&e.sort(g||HW),i.length>1&&i.sort(y||u3),s.length>1&&s.sort(y||u3)}function m(){for(let g=t,y=n.length;g<y;g++){const A=n[g];if(A.id===null)break;A.id=null,A.object=null,A.geometry=null,A.material=null,A.group=null}}return{opaque:e,transmissive:i,transparent:s,init:a,push:c,unshift:u,finish:m,sort:d}}function GW(){let n=new WeakMap;function t(i,s){const a=n.get(i);let o;return a===void 0?(o=new f3,n.set(i,[o])):s>=a.length?(o=new f3,a.push(o)):o=a[s],o}function e(){n=new WeakMap}return{get:t,dispose:e}}function VW(){const n={};return{get:function(t){if(n[t.id]!==void 0)return n[t.id];let e;switch(t.type){case"DirectionalLight":e={direction:new q,color:new ie};break;case"SpotLight":e={position:new q,direction:new q,color:new ie,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":e={position:new q,color:new ie,distance:0,decay:0};break;case"HemisphereLight":e={direction:new q,skyColor:new ie,groundColor:new ie};break;case"RectAreaLight":e={color:new ie,position:new q,halfWidth:new q,halfHeight:new q};break}return n[t.id]=e,e}}}function kW(){const n={};return{get:function(t){if(n[t.id]!==void 0)return n[t.id];let e;switch(t.type){case"DirectionalLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ft};break;case"SpotLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ft};break;case"PointLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ft,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[t.id]=e,e}}}let jW=0;function XW(n,t){return(t.castShadow?2:0)-(n.castShadow?2:0)+(t.map?1:0)-(n.map?1:0)}function YW(n){const t=new VW,e=kW(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let d=0;d<9;d++)i.probe.push(new q);const s=new q,a=new Re,o=new Re;function c(d){let m=0,g=0,y=0;for(let O=0;O<9;O++)i.probe[O].set(0,0,0);let A=0,b=0,T=0,E=0,S=0,R=0,B=0,D=0,U=0,N=0,F=0;d.sort(XW);for(let O=0,I=d.length;O<I;O++){const Y=d[O],dt=Y.color,at=Y.intensity,Q=Y.distance,lt=Y.shadow&&Y.shadow.map?Y.shadow.map.texture:null;if(Y.isAmbientLight)m+=dt.r*at,g+=dt.g*at,y+=dt.b*at;else if(Y.isLightProbe){for(let tt=0;tt<9;tt++)i.probe[tt].addScaledVector(Y.sh.coefficients[tt],at);F++}else if(Y.isDirectionalLight){const tt=t.get(Y);if(tt.color.copy(Y.color).multiplyScalar(Y.intensity),Y.castShadow){const et=Y.shadow,Z=e.get(Y);Z.shadowIntensity=et.intensity,Z.shadowBias=et.bias,Z.shadowNormalBias=et.normalBias,Z.shadowRadius=et.radius,Z.shadowMapSize=et.mapSize,i.directionalShadow[A]=Z,i.directionalShadowMap[A]=lt,i.directionalShadowMatrix[A]=Y.shadow.matrix,R++}i.directional[A]=tt,A++}else if(Y.isSpotLight){const tt=t.get(Y);tt.position.setFromMatrixPosition(Y.matrixWorld),tt.color.copy(dt).multiplyScalar(at),tt.distance=Q,tt.coneCos=Math.cos(Y.angle),tt.penumbraCos=Math.cos(Y.angle*(1-Y.penumbra)),tt.decay=Y.decay,i.spot[T]=tt;const et=Y.shadow;if(Y.map&&(i.spotLightMap[U]=Y.map,U++,et.updateMatrices(Y),Y.castShadow&&N++),i.spotLightMatrix[T]=et.matrix,Y.castShadow){const Z=e.get(Y);Z.shadowIntensity=et.intensity,Z.shadowBias=et.bias,Z.shadowNormalBias=et.normalBias,Z.shadowRadius=et.radius,Z.shadowMapSize=et.mapSize,i.spotShadow[T]=Z,i.spotShadowMap[T]=lt,D++}T++}else if(Y.isRectAreaLight){const tt=t.get(Y);tt.color.copy(dt).multiplyScalar(at),tt.halfWidth.set(Y.width*.5,0,0),tt.halfHeight.set(0,Y.height*.5,0),i.rectArea[E]=tt,E++}else if(Y.isPointLight){const tt=t.get(Y);if(tt.color.copy(Y.color).multiplyScalar(Y.intensity),tt.distance=Y.distance,tt.decay=Y.decay,Y.castShadow){const et=Y.shadow,Z=e.get(Y);Z.shadowIntensity=et.intensity,Z.shadowBias=et.bias,Z.shadowNormalBias=et.normalBias,Z.shadowRadius=et.radius,Z.shadowMapSize=et.mapSize,Z.shadowCameraNear=et.camera.near,Z.shadowCameraFar=et.camera.far,i.pointShadow[b]=Z,i.pointShadowMap[b]=lt,i.pointShadowMatrix[b]=Y.shadow.matrix,B++}i.point[b]=tt,b++}else if(Y.isHemisphereLight){const tt=t.get(Y);tt.skyColor.copy(Y.color).multiplyScalar(at),tt.groundColor.copy(Y.groundColor).multiplyScalar(at),i.hemi[S]=tt,S++}}E>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=ce.LTC_FLOAT_1,i.rectAreaLTC2=ce.LTC_FLOAT_2):(i.rectAreaLTC1=ce.LTC_HALF_1,i.rectAreaLTC2=ce.LTC_HALF_2)),i.ambient[0]=m,i.ambient[1]=g,i.ambient[2]=y;const z=i.hash;(z.directionalLength!==A||z.pointLength!==b||z.spotLength!==T||z.rectAreaLength!==E||z.hemiLength!==S||z.numDirectionalShadows!==R||z.numPointShadows!==B||z.numSpotShadows!==D||z.numSpotMaps!==U||z.numLightProbes!==F)&&(i.directional.length=A,i.spot.length=T,i.rectArea.length=E,i.point.length=b,i.hemi.length=S,i.directionalShadow.length=R,i.directionalShadowMap.length=R,i.pointShadow.length=B,i.pointShadowMap.length=B,i.spotShadow.length=D,i.spotShadowMap.length=D,i.directionalShadowMatrix.length=R,i.pointShadowMatrix.length=B,i.spotLightMatrix.length=D+U-N,i.spotLightMap.length=U,i.numSpotLightShadowsWithMaps=N,i.numLightProbes=F,z.directionalLength=A,z.pointLength=b,z.spotLength=T,z.rectAreaLength=E,z.hemiLength=S,z.numDirectionalShadows=R,z.numPointShadows=B,z.numSpotShadows=D,z.numSpotMaps=U,z.numLightProbes=F,i.version=jW++)}function u(d,m){let g=0,y=0,A=0,b=0,T=0;const E=m.matrixWorldInverse;for(let S=0,R=d.length;S<R;S++){const B=d[S];if(B.isDirectionalLight){const D=i.directional[g];D.direction.setFromMatrixPosition(B.matrixWorld),s.setFromMatrixPosition(B.target.matrixWorld),D.direction.sub(s),D.direction.transformDirection(E),g++}else if(B.isSpotLight){const D=i.spot[A];D.position.setFromMatrixPosition(B.matrixWorld),D.position.applyMatrix4(E),D.direction.setFromMatrixPosition(B.matrixWorld),s.setFromMatrixPosition(B.target.matrixWorld),D.direction.sub(s),D.direction.transformDirection(E),A++}else if(B.isRectAreaLight){const D=i.rectArea[b];D.position.setFromMatrixPosition(B.matrixWorld),D.position.applyMatrix4(E),o.identity(),a.copy(B.matrixWorld),a.premultiply(E),o.extractRotation(a),D.halfWidth.set(B.width*.5,0,0),D.halfHeight.set(0,B.height*.5,0),D.halfWidth.applyMatrix4(o),D.halfHeight.applyMatrix4(o),b++}else if(B.isPointLight){const D=i.point[y];D.position.setFromMatrixPosition(B.matrixWorld),D.position.applyMatrix4(E),y++}else if(B.isHemisphereLight){const D=i.hemi[T];D.direction.setFromMatrixPosition(B.matrixWorld),D.direction.transformDirection(E),T++}}}return{setup:c,setupView:u,state:i}}function h3(n){const t=new YW(n),e=[],i=[];function s(m){d.camera=m,e.length=0,i.length=0}function a(m){e.push(m)}function o(m){i.push(m)}function c(){t.setup(e)}function u(m){t.setupView(e,m)}const d={lightsArray:e,shadowsArray:i,camera:null,lights:t,transmissionRenderTarget:{}};return{init:s,state:d,setupLights:c,setupLightsView:u,pushLight:a,pushShadow:o}}function WW(n){let t=new WeakMap;function e(s,a=0){const o=t.get(s);let c;return o===void 0?(c=new h3(n),t.set(s,[c])):a>=o.length?(c=new h3(n),o.push(c)):c=o[a],c}function i(){t=new WeakMap}return{get:e,dispose:i}}const qW=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,KW=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function JW(n,t,e){let i=new Tv;const s=new Ft,a=new Ft,o=new mn,c=new uC({depthPacking:kO}),u=new fC,d={},m=e.maxTextureSize,g={[Ol]:Ea,[Ea]:Ol,[zr]:zr},y=new Oo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ft},radius:{value:4}},vertexShader:qW,fragmentShader:KW}),A=y.clone();A.defines.HORIZONTAL_PASS=1;const b=new We;b.setAttribute("position",new wn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const T=new ji(b,y),E=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=l_;let S=this.type;this.render=function(N,F,z){if(E.enabled===!1||E.autoUpdate===!1&&E.needsUpdate===!1||N.length===0)return;const O=n.getRenderTarget(),I=n.getActiveCubeFace(),Y=n.getActiveMipmapLevel(),dt=n.state;dt.setBlending(Dc),dt.buffers.color.setClear(1,1,1,1),dt.buffers.depth.setTest(!0),dt.setScissorTest(!1);const at=S!==Ro&&this.type===Ro,Q=S===Ro&&this.type!==Ro;for(let lt=0,tt=N.length;lt<tt;lt++){const et=N[lt],Z=et.shadow;if(Z===void 0){console.warn("THREE.WebGLShadowMap:",et,"has no shadow.");continue}if(Z.autoUpdate===!1&&Z.needsUpdate===!1)continue;s.copy(Z.mapSize);const vt=Z.getFrameExtents();if(s.multiply(vt),a.copy(Z.mapSize),(s.x>m||s.y>m)&&(s.x>m&&(a.x=Math.floor(m/vt.x),s.x=a.x*vt.x,Z.mapSize.x=a.x),s.y>m&&(a.y=Math.floor(m/vt.y),s.y=a.y*vt.y,Z.mapSize.y=a.y)),Z.map===null||at===!0||Q===!0){const it=this.type!==Ro?{minFilter:Ts,magFilter:Ts}:{};Z.map!==null&&Z.map.dispose(),Z.map=new Pl(s.x,s.y,it),Z.map.texture.name=et.name+".shadowMap",Z.camera.updateProjectionMatrix()}n.setRenderTarget(Z.map),n.clear();const X=Z.getViewportCount();for(let it=0;it<X;it++){const Mt=Z.getViewport(it);o.set(a.x*Mt.x,a.y*Mt.y,a.x*Mt.z,a.y*Mt.w),dt.viewport(o),Z.updateMatrices(et,it),i=Z.getFrustum(),D(F,z,Z.camera,et,this.type)}Z.isPointLightShadow!==!0&&this.type===Ro&&R(Z,z),Z.needsUpdate=!1}S=this.type,E.needsUpdate=!1,n.setRenderTarget(O,I,Y)};function R(N,F){const z=t.update(T);y.defines.VSM_SAMPLES!==N.blurSamples&&(y.defines.VSM_SAMPLES=N.blurSamples,A.defines.VSM_SAMPLES=N.blurSamples,y.needsUpdate=!0,A.needsUpdate=!0),N.mapPass===null&&(N.mapPass=new Pl(s.x,s.y)),y.uniforms.shadow_pass.value=N.map.texture,y.uniforms.resolution.value=N.mapSize,y.uniforms.radius.value=N.radius,n.setRenderTarget(N.mapPass),n.clear(),n.renderBufferDirect(F,null,z,y,T,null),A.uniforms.shadow_pass.value=N.mapPass.texture,A.uniforms.resolution.value=N.mapSize,A.uniforms.radius.value=N.radius,n.setRenderTarget(N.map),n.clear(),n.renderBufferDirect(F,null,z,A,T,null)}function B(N,F,z,O){let I=null;const Y=z.isPointLight===!0?N.customDistanceMaterial:N.customDepthMaterial;if(Y!==void 0)I=Y;else if(I=z.isPointLight===!0?u:c,n.localClippingEnabled&&F.clipShadows===!0&&Array.isArray(F.clippingPlanes)&&F.clippingPlanes.length!==0||F.displacementMap&&F.displacementScale!==0||F.alphaMap&&F.alphaTest>0||F.map&&F.alphaTest>0){const dt=I.uuid,at=F.uuid;let Q=d[dt];Q===void 0&&(Q={},d[dt]=Q);let lt=Q[at];lt===void 0&&(lt=I.clone(),Q[at]=lt,F.addEventListener("dispose",U)),I=lt}if(I.visible=F.visible,I.wireframe=F.wireframe,O===Ro?I.side=F.shadowSide!==null?F.shadowSide:F.side:I.side=F.shadowSide!==null?F.shadowSide:g[F.side],I.alphaMap=F.alphaMap,I.alphaTest=F.alphaTest,I.map=F.map,I.clipShadows=F.clipShadows,I.clippingPlanes=F.clippingPlanes,I.clipIntersection=F.clipIntersection,I.displacementMap=F.displacementMap,I.displacementScale=F.displacementScale,I.displacementBias=F.displacementBias,I.wireframeLinewidth=F.wireframeLinewidth,I.linewidth=F.linewidth,z.isPointLight===!0&&I.isMeshDistanceMaterial===!0){const dt=n.properties.get(I);dt.light=z}return I}function D(N,F,z,O,I){if(N.visible===!1)return;if(N.layers.test(F.layers)&&(N.isMesh||N.isLine||N.isPoints)&&(N.castShadow||N.receiveShadow&&I===Ro)&&(!N.frustumCulled||i.intersectsObject(N))){N.modelViewMatrix.multiplyMatrices(z.matrixWorldInverse,N.matrixWorld);const at=t.update(N),Q=N.material;if(Array.isArray(Q)){const lt=at.groups;for(let tt=0,et=lt.length;tt<et;tt++){const Z=lt[tt],vt=Q[Z.materialIndex];if(vt&&vt.visible){const X=B(N,vt,O,I);N.onBeforeShadow(n,N,F,z,at,X,Z),n.renderBufferDirect(z,null,at,X,N,Z),N.onAfterShadow(n,N,F,z,at,X,Z)}}}else if(Q.visible){const lt=B(N,Q,O,I);N.onBeforeShadow(n,N,F,z,at,lt,null),n.renderBufferDirect(z,null,at,lt,N,null),N.onAfterShadow(n,N,F,z,at,lt,null)}}const dt=N.children;for(let at=0,Q=dt.length;at<Q;at++)D(dt[at],F,z,O,I)}function U(N){N.target.removeEventListener("dispose",U);for(const z in d){const O=d[z],I=N.target.uuid;I in O&&(O[I].dispose(),delete O[I])}}}const ZW={[eA]:nA,[iA]:rA,[sA]:oA,[zh]:aA,[nA]:eA,[rA]:iA,[oA]:sA,[aA]:zh};function QW(n,t){function e(){let ct=!1;const ae=new mn;let Tt=null;const It=new mn(0,0,0,0);return{setMask:function(te){Tt!==te&&!ct&&(n.colorMask(te,te,te,te),Tt=te)},setLocked:function(te){ct=te},setClear:function(te,se,Le,Gn,ni){ni===!0&&(te*=Gn,se*=Gn,Le*=Gn),ae.set(te,se,Le,Gn),It.equals(ae)===!1&&(n.clearColor(te,se,Le,Gn),It.copy(ae))},reset:function(){ct=!1,Tt=null,It.set(-1,0,0,0)}}}function i(){let ct=!1,ae=!1,Tt=null,It=null,te=null;return{setReversed:function(se){if(ae!==se){const Le=t.get("EXT_clip_control");ae?Le.clipControlEXT(Le.LOWER_LEFT_EXT,Le.ZERO_TO_ONE_EXT):Le.clipControlEXT(Le.LOWER_LEFT_EXT,Le.NEGATIVE_ONE_TO_ONE_EXT);const Gn=te;te=null,this.setClear(Gn)}ae=se},getReversed:function(){return ae},setTest:function(se){se?Pt(n.DEPTH_TEST):Ht(n.DEPTH_TEST)},setMask:function(se){Tt!==se&&!ct&&(n.depthMask(se),Tt=se)},setFunc:function(se){if(ae&&(se=ZW[se]),It!==se){switch(se){case eA:n.depthFunc(n.NEVER);break;case nA:n.depthFunc(n.ALWAYS);break;case iA:n.depthFunc(n.LESS);break;case zh:n.depthFunc(n.LEQUAL);break;case sA:n.depthFunc(n.EQUAL);break;case aA:n.depthFunc(n.GEQUAL);break;case rA:n.depthFunc(n.GREATER);break;case oA:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}It=se}},setLocked:function(se){ct=se},setClear:function(se){te!==se&&(ae&&(se=1-se),n.clearDepth(se),te=se)},reset:function(){ct=!1,Tt=null,It=null,te=null,ae=!1}}}function s(){let ct=!1,ae=null,Tt=null,It=null,te=null,se=null,Le=null,Gn=null,ni=null;return{setTest:function(dn){ct||(dn?Pt(n.STENCIL_TEST):Ht(n.STENCIL_TEST))},setMask:function(dn){ae!==dn&&!ct&&(n.stencilMask(dn),ae=dn)},setFunc:function(dn,os,ls){(Tt!==dn||It!==os||te!==ls)&&(n.stencilFunc(dn,os,ls),Tt=dn,It=os,te=ls)},setOp:function(dn,os,ls){(se!==dn||Le!==os||Gn!==ls)&&(n.stencilOp(dn,os,ls),se=dn,Le=os,Gn=ls)},setLocked:function(dn){ct=dn},setClear:function(dn){ni!==dn&&(n.clearStencil(dn),ni=dn)},reset:function(){ct=!1,ae=null,Tt=null,It=null,te=null,se=null,Le=null,Gn=null,ni=null}}}const a=new e,o=new i,c=new s,u=new WeakMap,d=new WeakMap;let m={},g={},y=new WeakMap,A=[],b=null,T=!1,E=null,S=null,R=null,B=null,D=null,U=null,N=null,F=new ie(0,0,0),z=0,O=!1,I=null,Y=null,dt=null,at=null,Q=null;const lt=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let tt=!1,et=0;const Z=n.getParameter(n.VERSION);Z.indexOf("WebGL")!==-1?(et=parseFloat(/^WebGL (\d)/.exec(Z)[1]),tt=et>=1):Z.indexOf("OpenGL ES")!==-1&&(et=parseFloat(/^OpenGL ES (\d)/.exec(Z)[1]),tt=et>=2);let vt=null,X={};const it=n.getParameter(n.SCISSOR_BOX),Mt=n.getParameter(n.VIEWPORT),Ot=new mn().fromArray(it),st=new mn().fromArray(Mt);function Et(ct,ae,Tt,It){const te=new Uint8Array(4),se=n.createTexture();n.bindTexture(ct,se),n.texParameteri(ct,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(ct,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Le=0;Le<Tt;Le++)ct===n.TEXTURE_3D||ct===n.TEXTURE_2D_ARRAY?n.texImage3D(ae,0,n.RGBA,1,1,It,0,n.RGBA,n.UNSIGNED_BYTE,te):n.texImage2D(ae+Le,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,te);return se}const Bt={};Bt[n.TEXTURE_2D]=Et(n.TEXTURE_2D,n.TEXTURE_2D,1),Bt[n.TEXTURE_CUBE_MAP]=Et(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),Bt[n.TEXTURE_2D_ARRAY]=Et(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Bt[n.TEXTURE_3D]=Et(n.TEXTURE_3D,n.TEXTURE_3D,1,1),a.setClear(0,0,0,1),o.setClear(1),c.setClear(0),Pt(n.DEPTH_TEST),o.setFunc(zh),Vt(!1),Qt(QM),Pt(n.CULL_FACE),K(Dc);function Pt(ct){m[ct]!==!0&&(n.enable(ct),m[ct]=!0)}function Ht(ct){m[ct]!==!1&&(n.disable(ct),m[ct]=!1)}function fe(ct,ae){return g[ct]!==ae?(n.bindFramebuffer(ct,ae),g[ct]=ae,ct===n.DRAW_FRAMEBUFFER&&(g[n.FRAMEBUFFER]=ae),ct===n.FRAMEBUFFER&&(g[n.DRAW_FRAMEBUFFER]=ae),!0):!1}function Xt(ct,ae){let Tt=A,It=!1;if(ct){Tt=y.get(ae),Tt===void 0&&(Tt=[],y.set(ae,Tt));const te=ct.textures;if(Tt.length!==te.length||Tt[0]!==n.COLOR_ATTACHMENT0){for(let se=0,Le=te.length;se<Le;se++)Tt[se]=n.COLOR_ATTACHMENT0+se;Tt.length=te.length,It=!0}}else Tt[0]!==n.BACK&&(Tt[0]=n.BACK,It=!0);It&&n.drawBuffers(Tt)}function ne(ct){return b!==ct?(n.useProgram(ct),b=ct,!0):!1}const Dt={[Vu]:n.FUNC_ADD,[hO]:n.FUNC_SUBTRACT,[dO]:n.FUNC_REVERSE_SUBTRACT};Dt[pO]=n.MIN,Dt[mO]=n.MAX;const Rt={[gO]:n.ZERO,[vO]:n.ONE,[yO]:n.SRC_COLOR,[$x]:n.SRC_ALPHA,[MO]:n.SRC_ALPHA_SATURATE,[SO]:n.DST_COLOR,[AO]:n.DST_ALPHA,[xO]:n.ONE_MINUS_SRC_COLOR,[tA]:n.ONE_MINUS_SRC_ALPHA,[bO]:n.ONE_MINUS_DST_COLOR,[_O]:n.ONE_MINUS_DST_ALPHA,[EO]:n.CONSTANT_COLOR,[TO]:n.ONE_MINUS_CONSTANT_COLOR,[CO]:n.CONSTANT_ALPHA,[wO]:n.ONE_MINUS_CONSTANT_ALPHA};function K(ct,ae,Tt,It,te,se,Le,Gn,ni,dn){if(ct===Dc){T===!0&&(Ht(n.BLEND),T=!1);return}if(T===!1&&(Pt(n.BLEND),T=!0),ct!==fO){if(ct!==E||dn!==O){if((S!==Vu||D!==Vu)&&(n.blendEquation(n.FUNC_ADD),S=Vu,D=Vu),dn)switch(ct){case Dh:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case $M:n.blendFunc(n.ONE,n.ONE);break;case tE:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case eE:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ct);break}else switch(ct){case Dh:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case $M:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case tE:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case eE:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ct);break}R=null,B=null,U=null,N=null,F.set(0,0,0),z=0,E=ct,O=dn}return}te=te||ae,se=se||Tt,Le=Le||It,(ae!==S||te!==D)&&(n.blendEquationSeparate(Dt[ae],Dt[te]),S=ae,D=te),(Tt!==R||It!==B||se!==U||Le!==N)&&(n.blendFuncSeparate(Rt[Tt],Rt[It],Rt[se],Rt[Le]),R=Tt,B=It,U=se,N=Le),(Gn.equals(F)===!1||ni!==z)&&(n.blendColor(Gn.r,Gn.g,Gn.b,ni),F.copy(Gn),z=ni),E=ct,O=!1}function he(ct,ae){ct.side===zr?Ht(n.CULL_FACE):Pt(n.CULL_FACE);let Tt=ct.side===Ea;ae&&(Tt=!Tt),Vt(Tt),ct.blending===Dh&&ct.transparent===!1?K(Dc):K(ct.blending,ct.blendEquation,ct.blendSrc,ct.blendDst,ct.blendEquationAlpha,ct.blendSrcAlpha,ct.blendDstAlpha,ct.blendColor,ct.blendAlpha,ct.premultipliedAlpha),o.setFunc(ct.depthFunc),o.setTest(ct.depthTest),o.setMask(ct.depthWrite),a.setMask(ct.colorWrite);const It=ct.stencilWrite;c.setTest(It),It&&(c.setMask(ct.stencilWriteMask),c.setFunc(ct.stencilFunc,ct.stencilRef,ct.stencilFuncMask),c.setOp(ct.stencilFail,ct.stencilZFail,ct.stencilZPass)),_e(ct.polygonOffset,ct.polygonOffsetFactor,ct.polygonOffsetUnits),ct.alphaToCoverage===!0?Pt(n.SAMPLE_ALPHA_TO_COVERAGE):Ht(n.SAMPLE_ALPHA_TO_COVERAGE)}function Vt(ct){I!==ct&&(ct?n.frontFace(n.CW):n.frontFace(n.CCW),I=ct)}function Qt(ct){ct!==lO?(Pt(n.CULL_FACE),ct!==Y&&(ct===QM?n.cullFace(n.BACK):ct===cO?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Ht(n.CULL_FACE),Y=ct}function Jt(ct){ct!==dt&&(tt&&n.lineWidth(ct),dt=ct)}function _e(ct,ae,Tt){ct?(Pt(n.POLYGON_OFFSET_FILL),(at!==ae||Q!==Tt)&&(n.polygonOffset(ae,Tt),at=ae,Q=Tt)):Ht(n.POLYGON_OFFSET_FILL)}function Zt(ct){ct?Pt(n.SCISSOR_TEST):Ht(n.SCISSOR_TEST)}function W(ct){ct===void 0&&(ct=n.TEXTURE0+lt-1),vt!==ct&&(n.activeTexture(ct),vt=ct)}function H(ct,ae,Tt){Tt===void 0&&(vt===null?Tt=n.TEXTURE0+lt-1:Tt=vt);let It=X[Tt];It===void 0&&(It={type:void 0,texture:void 0},X[Tt]=It),(It.type!==ct||It.texture!==ae)&&(vt!==Tt&&(n.activeTexture(Tt),vt=Tt),n.bindTexture(ct,ae||Bt[ct]),It.type=ct,It.texture=ae)}function yt(){const ct=X[vt];ct!==void 0&&ct.type!==void 0&&(n.bindTexture(ct.type,null),ct.type=void 0,ct.texture=void 0)}function Ct(){try{n.compressedTexImage2D.apply(n,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function Gt(){try{n.compressedTexImage3D.apply(n,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function Lt(){try{n.texSubImage2D.apply(n,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function ue(){try{n.texSubImage3D.apply(n,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function ee(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function de(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function Ke(){try{n.texStorage2D.apply(n,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function qt(){try{n.texStorage3D.apply(n,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function me(){try{n.texImage2D.apply(n,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function xe(){try{n.texImage3D.apply(n,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function ye(ct){Ot.equals(ct)===!1&&(n.scissor(ct.x,ct.y,ct.z,ct.w),Ot.copy(ct))}function pe(ct){st.equals(ct)===!1&&(n.viewport(ct.x,ct.y,ct.z,ct.w),st.copy(ct))}function He(ct,ae){let Tt=d.get(ae);Tt===void 0&&(Tt=new WeakMap,d.set(ae,Tt));let It=Tt.get(ct);It===void 0&&(It=n.getUniformBlockIndex(ae,ct.name),Tt.set(ct,It))}function be(ct,ae){const It=d.get(ae).get(ct);u.get(ae)!==It&&(n.uniformBlockBinding(ae,It,ct.__bindingPointIndex),u.set(ae,It))}function bn(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),m={},vt=null,X={},g={},y=new WeakMap,A=[],b=null,T=!1,E=null,S=null,R=null,B=null,D=null,U=null,N=null,F=new ie(0,0,0),z=0,O=!1,I=null,Y=null,dt=null,at=null,Q=null,Ot.set(0,0,n.canvas.width,n.canvas.height),st.set(0,0,n.canvas.width,n.canvas.height),a.reset(),o.reset(),c.reset()}return{buffers:{color:a,depth:o,stencil:c},enable:Pt,disable:Ht,bindFramebuffer:fe,drawBuffers:Xt,useProgram:ne,setBlending:K,setMaterial:he,setFlipSided:Vt,setCullFace:Qt,setLineWidth:Jt,setPolygonOffset:_e,setScissorTest:Zt,activeTexture:W,bindTexture:H,unbindTexture:yt,compressedTexImage2D:Ct,compressedTexImage3D:Gt,texImage2D:me,texImage3D:xe,updateUBOMapping:He,uniformBlockBinding:be,texStorage2D:Ke,texStorage3D:qt,texSubImage2D:Lt,texSubImage3D:ue,compressedTexSubImage2D:ee,compressedTexSubImage3D:de,scissor:ye,viewport:pe,reset:bn}}function $W(n,t,e,i,s,a,o){const c=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),d=new Ft,m=new WeakMap;let g;const y=new WeakMap;let A=!1;try{A=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function b(W,H){return A?new OffscreenCanvas(W,H):Q0("canvas")}function T(W,H,yt){let Ct=1;const Gt=Zt(W);if((Gt.width>yt||Gt.height>yt)&&(Ct=yt/Math.max(Gt.width,Gt.height)),Ct<1)if(typeof HTMLImageElement<"u"&&W instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&W instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&W instanceof ImageBitmap||typeof VideoFrame<"u"&&W instanceof VideoFrame){const Lt=Math.floor(Ct*Gt.width),ue=Math.floor(Ct*Gt.height);g===void 0&&(g=b(Lt,ue));const ee=H?b(Lt,ue):g;return ee.width=Lt,ee.height=ue,ee.getContext("2d").drawImage(W,0,0,Lt,ue),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Gt.width+"x"+Gt.height+") to ("+Lt+"x"+ue+")."),ee}else return"data"in W&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Gt.width+"x"+Gt.height+")."),W;return W}function E(W){return W.generateMipmaps}function S(W){n.generateMipmap(W)}function R(W){return W.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:W.isWebGL3DRenderTarget?n.TEXTURE_3D:W.isWebGLArrayRenderTarget||W.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function B(W,H,yt,Ct,Gt=!1){if(W!==null){if(n[W]!==void 0)return n[W];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+W+"'")}let Lt=H;if(H===n.RED&&(yt===n.FLOAT&&(Lt=n.R32F),yt===n.HALF_FLOAT&&(Lt=n.R16F),yt===n.UNSIGNED_BYTE&&(Lt=n.R8)),H===n.RED_INTEGER&&(yt===n.UNSIGNED_BYTE&&(Lt=n.R8UI),yt===n.UNSIGNED_SHORT&&(Lt=n.R16UI),yt===n.UNSIGNED_INT&&(Lt=n.R32UI),yt===n.BYTE&&(Lt=n.R8I),yt===n.SHORT&&(Lt=n.R16I),yt===n.INT&&(Lt=n.R32I)),H===n.RG&&(yt===n.FLOAT&&(Lt=n.RG32F),yt===n.HALF_FLOAT&&(Lt=n.RG16F),yt===n.UNSIGNED_BYTE&&(Lt=n.RG8)),H===n.RG_INTEGER&&(yt===n.UNSIGNED_BYTE&&(Lt=n.RG8UI),yt===n.UNSIGNED_SHORT&&(Lt=n.RG16UI),yt===n.UNSIGNED_INT&&(Lt=n.RG32UI),yt===n.BYTE&&(Lt=n.RG8I),yt===n.SHORT&&(Lt=n.RG16I),yt===n.INT&&(Lt=n.RG32I)),H===n.RGB_INTEGER&&(yt===n.UNSIGNED_BYTE&&(Lt=n.RGB8UI),yt===n.UNSIGNED_SHORT&&(Lt=n.RGB16UI),yt===n.UNSIGNED_INT&&(Lt=n.RGB32UI),yt===n.BYTE&&(Lt=n.RGB8I),yt===n.SHORT&&(Lt=n.RGB16I),yt===n.INT&&(Lt=n.RGB32I)),H===n.RGBA_INTEGER&&(yt===n.UNSIGNED_BYTE&&(Lt=n.RGBA8UI),yt===n.UNSIGNED_SHORT&&(Lt=n.RGBA16UI),yt===n.UNSIGNED_INT&&(Lt=n.RGBA32UI),yt===n.BYTE&&(Lt=n.RGBA8I),yt===n.SHORT&&(Lt=n.RGBA16I),yt===n.INT&&(Lt=n.RGBA32I)),H===n.RGB&&yt===n.UNSIGNED_INT_5_9_9_9_REV&&(Lt=n.RGB9_E5),H===n.RGBA){const ue=Gt?K0:Sn.getTransfer(Ct);yt===n.FLOAT&&(Lt=n.RGBA32F),yt===n.HALF_FLOAT&&(Lt=n.RGBA16F),yt===n.UNSIGNED_BYTE&&(Lt=ue===jn?n.SRGB8_ALPHA8:n.RGBA8),yt===n.UNSIGNED_SHORT_4_4_4_4&&(Lt=n.RGBA4),yt===n.UNSIGNED_SHORT_5_5_5_1&&(Lt=n.RGB5_A1)}return(Lt===n.R16F||Lt===n.R32F||Lt===n.RG16F||Lt===n.RG32F||Lt===n.RGBA16F||Lt===n.RGBA32F)&&t.get("EXT_color_buffer_float"),Lt}function D(W,H){let yt;return W?H===null||H===Ic||H===Hh?yt=n.DEPTH24_STENCIL8:H===Xa?yt=n.DEPTH32F_STENCIL8:H===qp&&(yt=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):H===null||H===Ic||H===Hh?yt=n.DEPTH_COMPONENT24:H===Xa?yt=n.DEPTH_COMPONENT32F:H===qp&&(yt=n.DEPTH_COMPONENT16),yt}function U(W,H){return E(W)===!0||W.isFramebufferTexture&&W.minFilter!==Ts&&W.minFilter!==ki?Math.log2(Math.max(H.width,H.height))+1:W.mipmaps!==void 0&&W.mipmaps.length>0?W.mipmaps.length:W.isCompressedTexture&&Array.isArray(W.image)?H.mipmaps.length:1}function N(W){const H=W.target;H.removeEventListener("dispose",N),z(H),H.isVideoTexture&&m.delete(H)}function F(W){const H=W.target;H.removeEventListener("dispose",F),I(H)}function z(W){const H=i.get(W);if(H.__webglInit===void 0)return;const yt=W.source,Ct=y.get(yt);if(Ct){const Gt=Ct[H.__cacheKey];Gt.usedTimes--,Gt.usedTimes===0&&O(W),Object.keys(Ct).length===0&&y.delete(yt)}i.remove(W)}function O(W){const H=i.get(W);n.deleteTexture(H.__webglTexture);const yt=W.source,Ct=y.get(yt);delete Ct[H.__cacheKey],o.memory.textures--}function I(W){const H=i.get(W);if(W.depthTexture&&(W.depthTexture.dispose(),i.remove(W.depthTexture)),W.isWebGLCubeRenderTarget)for(let Ct=0;Ct<6;Ct++){if(Array.isArray(H.__webglFramebuffer[Ct]))for(let Gt=0;Gt<H.__webglFramebuffer[Ct].length;Gt++)n.deleteFramebuffer(H.__webglFramebuffer[Ct][Gt]);else n.deleteFramebuffer(H.__webglFramebuffer[Ct]);H.__webglDepthbuffer&&n.deleteRenderbuffer(H.__webglDepthbuffer[Ct])}else{if(Array.isArray(H.__webglFramebuffer))for(let Ct=0;Ct<H.__webglFramebuffer.length;Ct++)n.deleteFramebuffer(H.__webglFramebuffer[Ct]);else n.deleteFramebuffer(H.__webglFramebuffer);if(H.__webglDepthbuffer&&n.deleteRenderbuffer(H.__webglDepthbuffer),H.__webglMultisampledFramebuffer&&n.deleteFramebuffer(H.__webglMultisampledFramebuffer),H.__webglColorRenderbuffer)for(let Ct=0;Ct<H.__webglColorRenderbuffer.length;Ct++)H.__webglColorRenderbuffer[Ct]&&n.deleteRenderbuffer(H.__webglColorRenderbuffer[Ct]);H.__webglDepthRenderbuffer&&n.deleteRenderbuffer(H.__webglDepthRenderbuffer)}const yt=W.textures;for(let Ct=0,Gt=yt.length;Ct<Gt;Ct++){const Lt=i.get(yt[Ct]);Lt.__webglTexture&&(n.deleteTexture(Lt.__webglTexture),o.memory.textures--),i.remove(yt[Ct])}i.remove(W)}let Y=0;function dt(){Y=0}function at(){const W=Y;return W>=s.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+W+" texture units while this GPU supports only "+s.maxTextures),Y+=1,W}function Q(W){const H=[];return H.push(W.wrapS),H.push(W.wrapT),H.push(W.wrapR||0),H.push(W.magFilter),H.push(W.minFilter),H.push(W.anisotropy),H.push(W.internalFormat),H.push(W.format),H.push(W.type),H.push(W.generateMipmaps),H.push(W.premultiplyAlpha),H.push(W.flipY),H.push(W.unpackAlignment),H.push(W.colorSpace),H.join()}function lt(W,H){const yt=i.get(W);if(W.isVideoTexture&&Jt(W),W.isRenderTargetTexture===!1&&W.version>0&&yt.__version!==W.version){const Ct=W.image;if(Ct===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ct.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{st(yt,W,H);return}}e.bindTexture(n.TEXTURE_2D,yt.__webglTexture,n.TEXTURE0+H)}function tt(W,H){const yt=i.get(W);if(W.version>0&&yt.__version!==W.version){st(yt,W,H);return}e.bindTexture(n.TEXTURE_2D_ARRAY,yt.__webglTexture,n.TEXTURE0+H)}function et(W,H){const yt=i.get(W);if(W.version>0&&yt.__version!==W.version){st(yt,W,H);return}e.bindTexture(n.TEXTURE_3D,yt.__webglTexture,n.TEXTURE0+H)}function Z(W,H){const yt=i.get(W);if(W.version>0&&yt.__version!==W.version){Et(yt,W,H);return}e.bindTexture(n.TEXTURE_CUBE_MAP,yt.__webglTexture,n.TEXTURE0+H)}const vt={[qu]:n.REPEAT,[hr]:n.CLAMP_TO_EDGE,[Wp]:n.MIRRORED_REPEAT},X={[Ts]:n.NEAREST,[u_]:n.NEAREST_MIPMAP_NEAREST,[_h]:n.NEAREST_MIPMAP_LINEAR,[ki]:n.LINEAR,[Hp]:n.LINEAR_MIPMAP_NEAREST,[Hr]:n.LINEAR_MIPMAP_LINEAR},it={[XO]:n.NEVER,[ZO]:n.ALWAYS,[YO]:n.LESS,[YT]:n.LEQUAL,[WO]:n.EQUAL,[JO]:n.GEQUAL,[qO]:n.GREATER,[KO]:n.NOTEQUAL};function Mt(W,H){if(H.type===Xa&&t.has("OES_texture_float_linear")===!1&&(H.magFilter===ki||H.magFilter===Hp||H.magFilter===_h||H.magFilter===Hr||H.minFilter===ki||H.minFilter===Hp||H.minFilter===_h||H.minFilter===Hr)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(W,n.TEXTURE_WRAP_S,vt[H.wrapS]),n.texParameteri(W,n.TEXTURE_WRAP_T,vt[H.wrapT]),(W===n.TEXTURE_3D||W===n.TEXTURE_2D_ARRAY)&&n.texParameteri(W,n.TEXTURE_WRAP_R,vt[H.wrapR]),n.texParameteri(W,n.TEXTURE_MAG_FILTER,X[H.magFilter]),n.texParameteri(W,n.TEXTURE_MIN_FILTER,X[H.minFilter]),H.compareFunction&&(n.texParameteri(W,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(W,n.TEXTURE_COMPARE_FUNC,it[H.compareFunction])),t.has("EXT_texture_filter_anisotropic")===!0){if(H.magFilter===Ts||H.minFilter!==_h&&H.minFilter!==Hr||H.type===Xa&&t.has("OES_texture_float_linear")===!1)return;if(H.anisotropy>1||i.get(H).__currentAnisotropy){const yt=t.get("EXT_texture_filter_anisotropic");n.texParameterf(W,yt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(H.anisotropy,s.getMaxAnisotropy())),i.get(H).__currentAnisotropy=H.anisotropy}}}function Ot(W,H){let yt=!1;W.__webglInit===void 0&&(W.__webglInit=!0,H.addEventListener("dispose",N));const Ct=H.source;let Gt=y.get(Ct);Gt===void 0&&(Gt={},y.set(Ct,Gt));const Lt=Q(H);if(Lt!==W.__cacheKey){Gt[Lt]===void 0&&(Gt[Lt]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,yt=!0),Gt[Lt].usedTimes++;const ue=Gt[W.__cacheKey];ue!==void 0&&(Gt[W.__cacheKey].usedTimes--,ue.usedTimes===0&&O(H)),W.__cacheKey=Lt,W.__webglTexture=Gt[Lt].texture}return yt}function st(W,H,yt){let Ct=n.TEXTURE_2D;(H.isDataArrayTexture||H.isCompressedArrayTexture)&&(Ct=n.TEXTURE_2D_ARRAY),H.isData3DTexture&&(Ct=n.TEXTURE_3D);const Gt=Ot(W,H),Lt=H.source;e.bindTexture(Ct,W.__webglTexture,n.TEXTURE0+yt);const ue=i.get(Lt);if(Lt.version!==ue.__version||Gt===!0){e.activeTexture(n.TEXTURE0+yt);const ee=Sn.getPrimaries(Sn.workingColorSpace),de=H.colorSpace===Ec?null:Sn.getPrimaries(H.colorSpace),Ke=H.colorSpace===Ec||ee===de?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,H.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,H.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ke);let qt=T(H.image,!1,s.maxTextureSize);qt=_e(H,qt);const me=a.convert(H.format,H.colorSpace),xe=a.convert(H.type);let ye=B(H.internalFormat,me,xe,H.colorSpace,H.isVideoTexture);Mt(Ct,H);let pe;const He=H.mipmaps,be=H.isVideoTexture!==!0,bn=ue.__version===void 0||Gt===!0,ct=Lt.dataReady,ae=U(H,qt);if(H.isDepthTexture)ye=D(H.format===Gh,H.type),bn&&(be?e.texStorage2D(n.TEXTURE_2D,1,ye,qt.width,qt.height):e.texImage2D(n.TEXTURE_2D,0,ye,qt.width,qt.height,0,me,xe,null));else if(H.isDataTexture)if(He.length>0){be&&bn&&e.texStorage2D(n.TEXTURE_2D,ae,ye,He[0].width,He[0].height);for(let Tt=0,It=He.length;Tt<It;Tt++)pe=He[Tt],be?ct&&e.texSubImage2D(n.TEXTURE_2D,Tt,0,0,pe.width,pe.height,me,xe,pe.data):e.texImage2D(n.TEXTURE_2D,Tt,ye,pe.width,pe.height,0,me,xe,pe.data);H.generateMipmaps=!1}else be?(bn&&e.texStorage2D(n.TEXTURE_2D,ae,ye,qt.width,qt.height),ct&&e.texSubImage2D(n.TEXTURE_2D,0,0,0,qt.width,qt.height,me,xe,qt.data)):e.texImage2D(n.TEXTURE_2D,0,ye,qt.width,qt.height,0,me,xe,qt.data);else if(H.isCompressedTexture)if(H.isCompressedArrayTexture){be&&bn&&e.texStorage3D(n.TEXTURE_2D_ARRAY,ae,ye,He[0].width,He[0].height,qt.depth);for(let Tt=0,It=He.length;Tt<It;Tt++)if(pe=He[Tt],H.format!==na)if(me!==null)if(be){if(ct)if(H.layerUpdates.size>0){const te=uE(pe.width,pe.height,H.format,H.type);for(const se of H.layerUpdates){const Le=pe.data.subarray(se*te/pe.data.BYTES_PER_ELEMENT,(se+1)*te/pe.data.BYTES_PER_ELEMENT);e.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Tt,0,0,se,pe.width,pe.height,1,me,Le)}H.clearLayerUpdates()}else e.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Tt,0,0,0,pe.width,pe.height,qt.depth,me,pe.data)}else e.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Tt,ye,pe.width,pe.height,qt.depth,0,pe.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else be?ct&&e.texSubImage3D(n.TEXTURE_2D_ARRAY,Tt,0,0,0,pe.width,pe.height,qt.depth,me,xe,pe.data):e.texImage3D(n.TEXTURE_2D_ARRAY,Tt,ye,pe.width,pe.height,qt.depth,0,me,xe,pe.data)}else{be&&bn&&e.texStorage2D(n.TEXTURE_2D,ae,ye,He[0].width,He[0].height);for(let Tt=0,It=He.length;Tt<It;Tt++)pe=He[Tt],H.format!==na?me!==null?be?ct&&e.compressedTexSubImage2D(n.TEXTURE_2D,Tt,0,0,pe.width,pe.height,me,pe.data):e.compressedTexImage2D(n.TEXTURE_2D,Tt,ye,pe.width,pe.height,0,pe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):be?ct&&e.texSubImage2D(n.TEXTURE_2D,Tt,0,0,pe.width,pe.height,me,xe,pe.data):e.texImage2D(n.TEXTURE_2D,Tt,ye,pe.width,pe.height,0,me,xe,pe.data)}else if(H.isDataArrayTexture)if(be){if(bn&&e.texStorage3D(n.TEXTURE_2D_ARRAY,ae,ye,qt.width,qt.height,qt.depth),ct)if(H.layerUpdates.size>0){const Tt=uE(qt.width,qt.height,H.format,H.type);for(const It of H.layerUpdates){const te=qt.data.subarray(It*Tt/qt.data.BYTES_PER_ELEMENT,(It+1)*Tt/qt.data.BYTES_PER_ELEMENT);e.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,It,qt.width,qt.height,1,me,xe,te)}H.clearLayerUpdates()}else e.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,qt.width,qt.height,qt.depth,me,xe,qt.data)}else e.texImage3D(n.TEXTURE_2D_ARRAY,0,ye,qt.width,qt.height,qt.depth,0,me,xe,qt.data);else if(H.isData3DTexture)be?(bn&&e.texStorage3D(n.TEXTURE_3D,ae,ye,qt.width,qt.height,qt.depth),ct&&e.texSubImage3D(n.TEXTURE_3D,0,0,0,0,qt.width,qt.height,qt.depth,me,xe,qt.data)):e.texImage3D(n.TEXTURE_3D,0,ye,qt.width,qt.height,qt.depth,0,me,xe,qt.data);else if(H.isFramebufferTexture){if(bn)if(be)e.texStorage2D(n.TEXTURE_2D,ae,ye,qt.width,qt.height);else{let Tt=qt.width,It=qt.height;for(let te=0;te<ae;te++)e.texImage2D(n.TEXTURE_2D,te,ye,Tt,It,0,me,xe,null),Tt>>=1,It>>=1}}else if(He.length>0){if(be&&bn){const Tt=Zt(He[0]);e.texStorage2D(n.TEXTURE_2D,ae,ye,Tt.width,Tt.height)}for(let Tt=0,It=He.length;Tt<It;Tt++)pe=He[Tt],be?ct&&e.texSubImage2D(n.TEXTURE_2D,Tt,0,0,me,xe,pe):e.texImage2D(n.TEXTURE_2D,Tt,ye,me,xe,pe);H.generateMipmaps=!1}else if(be){if(bn){const Tt=Zt(qt);e.texStorage2D(n.TEXTURE_2D,ae,ye,Tt.width,Tt.height)}ct&&e.texSubImage2D(n.TEXTURE_2D,0,0,0,me,xe,qt)}else e.texImage2D(n.TEXTURE_2D,0,ye,me,xe,qt);E(H)&&S(Ct),ue.__version=Lt.version,H.onUpdate&&H.onUpdate(H)}W.__version=H.version}function Et(W,H,yt){if(H.image.length!==6)return;const Ct=Ot(W,H),Gt=H.source;e.bindTexture(n.TEXTURE_CUBE_MAP,W.__webglTexture,n.TEXTURE0+yt);const Lt=i.get(Gt);if(Gt.version!==Lt.__version||Ct===!0){e.activeTexture(n.TEXTURE0+yt);const ue=Sn.getPrimaries(Sn.workingColorSpace),ee=H.colorSpace===Ec?null:Sn.getPrimaries(H.colorSpace),de=H.colorSpace===Ec||ue===ee?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,H.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,H.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,de);const Ke=H.isCompressedTexture||H.image[0].isCompressedTexture,qt=H.image[0]&&H.image[0].isDataTexture,me=[];for(let It=0;It<6;It++)!Ke&&!qt?me[It]=T(H.image[It],!0,s.maxCubemapSize):me[It]=qt?H.image[It].image:H.image[It],me[It]=_e(H,me[It]);const xe=me[0],ye=a.convert(H.format,H.colorSpace),pe=a.convert(H.type),He=B(H.internalFormat,ye,pe,H.colorSpace),be=H.isVideoTexture!==!0,bn=Lt.__version===void 0||Ct===!0,ct=Gt.dataReady;let ae=U(H,xe);Mt(n.TEXTURE_CUBE_MAP,H);let Tt;if(Ke){be&&bn&&e.texStorage2D(n.TEXTURE_CUBE_MAP,ae,He,xe.width,xe.height);for(let It=0;It<6;It++){Tt=me[It].mipmaps;for(let te=0;te<Tt.length;te++){const se=Tt[te];H.format!==na?ye!==null?be?ct&&e.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+It,te,0,0,se.width,se.height,ye,se.data):e.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+It,te,He,se.width,se.height,0,se.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):be?ct&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+It,te,0,0,se.width,se.height,ye,pe,se.data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+It,te,He,se.width,se.height,0,ye,pe,se.data)}}}else{if(Tt=H.mipmaps,be&&bn){Tt.length>0&&ae++;const It=Zt(me[0]);e.texStorage2D(n.TEXTURE_CUBE_MAP,ae,He,It.width,It.height)}for(let It=0;It<6;It++)if(qt){be?ct&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+It,0,0,0,me[It].width,me[It].height,ye,pe,me[It].data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+It,0,He,me[It].width,me[It].height,0,ye,pe,me[It].data);for(let te=0;te<Tt.length;te++){const Le=Tt[te].image[It].image;be?ct&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+It,te+1,0,0,Le.width,Le.height,ye,pe,Le.data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+It,te+1,He,Le.width,Le.height,0,ye,pe,Le.data)}}else{be?ct&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+It,0,0,0,ye,pe,me[It]):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+It,0,He,ye,pe,me[It]);for(let te=0;te<Tt.length;te++){const se=Tt[te];be?ct&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+It,te+1,0,0,ye,pe,se.image[It]):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+It,te+1,He,ye,pe,se.image[It])}}}E(H)&&S(n.TEXTURE_CUBE_MAP),Lt.__version=Gt.version,H.onUpdate&&H.onUpdate(H)}W.__version=H.version}function Bt(W,H,yt,Ct,Gt,Lt){const ue=a.convert(yt.format,yt.colorSpace),ee=a.convert(yt.type),de=B(yt.internalFormat,ue,ee,yt.colorSpace),Ke=i.get(H),qt=i.get(yt);if(qt.__renderTarget=H,!Ke.__hasExternalTextures){const me=Math.max(1,H.width>>Lt),xe=Math.max(1,H.height>>Lt);Gt===n.TEXTURE_3D||Gt===n.TEXTURE_2D_ARRAY?e.texImage3D(Gt,Lt,de,me,xe,H.depth,0,ue,ee,null):e.texImage2D(Gt,Lt,de,me,xe,0,ue,ee,null)}e.bindFramebuffer(n.FRAMEBUFFER,W),Qt(H)?c.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ct,Gt,qt.__webglTexture,0,Vt(H)):(Gt===n.TEXTURE_2D||Gt>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Gt<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ct,Gt,qt.__webglTexture,Lt),e.bindFramebuffer(n.FRAMEBUFFER,null)}function Pt(W,H,yt){if(n.bindRenderbuffer(n.RENDERBUFFER,W),H.depthBuffer){const Ct=H.depthTexture,Gt=Ct&&Ct.isDepthTexture?Ct.type:null,Lt=D(H.stencilBuffer,Gt),ue=H.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ee=Vt(H);Qt(H)?c.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ee,Lt,H.width,H.height):yt?n.renderbufferStorageMultisample(n.RENDERBUFFER,ee,Lt,H.width,H.height):n.renderbufferStorage(n.RENDERBUFFER,Lt,H.width,H.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,ue,n.RENDERBUFFER,W)}else{const Ct=H.textures;for(let Gt=0;Gt<Ct.length;Gt++){const Lt=Ct[Gt],ue=a.convert(Lt.format,Lt.colorSpace),ee=a.convert(Lt.type),de=B(Lt.internalFormat,ue,ee,Lt.colorSpace),Ke=Vt(H);yt&&Qt(H)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ke,de,H.width,H.height):Qt(H)?c.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ke,de,H.width,H.height):n.renderbufferStorage(n.RENDERBUFFER,de,H.width,H.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Ht(W,H){if(H&&H.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(n.FRAMEBUFFER,W),!(H.depthTexture&&H.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ct=i.get(H.depthTexture);Ct.__renderTarget=H,(!Ct.__webglTexture||H.depthTexture.image.width!==H.width||H.depthTexture.image.height!==H.height)&&(H.depthTexture.image.width=H.width,H.depthTexture.image.height=H.height,H.depthTexture.needsUpdate=!0),lt(H.depthTexture,0);const Gt=Ct.__webglTexture,Lt=Vt(H);if(H.depthTexture.format===Lh)Qt(H)?c.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Gt,0,Lt):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Gt,0);else if(H.depthTexture.format===Gh)Qt(H)?c.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Gt,0,Lt):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Gt,0);else throw new Error("Unknown depthTexture format")}function fe(W){const H=i.get(W),yt=W.isWebGLCubeRenderTarget===!0;if(H.__boundDepthTexture!==W.depthTexture){const Ct=W.depthTexture;if(H.__depthDisposeCallback&&H.__depthDisposeCallback(),Ct){const Gt=()=>{delete H.__boundDepthTexture,delete H.__depthDisposeCallback,Ct.removeEventListener("dispose",Gt)};Ct.addEventListener("dispose",Gt),H.__depthDisposeCallback=Gt}H.__boundDepthTexture=Ct}if(W.depthTexture&&!H.__autoAllocateDepthBuffer){if(yt)throw new Error("target.depthTexture not supported in Cube render targets");Ht(H.__webglFramebuffer,W)}else if(yt){H.__webglDepthbuffer=[];for(let Ct=0;Ct<6;Ct++)if(e.bindFramebuffer(n.FRAMEBUFFER,H.__webglFramebuffer[Ct]),H.__webglDepthbuffer[Ct]===void 0)H.__webglDepthbuffer[Ct]=n.createRenderbuffer(),Pt(H.__webglDepthbuffer[Ct],W,!1);else{const Gt=W.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Lt=H.__webglDepthbuffer[Ct];n.bindRenderbuffer(n.RENDERBUFFER,Lt),n.framebufferRenderbuffer(n.FRAMEBUFFER,Gt,n.RENDERBUFFER,Lt)}}else if(e.bindFramebuffer(n.FRAMEBUFFER,H.__webglFramebuffer),H.__webglDepthbuffer===void 0)H.__webglDepthbuffer=n.createRenderbuffer(),Pt(H.__webglDepthbuffer,W,!1);else{const Ct=W.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Gt=H.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Gt),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ct,n.RENDERBUFFER,Gt)}e.bindFramebuffer(n.FRAMEBUFFER,null)}function Xt(W,H,yt){const Ct=i.get(W);H!==void 0&&Bt(Ct.__webglFramebuffer,W,W.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),yt!==void 0&&fe(W)}function ne(W){const H=W.texture,yt=i.get(W),Ct=i.get(H);W.addEventListener("dispose",F);const Gt=W.textures,Lt=W.isWebGLCubeRenderTarget===!0,ue=Gt.length>1;if(ue||(Ct.__webglTexture===void 0&&(Ct.__webglTexture=n.createTexture()),Ct.__version=H.version,o.memory.textures++),Lt){yt.__webglFramebuffer=[];for(let ee=0;ee<6;ee++)if(H.mipmaps&&H.mipmaps.length>0){yt.__webglFramebuffer[ee]=[];for(let de=0;de<H.mipmaps.length;de++)yt.__webglFramebuffer[ee][de]=n.createFramebuffer()}else yt.__webglFramebuffer[ee]=n.createFramebuffer()}else{if(H.mipmaps&&H.mipmaps.length>0){yt.__webglFramebuffer=[];for(let ee=0;ee<H.mipmaps.length;ee++)yt.__webglFramebuffer[ee]=n.createFramebuffer()}else yt.__webglFramebuffer=n.createFramebuffer();if(ue)for(let ee=0,de=Gt.length;ee<de;ee++){const Ke=i.get(Gt[ee]);Ke.__webglTexture===void 0&&(Ke.__webglTexture=n.createTexture(),o.memory.textures++)}if(W.samples>0&&Qt(W)===!1){yt.__webglMultisampledFramebuffer=n.createFramebuffer(),yt.__webglColorRenderbuffer=[],e.bindFramebuffer(n.FRAMEBUFFER,yt.__webglMultisampledFramebuffer);for(let ee=0;ee<Gt.length;ee++){const de=Gt[ee];yt.__webglColorRenderbuffer[ee]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,yt.__webglColorRenderbuffer[ee]);const Ke=a.convert(de.format,de.colorSpace),qt=a.convert(de.type),me=B(de.internalFormat,Ke,qt,de.colorSpace,W.isXRRenderTarget===!0),xe=Vt(W);n.renderbufferStorageMultisample(n.RENDERBUFFER,xe,me,W.width,W.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ee,n.RENDERBUFFER,yt.__webglColorRenderbuffer[ee])}n.bindRenderbuffer(n.RENDERBUFFER,null),W.depthBuffer&&(yt.__webglDepthRenderbuffer=n.createRenderbuffer(),Pt(yt.__webglDepthRenderbuffer,W,!0)),e.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Lt){e.bindTexture(n.TEXTURE_CUBE_MAP,Ct.__webglTexture),Mt(n.TEXTURE_CUBE_MAP,H);for(let ee=0;ee<6;ee++)if(H.mipmaps&&H.mipmaps.length>0)for(let de=0;de<H.mipmaps.length;de++)Bt(yt.__webglFramebuffer[ee][de],W,H,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ee,de);else Bt(yt.__webglFramebuffer[ee],W,H,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ee,0);E(H)&&S(n.TEXTURE_CUBE_MAP),e.unbindTexture()}else if(ue){for(let ee=0,de=Gt.length;ee<de;ee++){const Ke=Gt[ee],qt=i.get(Ke);e.bindTexture(n.TEXTURE_2D,qt.__webglTexture),Mt(n.TEXTURE_2D,Ke),Bt(yt.__webglFramebuffer,W,Ke,n.COLOR_ATTACHMENT0+ee,n.TEXTURE_2D,0),E(Ke)&&S(n.TEXTURE_2D)}e.unbindTexture()}else{let ee=n.TEXTURE_2D;if((W.isWebGL3DRenderTarget||W.isWebGLArrayRenderTarget)&&(ee=W.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),e.bindTexture(ee,Ct.__webglTexture),Mt(ee,H),H.mipmaps&&H.mipmaps.length>0)for(let de=0;de<H.mipmaps.length;de++)Bt(yt.__webglFramebuffer[de],W,H,n.COLOR_ATTACHMENT0,ee,de);else Bt(yt.__webglFramebuffer,W,H,n.COLOR_ATTACHMENT0,ee,0);E(H)&&S(ee),e.unbindTexture()}W.depthBuffer&&fe(W)}function Dt(W){const H=W.textures;for(let yt=0,Ct=H.length;yt<Ct;yt++){const Gt=H[yt];if(E(Gt)){const Lt=R(W),ue=i.get(Gt).__webglTexture;e.bindTexture(Lt,ue),S(Lt),e.unbindTexture()}}}const Rt=[],K=[];function he(W){if(W.samples>0){if(Qt(W)===!1){const H=W.textures,yt=W.width,Ct=W.height;let Gt=n.COLOR_BUFFER_BIT;const Lt=W.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ue=i.get(W),ee=H.length>1;if(ee)for(let de=0;de<H.length;de++)e.bindFramebuffer(n.FRAMEBUFFER,ue.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+de,n.RENDERBUFFER,null),e.bindFramebuffer(n.FRAMEBUFFER,ue.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+de,n.TEXTURE_2D,null,0);e.bindFramebuffer(n.READ_FRAMEBUFFER,ue.__webglMultisampledFramebuffer),e.bindFramebuffer(n.DRAW_FRAMEBUFFER,ue.__webglFramebuffer);for(let de=0;de<H.length;de++){if(W.resolveDepthBuffer&&(W.depthBuffer&&(Gt|=n.DEPTH_BUFFER_BIT),W.stencilBuffer&&W.resolveStencilBuffer&&(Gt|=n.STENCIL_BUFFER_BIT)),ee){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,ue.__webglColorRenderbuffer[de]);const Ke=i.get(H[de]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Ke,0)}n.blitFramebuffer(0,0,yt,Ct,0,0,yt,Ct,Gt,n.NEAREST),u===!0&&(Rt.length=0,K.length=0,Rt.push(n.COLOR_ATTACHMENT0+de),W.depthBuffer&&W.resolveDepthBuffer===!1&&(Rt.push(Lt),K.push(Lt),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,K)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Rt))}if(e.bindFramebuffer(n.READ_FRAMEBUFFER,null),e.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),ee)for(let de=0;de<H.length;de++){e.bindFramebuffer(n.FRAMEBUFFER,ue.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+de,n.RENDERBUFFER,ue.__webglColorRenderbuffer[de]);const Ke=i.get(H[de]).__webglTexture;e.bindFramebuffer(n.FRAMEBUFFER,ue.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+de,n.TEXTURE_2D,Ke,0)}e.bindFramebuffer(n.DRAW_FRAMEBUFFER,ue.__webglMultisampledFramebuffer)}else if(W.depthBuffer&&W.resolveDepthBuffer===!1&&u){const H=W.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[H])}}}function Vt(W){return Math.min(s.maxSamples,W.samples)}function Qt(W){const H=i.get(W);return W.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&H.__useRenderToTexture!==!1}function Jt(W){const H=o.render.frame;m.get(W)!==H&&(m.set(W,H),W.update())}function _e(W,H){const yt=W.colorSpace,Ct=W.format,Gt=W.type;return W.isCompressedTexture===!0||W.isVideoTexture===!0||yt!==Ku&&yt!==Ec&&(Sn.getTransfer(yt)===jn?(Ct!==na||Gt!==Uo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",yt)),H}function Zt(W){return typeof HTMLImageElement<"u"&&W instanceof HTMLImageElement?(d.width=W.naturalWidth||W.width,d.height=W.naturalHeight||W.height):typeof VideoFrame<"u"&&W instanceof VideoFrame?(d.width=W.displayWidth,d.height=W.displayHeight):(d.width=W.width,d.height=W.height),d}this.allocateTextureUnit=at,this.resetTextureUnits=dt,this.setTexture2D=lt,this.setTexture2DArray=tt,this.setTexture3D=et,this.setTextureCube=Z,this.rebindTextures=Xt,this.setupRenderTarget=ne,this.updateRenderTargetMipmap=Dt,this.updateMultisampleRenderTarget=he,this.setupDepthRenderbuffer=fe,this.setupFrameBufferTexture=Bt,this.useMultisampledRTT=Qt}function n4(n,t){function e(i,s=Ec){let a;const o=Sn.getTransfer(s);if(i===Uo)return n.UNSIGNED_BYTE;if(i===h_)return n.UNSIGNED_SHORT_4_4_4_4;if(i===d_)return n.UNSIGNED_SHORT_5_5_5_1;if(i===IT)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===OT)return n.BYTE;if(i===PT)return n.SHORT;if(i===qp)return n.UNSIGNED_SHORT;if(i===f_)return n.INT;if(i===Ic)return n.UNSIGNED_INT;if(i===Xa)return n.FLOAT;if(i===dm)return n.HALF_FLOAT;if(i===FT)return n.ALPHA;if(i===zT)return n.RGB;if(i===na)return n.RGBA;if(i===HT)return n.LUMINANCE;if(i===GT)return n.LUMINANCE_ALPHA;if(i===Lh)return n.DEPTH_COMPONENT;if(i===Gh)return n.DEPTH_STENCIL;if(i===p_)return n.RED;if(i===_v)return n.RED_INTEGER;if(i===VT)return n.RG;if(i===m_)return n.RG_INTEGER;if(i===g_)return n.RGBA_INTEGER;if(i===b0||i===M0||i===E0||i===T0)if(o===jn)if(a=t.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(i===b0)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===M0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===E0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===T0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=t.get("WEBGL_compressed_texture_s3tc"),a!==null){if(i===b0)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===M0)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===E0)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===T0)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===lA||i===cA||i===uA||i===fA)if(a=t.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(i===lA)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===cA)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===uA)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===fA)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===hA||i===dA||i===pA)if(a=t.get("WEBGL_compressed_texture_etc"),a!==null){if(i===hA||i===dA)return o===jn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(i===pA)return o===jn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===mA||i===gA||i===vA||i===yA||i===xA||i===AA||i===_A||i===SA||i===bA||i===MA||i===EA||i===TA||i===CA||i===wA)if(a=t.get("WEBGL_compressed_texture_astc"),a!==null){if(i===mA)return o===jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===gA)return o===jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===vA)return o===jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===yA)return o===jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===xA)return o===jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===AA)return o===jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===_A)return o===jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===SA)return o===jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===bA)return o===jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===MA)return o===jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===EA)return o===jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===TA)return o===jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===CA)return o===jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===wA)return o===jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===C0||i===RA||i===BA)if(a=t.get("EXT_texture_compression_bptc"),a!==null){if(i===C0)return o===jn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===RA)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===BA)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===kT||i===DA||i===LA||i===NA)if(a=t.get("EXT_texture_compression_rgtc"),a!==null){if(i===C0)return a.COMPRESSED_RED_RGTC1_EXT;if(i===DA)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===LA)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===NA)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Hh?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:e}}const tq=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,eq=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class nq{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(t,e,i){if(this.texture===null){const s=new ui,a=t.properties.get(s);a.__webglTexture=e.texture,(e.depthNear!==i.depthNear||e.depthFar!==i.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=s}}getMesh(t){if(this.texture!==null&&this.mesh===null){const e=t.cameras[0].viewport,i=new Oo({vertexShader:tq,fragmentShader:eq,uniforms:{depthColor:{value:this.texture},depthWidth:{value:e.z},depthHeight:{value:e.w}}});this.mesh=new ji(new gm(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class iq extends Fl{constructor(t,e){super();const i=this;let s=null,a=1,o=null,c="local-floor",u=1,d=null,m=null,g=null,y=null,A=null,b=null;const T=new nq,E=e.getContextAttributes();let S=null,R=null;const B=[],D=[],U=new Ft;let N=null;const F=new Vi;F.viewport=new mn;const z=new Vi;z.viewport=new mn;const O=[F,z],I=new kP;let Y=null,dt=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(st){let Et=B[st];return Et===void 0&&(Et=new Dx,B[st]=Et),Et.getTargetRaySpace()},this.getControllerGrip=function(st){let Et=B[st];return Et===void 0&&(Et=new Dx,B[st]=Et),Et.getGripSpace()},this.getHand=function(st){let Et=B[st];return Et===void 0&&(Et=new Dx,B[st]=Et),Et.getHandSpace()};function at(st){const Et=D.indexOf(st.inputSource);if(Et===-1)return;const Bt=B[Et];Bt!==void 0&&(Bt.update(st.inputSource,st.frame,d||o),Bt.dispatchEvent({type:st.type,data:st.inputSource}))}function Q(){s.removeEventListener("select",at),s.removeEventListener("selectstart",at),s.removeEventListener("selectend",at),s.removeEventListener("squeeze",at),s.removeEventListener("squeezestart",at),s.removeEventListener("squeezeend",at),s.removeEventListener("end",Q),s.removeEventListener("inputsourceschange",lt);for(let st=0;st<B.length;st++){const Et=D[st];Et!==null&&(D[st]=null,B[st].disconnect(Et))}Y=null,dt=null,T.reset(),t.setRenderTarget(S),A=null,y=null,g=null,s=null,R=null,Ot.stop(),i.isPresenting=!1,t.setPixelRatio(N),t.setSize(U.width,U.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(st){a=st,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(st){c=st,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d||o},this.setReferenceSpace=function(st){d=st},this.getBaseLayer=function(){return y!==null?y:A},this.getBinding=function(){return g},this.getFrame=function(){return b},this.getSession=function(){return s},this.setSession=async function(st){if(s=st,s!==null){if(S=t.getRenderTarget(),s.addEventListener("select",at),s.addEventListener("selectstart",at),s.addEventListener("selectend",at),s.addEventListener("squeeze",at),s.addEventListener("squeezestart",at),s.addEventListener("squeezeend",at),s.addEventListener("end",Q),s.addEventListener("inputsourceschange",lt),E.xrCompatible!==!0&&await e.makeXRCompatible(),N=t.getPixelRatio(),t.getSize(U),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let Bt=null,Pt=null,Ht=null;E.depth&&(Ht=E.stencil?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT24,Bt=E.stencil?Gh:Lh,Pt=E.stencil?Hh:Ic);const fe={colorFormat:e.RGBA8,depthFormat:Ht,scaleFactor:a};g=new XRWebGLBinding(s,e),y=g.createProjectionLayer(fe),s.updateRenderState({layers:[y]}),t.setPixelRatio(1),t.setSize(y.textureWidth,y.textureHeight,!1),R=new Pl(y.textureWidth,y.textureHeight,{format:na,type:Uo,depthTexture:new iC(y.textureWidth,y.textureHeight,Pt,void 0,void 0,void 0,void 0,void 0,void 0,Bt),stencilBuffer:E.stencil,colorSpace:t.outputColorSpace,samples:E.antialias?4:0,resolveDepthBuffer:y.ignoreDepthValues===!1})}else{const Bt={antialias:E.antialias,alpha:!0,depth:E.depth,stencil:E.stencil,framebufferScaleFactor:a};A=new XRWebGLLayer(s,e,Bt),s.updateRenderState({baseLayer:A}),t.setPixelRatio(1),t.setSize(A.framebufferWidth,A.framebufferHeight,!1),R=new Pl(A.framebufferWidth,A.framebufferHeight,{format:na,type:Uo,colorSpace:t.outputColorSpace,stencilBuffer:E.stencil})}R.isXRRenderTarget=!0,this.setFoveation(u),d=null,o=await s.requestReferenceSpace(c),Ot.setContext(s),Ot.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(s!==null)return s.environmentBlendMode},this.getDepthTexture=function(){return T.getDepthTexture()};function lt(st){for(let Et=0;Et<st.removed.length;Et++){const Bt=st.removed[Et],Pt=D.indexOf(Bt);Pt>=0&&(D[Pt]=null,B[Pt].disconnect(Bt))}for(let Et=0;Et<st.added.length;Et++){const Bt=st.added[Et];let Pt=D.indexOf(Bt);if(Pt===-1){for(let fe=0;fe<B.length;fe++)if(fe>=D.length){D.push(Bt),Pt=fe;break}else if(D[fe]===null){D[fe]=Bt,Pt=fe;break}if(Pt===-1)break}const Ht=B[Pt];Ht&&Ht.connect(Bt)}}const tt=new q,et=new q;function Z(st,Et,Bt){tt.setFromMatrixPosition(Et.matrixWorld),et.setFromMatrixPosition(Bt.matrixWorld);const Pt=tt.distanceTo(et),Ht=Et.projectionMatrix.elements,fe=Bt.projectionMatrix.elements,Xt=Ht[14]/(Ht[10]-1),ne=Ht[14]/(Ht[10]+1),Dt=(Ht[9]+1)/Ht[5],Rt=(Ht[9]-1)/Ht[5],K=(Ht[8]-1)/Ht[0],he=(fe[8]+1)/fe[0],Vt=Xt*K,Qt=Xt*he,Jt=Pt/(-K+he),_e=Jt*-K;if(Et.matrixWorld.decompose(st.position,st.quaternion,st.scale),st.translateX(_e),st.translateZ(Jt),st.matrixWorld.compose(st.position,st.quaternion,st.scale),st.matrixWorldInverse.copy(st.matrixWorld).invert(),Ht[10]===-1)st.projectionMatrix.copy(Et.projectionMatrix),st.projectionMatrixInverse.copy(Et.projectionMatrixInverse);else{const Zt=Xt+Jt,W=ne+Jt,H=Vt-_e,yt=Qt+(Pt-_e),Ct=Dt*ne/W*Zt,Gt=Rt*ne/W*Zt;st.projectionMatrix.makePerspective(H,yt,Ct,Gt,Zt,W),st.projectionMatrixInverse.copy(st.projectionMatrix).invert()}}function vt(st,Et){Et===null?st.matrixWorld.copy(st.matrix):st.matrixWorld.multiplyMatrices(Et.matrixWorld,st.matrix),st.matrixWorldInverse.copy(st.matrixWorld).invert()}this.updateCamera=function(st){if(s===null)return;let Et=st.near,Bt=st.far;T.texture!==null&&(T.depthNear>0&&(Et=T.depthNear),T.depthFar>0&&(Bt=T.depthFar)),I.near=z.near=F.near=Et,I.far=z.far=F.far=Bt,(Y!==I.near||dt!==I.far)&&(s.updateRenderState({depthNear:I.near,depthFar:I.far}),Y=I.near,dt=I.far),F.layers.mask=st.layers.mask|2,z.layers.mask=st.layers.mask|4,I.layers.mask=F.layers.mask|z.layers.mask;const Pt=st.parent,Ht=I.cameras;vt(I,Pt);for(let fe=0;fe<Ht.length;fe++)vt(Ht[fe],Pt);Ht.length===2?Z(I,F,z):I.projectionMatrix.copy(F.projectionMatrix),X(st,I,Pt)};function X(st,Et,Bt){Bt===null?st.matrix.copy(Et.matrixWorld):(st.matrix.copy(Bt.matrixWorld),st.matrix.invert(),st.matrix.multiply(Et.matrixWorld)),st.matrix.decompose(st.position,st.quaternion,st.scale),st.updateMatrixWorld(!0),st.projectionMatrix.copy(Et.projectionMatrix),st.projectionMatrixInverse.copy(Et.projectionMatrixInverse),st.isPerspectiveCamera&&(st.fov=Zp*2*Math.atan(1/st.projectionMatrix.elements[5]),st.zoom=1)}this.getCamera=function(){return I},this.getFoveation=function(){if(!(y===null&&A===null))return u},this.setFoveation=function(st){u=st,y!==null&&(y.fixedFoveation=st),A!==null&&A.fixedFoveation!==void 0&&(A.fixedFoveation=st)},this.hasDepthSensing=function(){return T.texture!==null},this.getDepthSensingMesh=function(){return T.getMesh(I)};let it=null;function Mt(st,Et){if(m=Et.getViewerPose(d||o),b=Et,m!==null){const Bt=m.views;A!==null&&(t.setRenderTargetFramebuffer(R,A.framebuffer),t.setRenderTarget(R));let Pt=!1;Bt.length!==I.cameras.length&&(I.cameras.length=0,Pt=!0);for(let Xt=0;Xt<Bt.length;Xt++){const ne=Bt[Xt];let Dt=null;if(A!==null)Dt=A.getViewport(ne);else{const K=g.getViewSubImage(y,ne);Dt=K.viewport,Xt===0&&(t.setRenderTargetTextures(R,K.colorTexture,y.ignoreDepthValues?void 0:K.depthStencilTexture),t.setRenderTarget(R))}let Rt=O[Xt];Rt===void 0&&(Rt=new Vi,Rt.layers.enable(Xt),Rt.viewport=new mn,O[Xt]=Rt),Rt.matrix.fromArray(ne.transform.matrix),Rt.matrix.decompose(Rt.position,Rt.quaternion,Rt.scale),Rt.projectionMatrix.fromArray(ne.projectionMatrix),Rt.projectionMatrixInverse.copy(Rt.projectionMatrix).invert(),Rt.viewport.set(Dt.x,Dt.y,Dt.width,Dt.height),Xt===0&&(I.matrix.copy(Rt.matrix),I.matrix.decompose(I.position,I.quaternion,I.scale)),Pt===!0&&I.cameras.push(Rt)}const Ht=s.enabledFeatures;if(Ht&&Ht.includes("depth-sensing")&&s.depthUsage=="gpu-optimized"&&g){const Xt=g.getDepthInformation(Bt[0]);Xt&&Xt.isValid&&Xt.texture&&T.init(t,Xt,s.renderState)}}for(let Bt=0;Bt<B.length;Bt++){const Pt=D[Bt],Ht=B[Bt];Pt!==null&&Ht!==void 0&&Ht.update(Pt,Et,d||o)}it&&it(st,Et),Et.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:Et}),b=null}const Ot=new ZP;Ot.setAnimationLoop(Mt),this.setAnimationLoop=function(st){it=st},this.dispose=function(){}}}const lh=new Wa,sq=new Re;function aq(n,t){function e(E,S){E.matrixAutoUpdate===!0&&E.updateMatrix(),S.value.copy(E.matrix)}function i(E,S){S.color.getRGB(E.fogColor.value,nP(n)),S.isFog?(E.fogNear.value=S.near,E.fogFar.value=S.far):S.isFogExp2&&(E.fogDensity.value=S.density)}function s(E,S,R,B,D){S.isMeshBasicMaterial||S.isMeshLambertMaterial?a(E,S):S.isMeshToonMaterial?(a(E,S),g(E,S)):S.isMeshPhongMaterial?(a(E,S),m(E,S)):S.isMeshStandardMaterial?(a(E,S),y(E,S),S.isMeshPhysicalMaterial&&A(E,S,D)):S.isMeshMatcapMaterial?(a(E,S),b(E,S)):S.isMeshDepthMaterial?a(E,S):S.isMeshDistanceMaterial?(a(E,S),T(E,S)):S.isMeshNormalMaterial?a(E,S):S.isLineBasicMaterial?(o(E,S),S.isLineDashedMaterial&&c(E,S)):S.isPointsMaterial?u(E,S,R,B):S.isSpriteMaterial?d(E,S):S.isShadowMaterial?(E.color.value.copy(S.color),E.opacity.value=S.opacity):S.isShaderMaterial&&(S.uniformsNeedUpdate=!1)}function a(E,S){E.opacity.value=S.opacity,S.color&&E.diffuse.value.copy(S.color),S.emissive&&E.emissive.value.copy(S.emissive).multiplyScalar(S.emissiveIntensity),S.map&&(E.map.value=S.map,e(S.map,E.mapTransform)),S.alphaMap&&(E.alphaMap.value=S.alphaMap,e(S.alphaMap,E.alphaMapTransform)),S.bumpMap&&(E.bumpMap.value=S.bumpMap,e(S.bumpMap,E.bumpMapTransform),E.bumpScale.value=S.bumpScale,S.side===Ea&&(E.bumpScale.value*=-1)),S.normalMap&&(E.normalMap.value=S.normalMap,e(S.normalMap,E.normalMapTransform),E.normalScale.value.copy(S.normalScale),S.side===Ea&&E.normalScale.value.negate()),S.displacementMap&&(E.displacementMap.value=S.displacementMap,e(S.displacementMap,E.displacementMapTransform),E.displacementScale.value=S.displacementScale,E.displacementBias.value=S.displacementBias),S.emissiveMap&&(E.emissiveMap.value=S.emissiveMap,e(S.emissiveMap,E.emissiveMapTransform)),S.specularMap&&(E.specularMap.value=S.specularMap,e(S.specularMap,E.specularMapTransform)),S.alphaTest>0&&(E.alphaTest.value=S.alphaTest);const R=t.get(S),B=R.envMap,D=R.envMapRotation;B&&(E.envMap.value=B,lh.copy(D),lh.x*=-1,lh.y*=-1,lh.z*=-1,B.isCubeTexture&&B.isRenderTargetTexture===!1&&(lh.y*=-1,lh.z*=-1),E.envMapRotation.value.setFromMatrix4(sq.makeRotationFromEuler(lh)),E.flipEnvMap.value=B.isCubeTexture&&B.isRenderTargetTexture===!1?-1:1,E.reflectivity.value=S.reflectivity,E.ior.value=S.ior,E.refractionRatio.value=S.refractionRatio),S.lightMap&&(E.lightMap.value=S.lightMap,E.lightMapIntensity.value=S.lightMapIntensity,e(S.lightMap,E.lightMapTransform)),S.aoMap&&(E.aoMap.value=S.aoMap,E.aoMapIntensity.value=S.aoMapIntensity,e(S.aoMap,E.aoMapTransform))}function o(E,S){E.diffuse.value.copy(S.color),E.opacity.value=S.opacity,S.map&&(E.map.value=S.map,e(S.map,E.mapTransform))}function c(E,S){E.dashSize.value=S.dashSize,E.totalSize.value=S.dashSize+S.gapSize,E.scale.value=S.scale}function u(E,S,R,B){E.diffuse.value.copy(S.color),E.opacity.value=S.opacity,E.size.value=S.size*R,E.scale.value=B*.5,S.map&&(E.map.value=S.map,e(S.map,E.uvTransform)),S.alphaMap&&(E.alphaMap.value=S.alphaMap,e(S.alphaMap,E.alphaMapTransform)),S.alphaTest>0&&(E.alphaTest.value=S.alphaTest)}function d(E,S){E.diffuse.value.copy(S.color),E.opacity.value=S.opacity,E.rotation.value=S.rotation,S.map&&(E.map.value=S.map,e(S.map,E.mapTransform)),S.alphaMap&&(E.alphaMap.value=S.alphaMap,e(S.alphaMap,E.alphaMapTransform)),S.alphaTest>0&&(E.alphaTest.value=S.alphaTest)}function m(E,S){E.specular.value.copy(S.specular),E.shininess.value=Math.max(S.shininess,1e-4)}function g(E,S){S.gradientMap&&(E.gradientMap.value=S.gradientMap)}function y(E,S){E.metalness.value=S.metalness,S.metalnessMap&&(E.metalnessMap.value=S.metalnessMap,e(S.metalnessMap,E.metalnessMapTransform)),E.roughness.value=S.roughness,S.roughnessMap&&(E.roughnessMap.value=S.roughnessMap,e(S.roughnessMap,E.roughnessMapTransform)),S.envMap&&(E.envMapIntensity.value=S.envMapIntensity)}function A(E,S,R){E.ior.value=S.ior,S.sheen>0&&(E.sheenColor.value.copy(S.sheenColor).multiplyScalar(S.sheen),E.sheenRoughness.value=S.sheenRoughness,S.sheenColorMap&&(E.sheenColorMap.value=S.sheenColorMap,e(S.sheenColorMap,E.sheenColorMapTransform)),S.sheenRoughnessMap&&(E.sheenRoughnessMap.value=S.sheenRoughnessMap,e(S.sheenRoughnessMap,E.sheenRoughnessMapTransform))),S.clearcoat>0&&(E.clearcoat.value=S.clearcoat,E.clearcoatRoughness.value=S.clearcoatRoughness,S.clearcoatMap&&(E.clearcoatMap.value=S.clearcoatMap,e(S.clearcoatMap,E.clearcoatMapTransform)),S.clearcoatRoughnessMap&&(E.clearcoatRoughnessMap.value=S.clearcoatRoughnessMap,e(S.clearcoatRoughnessMap,E.clearcoatRoughnessMapTransform)),S.clearcoatNormalMap&&(E.clearcoatNormalMap.value=S.clearcoatNormalMap,e(S.clearcoatNormalMap,E.clearcoatNormalMapTransform),E.clearcoatNormalScale.value.copy(S.clearcoatNormalScale),S.side===Ea&&E.clearcoatNormalScale.value.negate())),S.dispersion>0&&(E.dispersion.value=S.dispersion),S.iridescence>0&&(E.iridescence.value=S.iridescence,E.iridescenceIOR.value=S.iridescenceIOR,E.iridescenceThicknessMinimum.value=S.iridescenceThicknessRange[0],E.iridescenceThicknessMaximum.value=S.iridescenceThicknessRange[1],S.iridescenceMap&&(E.iridescenceMap.value=S.iridescenceMap,e(S.iridescenceMap,E.iridescenceMapTransform)),S.iridescenceThicknessMap&&(E.iridescenceThicknessMap.value=S.iridescenceThicknessMap,e(S.iridescenceThicknessMap,E.iridescenceThicknessMapTransform))),S.transmission>0&&(E.transmission.value=S.transmission,E.transmissionSamplerMap.value=R.texture,E.transmissionSamplerSize.value.set(R.width,R.height),S.transmissionMap&&(E.transmissionMap.value=S.transmissionMap,e(S.transmissionMap,E.transmissionMapTransform)),E.thickness.value=S.thickness,S.thicknessMap&&(E.thicknessMap.value=S.thicknessMap,e(S.thicknessMap,E.thicknessMapTransform)),E.attenuationDistance.value=S.attenuationDistance,E.attenuationColor.value.copy(S.attenuationColor)),S.anisotropy>0&&(E.anisotropyVector.value.set(S.anisotropy*Math.cos(S.anisotropyRotation),S.anisotropy*Math.sin(S.anisotropyRotation)),S.anisotropyMap&&(E.anisotropyMap.value=S.anisotropyMap,e(S.anisotropyMap,E.anisotropyMapTransform))),E.specularIntensity.value=S.specularIntensity,E.specularColor.value.copy(S.specularColor),S.specularColorMap&&(E.specularColorMap.value=S.specularColorMap,e(S.specularColorMap,E.specularColorMapTransform)),S.specularIntensityMap&&(E.specularIntensityMap.value=S.specularIntensityMap,e(S.specularIntensityMap,E.specularIntensityMapTransform))}function b(E,S){S.matcap&&(E.matcap.value=S.matcap)}function T(E,S){const R=t.get(S).light;E.referencePosition.value.setFromMatrixPosition(R.matrixWorld),E.nearDistance.value=R.shadow.camera.near,E.farDistance.value=R.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:s}}function rq(n,t,e,i){let s={},a={},o=[];const c=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function u(R,B){const D=B.program;i.uniformBlockBinding(R,D)}function d(R,B){let D=s[R.id];D===void 0&&(b(R),D=m(R),s[R.id]=D,R.addEventListener("dispose",E));const U=B.program;i.updateUBOMapping(R,U);const N=t.render.frame;a[R.id]!==N&&(y(R),a[R.id]=N)}function m(R){const B=g();R.__bindingPointIndex=B;const D=n.createBuffer(),U=R.__size,N=R.usage;return n.bindBuffer(n.UNIFORM_BUFFER,D),n.bufferData(n.UNIFORM_BUFFER,U,N),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,B,D),D}function g(){for(let R=0;R<c;R++)if(o.indexOf(R)===-1)return o.push(R),R;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function y(R){const B=s[R.id],D=R.uniforms,U=R.__cache;n.bindBuffer(n.UNIFORM_BUFFER,B);for(let N=0,F=D.length;N<F;N++){const z=Array.isArray(D[N])?D[N]:[D[N]];for(let O=0,I=z.length;O<I;O++){const Y=z[O];if(A(Y,N,O,U)===!0){const dt=Y.__offset,at=Array.isArray(Y.value)?Y.value:[Y.value];let Q=0;for(let lt=0;lt<at.length;lt++){const tt=at[lt],et=T(tt);typeof tt=="number"||typeof tt=="boolean"?(Y.__data[0]=tt,n.bufferSubData(n.UNIFORM_BUFFER,dt+Q,Y.__data)):tt.isMatrix3?(Y.__data[0]=tt.elements[0],Y.__data[1]=tt.elements[1],Y.__data[2]=tt.elements[2],Y.__data[3]=0,Y.__data[4]=tt.elements[3],Y.__data[5]=tt.elements[4],Y.__data[6]=tt.elements[5],Y.__data[7]=0,Y.__data[8]=tt.elements[6],Y.__data[9]=tt.elements[7],Y.__data[10]=tt.elements[8],Y.__data[11]=0):(tt.toArray(Y.__data,Q),Q+=et.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,dt,Y.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function A(R,B,D,U){const N=R.value,F=B+"_"+D;if(U[F]===void 0)return typeof N=="number"||typeof N=="boolean"?U[F]=N:U[F]=N.clone(),!0;{const z=U[F];if(typeof N=="number"||typeof N=="boolean"){if(z!==N)return U[F]=N,!0}else if(z.equals(N)===!1)return z.copy(N),!0}return!1}function b(R){const B=R.uniforms;let D=0;const U=16;for(let F=0,z=B.length;F<z;F++){const O=Array.isArray(B[F])?B[F]:[B[F]];for(let I=0,Y=O.length;I<Y;I++){const dt=O[I],at=Array.isArray(dt.value)?dt.value:[dt.value];for(let Q=0,lt=at.length;Q<lt;Q++){const tt=at[Q],et=T(tt),Z=D%U,vt=Z%et.boundary,X=Z+vt;D+=vt,X!==0&&U-X<et.storage&&(D+=U-X),dt.__data=new Float32Array(et.storage/Float32Array.BYTES_PER_ELEMENT),dt.__offset=D,D+=et.storage}}}const N=D%U;return N>0&&(D+=U-N),R.__size=D,R.__cache={},this}function T(R){const B={boundary:0,storage:0};return typeof R=="number"||typeof R=="boolean"?(B.boundary=4,B.storage=4):R.isVector2?(B.boundary=8,B.storage=8):R.isVector3||R.isColor?(B.boundary=16,B.storage=12):R.isVector4?(B.boundary=16,B.storage=16):R.isMatrix3?(B.boundary=48,B.storage=48):R.isMatrix4?(B.boundary=64,B.storage=64):R.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",R),B}function E(R){const B=R.target;B.removeEventListener("dispose",E);const D=o.indexOf(B.__bindingPointIndex);o.splice(D,1),n.deleteBuffer(s[B.id]),delete s[B.id],delete a[B.id]}function S(){for(const R in s)n.deleteBuffer(s[R]);o=[],s={},a={}}return{bind:u,update:d,dispose:S}}class i4{constructor(t={}){const{canvas:e=$O(),context:i=null,depth:s=!0,stencil:a=!1,alpha:o=!1,antialias:c=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:d=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:g=!1,reverseDepthBuffer:y=!1}=t;this.isWebGLRenderer=!0;let A;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");A=i.getContextAttributes().alpha}else A=o;const b=new Uint32Array(4),T=new Int32Array(4);let E=null,S=null;const R=[],B=[];this.domElement=e,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=ea,this.toneMapping=wl,this.toneMappingExposure=1;const D=this;let U=!1,N=0,F=0,z=null,O=-1,I=null;const Y=new mn,dt=new mn;let at=null;const Q=new ie(0);let lt=0,tt=e.width,et=e.height,Z=1,vt=null,X=null;const it=new mn(0,0,tt,et),Mt=new mn(0,0,tt,et);let Ot=!1;const st=new Tv;let Et=!1,Bt=!1;this.transmissionResolutionScale=1;const Pt=new Re,Ht=new Re,fe=new q,Xt=new mn,ne={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Dt=!1;function Rt(){return z===null?Z:1}let K=i;function he(V,rt){return e.getContext(V,rt)}try{const V={alpha:!0,depth:s,stencil:a,antialias:c,premultipliedAlpha:u,preserveDrawingBuffer:d,powerPreference:m,failIfMajorPerformanceCaveat:g};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${xv}`),e.addEventListener("webglcontextlost",It,!1),e.addEventListener("webglcontextrestored",te,!1),e.addEventListener("webglcontextcreationerror",se,!1),K===null){const rt="webgl2";if(K=he(rt,V),K===null)throw he(rt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(V){throw console.error("THREE.WebGLRenderer: "+V.message),V}let Vt,Qt,Jt,_e,Zt,W,H,yt,Ct,Gt,Lt,ue,ee,de,Ke,qt,me,xe,ye,pe,He,be,bn,ct;function ae(){Vt=new yY(K),Vt.init(),be=new n4(K,Vt),Qt=new hY(K,Vt,t,be),Jt=new QW(K,Vt),Qt.reverseDepthBuffer&&y&&Jt.buffers.depth.setReversed(!0),_e=new _Y(K),Zt=new zW,W=new $W(K,Vt,Jt,Zt,Qt,be,_e),H=new pY(D),yt=new vY(D),Ct=new wk(K),bn=new uY(K,Ct),Gt=new xY(K,Ct,_e,bn),Lt=new bY(K,Gt,Ct,_e),ye=new SY(K,Qt,W),qt=new dY(Zt),ue=new FW(D,H,yt,Vt,Qt,bn,qt),ee=new aq(D,Zt),de=new GW,Ke=new WW(Vt),xe=new cY(D,H,yt,Jt,Lt,A,u),me=new JW(D,Lt,Qt),ct=new rq(K,_e,Qt,Jt),pe=new fY(K,Vt,_e),He=new AY(K,Vt,_e),_e.programs=ue.programs,D.capabilities=Qt,D.extensions=Vt,D.properties=Zt,D.renderLists=de,D.shadowMap=me,D.state=Jt,D.info=_e}ae();const Tt=new iq(D,K);this.xr=Tt,this.getContext=function(){return K},this.getContextAttributes=function(){return K.getContextAttributes()},this.forceContextLoss=function(){const V=Vt.get("WEBGL_lose_context");V&&V.loseContext()},this.forceContextRestore=function(){const V=Vt.get("WEBGL_lose_context");V&&V.restoreContext()},this.getPixelRatio=function(){return Z},this.setPixelRatio=function(V){V!==void 0&&(Z=V,this.setSize(tt,et,!1))},this.getSize=function(V){return V.set(tt,et)},this.setSize=function(V,rt,At=!0){if(Tt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}tt=V,et=rt,e.width=Math.floor(V*Z),e.height=Math.floor(rt*Z),At===!0&&(e.style.width=V+"px",e.style.height=rt+"px"),this.setViewport(0,0,V,rt)},this.getDrawingBufferSize=function(V){return V.set(tt*Z,et*Z).floor()},this.setDrawingBufferSize=function(V,rt,At){tt=V,et=rt,Z=At,e.width=Math.floor(V*At),e.height=Math.floor(rt*At),this.setViewport(0,0,V,rt)},this.getCurrentViewport=function(V){return V.copy(Y)},this.getViewport=function(V){return V.copy(it)},this.setViewport=function(V,rt,At,gt){V.isVector4?it.set(V.x,V.y,V.z,V.w):it.set(V,rt,At,gt),Jt.viewport(Y.copy(it).multiplyScalar(Z).round())},this.getScissor=function(V){return V.copy(Mt)},this.setScissor=function(V,rt,At,gt){V.isVector4?Mt.set(V.x,V.y,V.z,V.w):Mt.set(V,rt,At,gt),Jt.scissor(dt.copy(Mt).multiplyScalar(Z).round())},this.getScissorTest=function(){return Ot},this.setScissorTest=function(V){Jt.setScissorTest(Ot=V)},this.setOpaqueSort=function(V){vt=V},this.setTransparentSort=function(V){X=V},this.getClearColor=function(V){return V.copy(xe.getClearColor())},this.setClearColor=function(){xe.setClearColor.apply(xe,arguments)},this.getClearAlpha=function(){return xe.getClearAlpha()},this.setClearAlpha=function(){xe.setClearAlpha.apply(xe,arguments)},this.clear=function(V=!0,rt=!0,At=!0){let gt=0;if(V){let ft=!1;if(z!==null){const kt=z.texture.format;ft=kt===g_||kt===m_||kt===_v}if(ft){const kt=z.texture.type,$t=kt===Uo||kt===Ic||kt===qp||kt===Hh||kt===h_||kt===d_,oe=xe.getClearColor(),re=xe.getClearAlpha(),Ne=oe.r,Ue=oe.g,Te=oe.b;$t?(b[0]=Ne,b[1]=Ue,b[2]=Te,b[3]=re,K.clearBufferuiv(K.COLOR,0,b)):(T[0]=Ne,T[1]=Ue,T[2]=Te,T[3]=re,K.clearBufferiv(K.COLOR,0,T))}else gt|=K.COLOR_BUFFER_BIT}rt&&(gt|=K.DEPTH_BUFFER_BIT),At&&(gt|=K.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),K.clear(gt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",It,!1),e.removeEventListener("webglcontextrestored",te,!1),e.removeEventListener("webglcontextcreationerror",se,!1),xe.dispose(),de.dispose(),Ke.dispose(),Zt.dispose(),H.dispose(),yt.dispose(),Lt.dispose(),bn.dispose(),ct.dispose(),ue.dispose(),Tt.dispose(),Tt.removeEventListener("sessionstart",rf),Tt.removeEventListener("sessionend",zl),Ca.stop()};function It(V){V.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),U=!0}function te(){console.log("THREE.WebGLRenderer: Context Restored."),U=!1;const V=_e.autoReset,rt=me.enabled,At=me.autoUpdate,gt=me.needsUpdate,ft=me.type;ae(),_e.autoReset=V,me.enabled=rt,me.autoUpdate=At,me.needsUpdate=gt,me.type=ft}function se(V){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",V.statusMessage)}function Le(V){const rt=V.target;rt.removeEventListener("dispose",Le),Gn(rt)}function Gn(V){ni(V),Zt.remove(V)}function ni(V){const rt=Zt.get(V).programs;rt!==void 0&&(rt.forEach(function(At){ue.releaseProgram(At)}),V.isShaderMaterial&&ue.releaseShaderCache(V))}this.renderBufferDirect=function(V,rt,At,gt,ft,kt){rt===null&&(rt=ne);const $t=ft.isMesh&&ft.matrixWorld.determinant()<0,oe=td(V,rt,At,gt,ft);Jt.setMaterial(gt,$t);let re=At.index,Ne=1;if(gt.wireframe===!0){if(re=Gt.getWireframeAttribute(At),re===void 0)return;Ne=2}const Ue=At.drawRange,Te=At.attributes.position;let ln=Ue.start*Ne,cn=(Ue.start+Ue.count)*Ne;kt!==null&&(ln=Math.max(ln,kt.start*Ne),cn=Math.min(cn,(kt.start+kt.count)*Ne)),re!==null?(ln=Math.max(ln,0),cn=Math.min(cn,re.count)):Te!=null&&(ln=Math.max(ln,0),cn=Math.min(cn,Te.count));const Xn=cn-ln;if(Xn<0||Xn===1/0)return;bn.setup(ft,gt,oe,At,re);let vn,ze=pe;if(re!==null&&(vn=Ct.get(re),ze=He,ze.setIndex(vn)),ft.isMesh)gt.wireframe===!0?(Jt.setLineWidth(gt.wireframeLinewidth*Rt()),ze.setMode(K.LINES)):ze.setMode(K.TRIANGLES);else if(ft.isLine){let Ce=gt.linewidth;Ce===void 0&&(Ce=1),Jt.setLineWidth(Ce*Rt()),ft.isLineSegments?ze.setMode(K.LINES):ft.isLineLoop?ze.setMode(K.LINE_LOOP):ze.setMode(K.LINE_STRIP)}else ft.isPoints?ze.setMode(K.POINTS):ft.isSprite&&ze.setMode(K.TRIANGLES);if(ft.isBatchedMesh)if(ft._multiDrawInstances!==null)ze.renderMultiDrawInstances(ft._multiDrawStarts,ft._multiDrawCounts,ft._multiDrawCount,ft._multiDrawInstances);else if(Vt.get("WEBGL_multi_draw"))ze.renderMultiDraw(ft._multiDrawStarts,ft._multiDrawCounts,ft._multiDrawCount);else{const Ce=ft._multiDrawStarts,Mi=ft._multiDrawCounts,un=ft._multiDrawCount,Cs=re?Ct.get(re).bytesPerElement:1,ca=Zt.get(gt).currentProgram.getUniforms();for(let cs=0;cs<un;cs++)ca.setValue(K,"_gl_DrawID",cs),ze.render(Ce[cs]/Cs,Mi[cs])}else if(ft.isInstancedMesh)ze.renderInstances(ln,Xn,ft.count);else if(At.isInstancedBufferGeometry){const Ce=At._maxInstanceCount!==void 0?At._maxInstanceCount:1/0,Mi=Math.min(At.instanceCount,Ce);ze.renderInstances(ln,Xn,Mi)}else ze.render(ln,Xn)};function dn(V,rt,At){V.transparent===!0&&V.side===zr&&V.forceSinglePass===!1?(V.side=Ea,V.needsUpdate=!0,Je(V,rt,At),V.side=Ol,V.needsUpdate=!0,Je(V,rt,At),V.side=zr):Je(V,rt,At)}this.compile=function(V,rt,At=null){At===null&&(At=V),S=Ke.get(At),S.init(rt),B.push(S),At.traverseVisible(function(ft){ft.isLight&&ft.layers.test(rt.layers)&&(S.pushLight(ft),ft.castShadow&&S.pushShadow(ft))}),V!==At&&V.traverseVisible(function(ft){ft.isLight&&ft.layers.test(rt.layers)&&(S.pushLight(ft),ft.castShadow&&S.pushShadow(ft))}),S.setupLights();const gt=new Set;return V.traverse(function(ft){if(!(ft.isMesh||ft.isPoints||ft.isLine||ft.isSprite))return;const kt=ft.material;if(kt)if(Array.isArray(kt))for(let $t=0;$t<kt.length;$t++){const oe=kt[$t];dn(oe,At,ft),gt.add(oe)}else dn(kt,At,ft),gt.add(kt)}),B.pop(),S=null,gt},this.compileAsync=function(V,rt,At=null){const gt=this.compile(V,rt,At);return new Promise(ft=>{function kt(){if(gt.forEach(function($t){Zt.get($t).currentProgram.isReady()&&gt.delete($t)}),gt.size===0){ft(V);return}setTimeout(kt,10)}Vt.get("KHR_parallel_shader_compile")!==null?kt():setTimeout(kt,10)})};let os=null;function ls(V){os&&os(V)}function rf(){Ca.stop()}function zl(){Ca.start()}const Ca=new ZP;Ca.setAnimationLoop(ls),typeof self<"u"&&Ca.setContext(self),this.setAnimationLoop=function(V){os=V,Tt.setAnimationLoop(V),V===null?Ca.stop():Ca.start()},Tt.addEventListener("sessionstart",rf),Tt.addEventListener("sessionend",zl),this.render=function(V,rt){if(rt!==void 0&&rt.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(U===!0)return;if(V.matrixWorldAutoUpdate===!0&&V.updateMatrixWorld(),rt.parent===null&&rt.matrixWorldAutoUpdate===!0&&rt.updateMatrixWorld(),Tt.enabled===!0&&Tt.isPresenting===!0&&(Tt.cameraAutoUpdate===!0&&Tt.updateCamera(rt),rt=Tt.getCamera()),V.isScene===!0&&V.onBeforeRender(D,V,rt,z),S=Ke.get(V,B.length),S.init(rt),B.push(S),Ht.multiplyMatrices(rt.projectionMatrix,rt.matrixWorldInverse),st.setFromProjectionMatrix(Ht),Bt=this.localClippingEnabled,Et=qt.init(this.clippingPlanes,Bt),E=de.get(V,R.length),E.init(),R.push(E),Tt.enabled===!0&&Tt.isPresenting===!0){const kt=D.xr.getDepthSensingMesh();kt!==null&&la(kt,rt,-1/0,D.sortObjects)}la(V,rt,0,D.sortObjects),E.finish(),D.sortObjects===!0&&E.sort(vt,X),Dt=Tt.enabled===!1||Tt.isPresenting===!1||Tt.hasDepthSensing()===!1,Dt&&xe.addToRenderList(E,V),this.info.render.frame++,Et===!0&&qt.beginShadows();const At=S.state.shadowsArray;me.render(At,V,rt),Et===!0&&qt.endShadows(),this.info.autoReset===!0&&this.info.reset();const gt=E.opaque,ft=E.transmissive;if(S.setupLights(),rt.isArrayCamera){const kt=rt.cameras;if(ft.length>0)for(let $t=0,oe=kt.length;$t<oe;$t++){const re=kt[$t];qa(gt,ft,V,re)}Dt&&xe.render(V);for(let $t=0,oe=kt.length;$t<oe;$t++){const re=kt[$t];zc(E,V,re,re.viewport)}}else ft.length>0&&qa(gt,ft,V,rt),Dt&&xe.render(V),zc(E,V,rt);z!==null&&F===0&&(W.updateMultisampleRenderTarget(z),W.updateRenderTargetMipmap(z)),V.isScene===!0&&V.onAfterRender(D,V,rt),bn.resetDefaultState(),O=-1,I=null,B.pop(),B.length>0?(S=B[B.length-1],Et===!0&&qt.setGlobalState(D.clippingPlanes,S.state.camera)):S=null,R.pop(),R.length>0?E=R[R.length-1]:E=null};function la(V,rt,At,gt){if(V.visible===!1)return;if(V.layers.test(rt.layers)){if(V.isGroup)At=V.renderOrder;else if(V.isLOD)V.autoUpdate===!0&&V.update(rt);else if(V.isLight)S.pushLight(V),V.castShadow&&S.pushShadow(V);else if(V.isSprite){if(!V.frustumCulled||st.intersectsSprite(V)){gt&&Xt.setFromMatrixPosition(V.matrixWorld).applyMatrix4(Ht);const $t=Lt.update(V),oe=V.material;oe.visible&&E.push(V,$t,oe,At,Xt.z,null)}}else if((V.isMesh||V.isLine||V.isPoints)&&(!V.frustumCulled||st.intersectsObject(V))){const $t=Lt.update(V),oe=V.material;if(gt&&(V.boundingSphere!==void 0?(V.boundingSphere===null&&V.computeBoundingSphere(),Xt.copy(V.boundingSphere.center)):($t.boundingSphere===null&&$t.computeBoundingSphere(),Xt.copy($t.boundingSphere.center)),Xt.applyMatrix4(V.matrixWorld).applyMatrix4(Ht)),Array.isArray(oe)){const re=$t.groups;for(let Ne=0,Ue=re.length;Ne<Ue;Ne++){const Te=re[Ne],ln=oe[Te.materialIndex];ln&&ln.visible&&E.push(V,$t,ln,At,Xt.z,Te)}}else oe.visible&&E.push(V,$t,oe,At,Xt.z,null)}}const kt=V.children;for(let $t=0,oe=kt.length;$t<oe;$t++)la(kt[$t],rt,At,gt)}function zc(V,rt,At,gt){const ft=V.opaque,kt=V.transmissive,$t=V.transparent;S.setupLightsView(At),Et===!0&&qt.setGlobalState(D.clippingPlanes,At),gt&&Jt.viewport(Y.copy(gt)),ft.length>0&&fi(ft,rt,At),kt.length>0&&fi(kt,rt,At),$t.length>0&&fi($t,rt,At),Jt.buffers.depth.setTest(!0),Jt.buffers.depth.setMask(!0),Jt.buffers.color.setMask(!0),Jt.setPolygonOffset(!1)}function qa(V,rt,At,gt){if((At.isScene===!0?At.overrideMaterial:null)!==null)return;S.state.transmissionRenderTarget[gt.id]===void 0&&(S.state.transmissionRenderTarget[gt.id]=new Pl(1,1,{generateMipmaps:!0,type:Vt.has("EXT_color_buffer_half_float")||Vt.has("EXT_color_buffer_float")?dm:Uo,minFilter:Hr,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Sn.workingColorSpace}));const kt=S.state.transmissionRenderTarget[gt.id],$t=gt.viewport||Y;kt.setSize($t.z*D.transmissionResolutionScale,$t.w*D.transmissionResolutionScale);const oe=D.getRenderTarget();D.setRenderTarget(kt),D.getClearColor(Q),lt=D.getClearAlpha(),lt<1&&D.setClearColor(16777215,.5),D.clear(),Dt&&xe.render(At);const re=D.toneMapping;D.toneMapping=wl;const Ne=gt.viewport;if(gt.viewport!==void 0&&(gt.viewport=void 0),S.setupLightsView(gt),Et===!0&&qt.setGlobalState(D.clippingPlanes,gt),fi(V,At,gt),W.updateMultisampleRenderTarget(kt),W.updateRenderTargetMipmap(kt),Vt.has("WEBGL_multisampled_render_to_texture")===!1){let Ue=!1;for(let Te=0,ln=rt.length;Te<ln;Te++){const cn=rt[Te],Xn=cn.object,vn=cn.geometry,ze=cn.material,Ce=cn.group;if(ze.side===zr&&Xn.layers.test(gt.layers)){const Mi=ze.side;ze.side=Ea,ze.needsUpdate=!0,ai(Xn,At,gt,vn,ze,Ce),ze.side=Mi,ze.needsUpdate=!0,Ue=!0}}Ue===!0&&(W.updateMultisampleRenderTarget(kt),W.updateRenderTargetMipmap(kt))}D.setRenderTarget(oe),D.setClearColor(Q,lt),Ne!==void 0&&(gt.viewport=Ne),D.toneMapping=re}function fi(V,rt,At){const gt=rt.isScene===!0?rt.overrideMaterial:null;for(let ft=0,kt=V.length;ft<kt;ft++){const $t=V[ft],oe=$t.object,re=$t.geometry,Ne=gt===null?$t.material:gt,Ue=$t.group;oe.layers.test(At.layers)&&ai(oe,rt,At,re,Ne,Ue)}}function ai(V,rt,At,gt,ft,kt){V.onBeforeRender(D,rt,At,gt,ft,kt),V.modelViewMatrix.multiplyMatrices(At.matrixWorldInverse,V.matrixWorld),V.normalMatrix.getNormalMatrix(V.modelViewMatrix),ft.onBeforeRender(D,rt,At,gt,V,kt),ft.transparent===!0&&ft.side===zr&&ft.forceSinglePass===!1?(ft.side=Ea,ft.needsUpdate=!0,D.renderBufferDirect(At,rt,gt,ft,V,kt),ft.side=Ol,ft.needsUpdate=!0,D.renderBufferDirect(At,rt,gt,ft,V,kt),ft.side=zr):D.renderBufferDirect(At,rt,gt,ft,V,kt),V.onAfterRender(D,rt,At,gt,ft,kt)}function Je(V,rt,At){rt.isScene!==!0&&(rt=ne);const gt=Zt.get(V),ft=S.state.lights,kt=S.state.shadowsArray,$t=ft.state.version,oe=ue.getParameters(V,ft.state,kt,rt,At),re=ue.getProgramCacheKey(oe);let Ne=gt.programs;gt.environment=V.isMeshStandardMaterial?rt.environment:null,gt.fog=rt.fog,gt.envMap=(V.isMeshStandardMaterial?yt:H).get(V.envMap||gt.environment),gt.envMapRotation=gt.environment!==null&&V.envMap===null?rt.environmentRotation:V.envMapRotation,Ne===void 0&&(V.addEventListener("dispose",Le),Ne=new Map,gt.programs=Ne);let Ue=Ne.get(re);if(Ue!==void 0){if(gt.currentProgram===Ue&&gt.lightsStateVersion===$t)return Ho(V,oe),Ue}else oe.uniforms=ue.getUniforms(V),V.onBeforeCompile(oe,D),Ue=ue.acquireProgram(oe,re),Ne.set(re,Ue),gt.uniforms=oe.uniforms;const Te=gt.uniforms;return(!V.isShaderMaterial&&!V.isRawShaderMaterial||V.clipping===!0)&&(Te.clippingPlanes=qt.uniform),Ho(V,oe),gt.needsLights=nd(V),gt.lightsStateVersion=$t,gt.needsLights&&(Te.ambientLightColor.value=ft.state.ambient,Te.lightProbe.value=ft.state.probe,Te.directionalLights.value=ft.state.directional,Te.directionalLightShadows.value=ft.state.directionalShadow,Te.spotLights.value=ft.state.spot,Te.spotLightShadows.value=ft.state.spotShadow,Te.rectAreaLights.value=ft.state.rectArea,Te.ltc_1.value=ft.state.rectAreaLTC1,Te.ltc_2.value=ft.state.rectAreaLTC2,Te.pointLights.value=ft.state.point,Te.pointLightShadows.value=ft.state.pointShadow,Te.hemisphereLights.value=ft.state.hemi,Te.directionalShadowMap.value=ft.state.directionalShadowMap,Te.directionalShadowMatrix.value=ft.state.directionalShadowMatrix,Te.spotShadowMap.value=ft.state.spotShadowMap,Te.spotLightMatrix.value=ft.state.spotLightMatrix,Te.spotLightMap.value=ft.state.spotLightMap,Te.pointShadowMap.value=ft.state.pointShadowMap,Te.pointShadowMatrix.value=ft.state.pointShadowMatrix),gt.currentProgram=Ue,gt.uniformsList=null,Ue}function Ka(V){if(V.uniformsList===null){const rt=V.currentProgram.getUniforms();V.uniformsList=Lx.seqWithValue(rt.seq,V.uniforms)}return V.uniformsList}function Ho(V,rt){const At=Zt.get(V);At.outputColorSpace=rt.outputColorSpace,At.batching=rt.batching,At.batchingColor=rt.batchingColor,At.instancing=rt.instancing,At.instancingColor=rt.instancingColor,At.instancingMorph=rt.instancingMorph,At.skinning=rt.skinning,At.morphTargets=rt.morphTargets,At.morphNormals=rt.morphNormals,At.morphColors=rt.morphColors,At.morphTargetsCount=rt.morphTargetsCount,At.numClippingPlanes=rt.numClippingPlanes,At.numIntersection=rt.numClipIntersection,At.vertexAlphas=rt.vertexAlphas,At.vertexTangents=rt.vertexTangents,At.toneMapping=rt.toneMapping}function td(V,rt,At,gt,ft){rt.isScene!==!0&&(rt=ne),W.resetTextureUnits();const kt=rt.fog,$t=gt.isMeshStandardMaterial?rt.environment:null,oe=z===null?D.outputColorSpace:z.isXRRenderTarget===!0?z.texture.colorSpace:Ku,re=(gt.isMeshStandardMaterial?yt:H).get(gt.envMap||$t),Ne=gt.vertexColors===!0&&!!At.attributes.color&&At.attributes.color.itemSize===4,Ue=!!At.attributes.tangent&&(!!gt.normalMap||gt.anisotropy>0),Te=!!At.morphAttributes.position,ln=!!At.morphAttributes.normal,cn=!!At.morphAttributes.color;let Xn=wl;gt.toneMapped&&(z===null||z.isXRRenderTarget===!0)&&(Xn=D.toneMapping);const vn=At.morphAttributes.position||At.morphAttributes.normal||At.morphAttributes.color,ze=vn!==void 0?vn.length:0,Ce=Zt.get(gt),Mi=S.state.lights;if(Et===!0&&(Bt===!0||V!==I)){const ri=V===I&&gt.id===O;qt.setState(gt,V,ri)}let un=!1;gt.version===Ce.__version?(Ce.needsLights&&Ce.lightsStateVersion!==Mi.state.version||Ce.outputColorSpace!==oe||ft.isBatchedMesh&&Ce.batching===!1||!ft.isBatchedMesh&&Ce.batching===!0||ft.isBatchedMesh&&Ce.batchingColor===!0&&ft.colorTexture===null||ft.isBatchedMesh&&Ce.batchingColor===!1&&ft.colorTexture!==null||ft.isInstancedMesh&&Ce.instancing===!1||!ft.isInstancedMesh&&Ce.instancing===!0||ft.isSkinnedMesh&&Ce.skinning===!1||!ft.isSkinnedMesh&&Ce.skinning===!0||ft.isInstancedMesh&&Ce.instancingColor===!0&&ft.instanceColor===null||ft.isInstancedMesh&&Ce.instancingColor===!1&&ft.instanceColor!==null||ft.isInstancedMesh&&Ce.instancingMorph===!0&&ft.morphTexture===null||ft.isInstancedMesh&&Ce.instancingMorph===!1&&ft.morphTexture!==null||Ce.envMap!==re||gt.fog===!0&&Ce.fog!==kt||Ce.numClippingPlanes!==void 0&&(Ce.numClippingPlanes!==qt.numPlanes||Ce.numIntersection!==qt.numIntersection)||Ce.vertexAlphas!==Ne||Ce.vertexTangents!==Ue||Ce.morphTargets!==Te||Ce.morphNormals!==ln||Ce.morphColors!==cn||Ce.toneMapping!==Xn||Ce.morphTargetsCount!==ze)&&(un=!0):(un=!0,Ce.__version=gt.version);let Cs=Ce.currentProgram;un===!0&&(Cs=Je(gt,rt,ft));let ca=!1,cs=!1,Pi=!1;const Ln=Cs.getUniforms(),us=Ce.uniforms;if(Jt.useProgram(Cs.program)&&(ca=!0,cs=!0,Pi=!0),gt.id!==O&&(O=gt.id,cs=!0),ca||I!==V){Jt.buffers.depth.getReversed()?(Pt.copy(V.projectionMatrix),t7(Pt),e7(Pt),Ln.setValue(K,"projectionMatrix",Pt)):Ln.setValue(K,"projectionMatrix",V.projectionMatrix),Ln.setValue(K,"viewMatrix",V.matrixWorldInverse);const Yi=Ln.map.cameraPosition;Yi!==void 0&&Yi.setValue(K,fe.setFromMatrixPosition(V.matrixWorld)),Qt.logarithmicDepthBuffer&&Ln.setValue(K,"logDepthBufFC",2/(Math.log(V.far+1)/Math.LN2)),(gt.isMeshPhongMaterial||gt.isMeshToonMaterial||gt.isMeshLambertMaterial||gt.isMeshBasicMaterial||gt.isMeshStandardMaterial||gt.isShaderMaterial)&&Ln.setValue(K,"isOrthographic",V.isOrthographicCamera===!0),I!==V&&(I=V,cs=!0,Pi=!0)}if(ft.isSkinnedMesh){Ln.setOptional(K,ft,"bindMatrix"),Ln.setOptional(K,ft,"bindMatrixInverse");const ri=ft.skeleton;ri&&(ri.boneTexture===null&&ri.computeBoneTexture(),Ln.setValue(K,"boneTexture",ri.boneTexture,W))}ft.isBatchedMesh&&(Ln.setOptional(K,ft,"batchingTexture"),Ln.setValue(K,"batchingTexture",ft._matricesTexture,W),Ln.setOptional(K,ft,"batchingIdTexture"),Ln.setValue(K,"batchingIdTexture",ft._indirectTexture,W),Ln.setOptional(K,ft,"batchingColorTexture"),ft._colorsTexture!==null&&Ln.setValue(K,"batchingColorTexture",ft._colorsTexture,W));const Qi=At.morphAttributes;if((Qi.position!==void 0||Qi.normal!==void 0||Qi.color!==void 0)&&ye.update(ft,At,Cs),(cs||Ce.receiveShadow!==ft.receiveShadow)&&(Ce.receiveShadow=ft.receiveShadow,Ln.setValue(K,"receiveShadow",ft.receiveShadow)),gt.isMeshGouraudMaterial&&gt.envMap!==null&&(us.envMap.value=re,us.flipEnvMap.value=re.isCubeTexture&&re.isRenderTargetTexture===!1?-1:1),gt.isMeshStandardMaterial&&gt.envMap===null&&rt.environment!==null&&(us.envMapIntensity.value=rt.environmentIntensity),cs&&(Ln.setValue(K,"toneMappingExposure",D.toneMappingExposure),Ce.needsLights&&ed(us,Pi),kt&&gt.fog===!0&&ee.refreshFogUniforms(us,kt),ee.refreshMaterialUniforms(us,gt,Z,et,S.state.transmissionRenderTarget[V.id]),Lx.upload(K,Ka(Ce),us,W)),gt.isShaderMaterial&&gt.uniformsNeedUpdate===!0&&(Lx.upload(K,Ka(Ce),us,W),gt.uniformsNeedUpdate=!1),gt.isSpriteMaterial&&Ln.setValue(K,"center",ft.center),Ln.setValue(K,"modelViewMatrix",ft.modelViewMatrix),Ln.setValue(K,"normalMatrix",ft.normalMatrix),Ln.setValue(K,"modelMatrix",ft.matrixWorld),gt.isShaderMaterial||gt.isRawShaderMaterial){const ri=gt.uniformsGroups;for(let Yi=0,Za=ri.length;Yi<Za;Yi++){const ws=ri[Yi];ct.update(ws,Cs),ct.bind(ws,Cs)}}return Cs}function ed(V,rt){V.ambientLightColor.needsUpdate=rt,V.lightProbe.needsUpdate=rt,V.directionalLights.needsUpdate=rt,V.directionalLightShadows.needsUpdate=rt,V.pointLights.needsUpdate=rt,V.pointLightShadows.needsUpdate=rt,V.spotLights.needsUpdate=rt,V.spotLightShadows.needsUpdate=rt,V.rectAreaLights.needsUpdate=rt,V.hemisphereLights.needsUpdate=rt}function nd(V){return V.isMeshLambertMaterial||V.isMeshToonMaterial||V.isMeshPhongMaterial||V.isMeshStandardMaterial||V.isShadowMaterial||V.isShaderMaterial&&V.lights===!0}this.getActiveCubeFace=function(){return N},this.getActiveMipmapLevel=function(){return F},this.getRenderTarget=function(){return z},this.setRenderTargetTextures=function(V,rt,At){Zt.get(V.texture).__webglTexture=rt,Zt.get(V.depthTexture).__webglTexture=At;const gt=Zt.get(V);gt.__hasExternalTextures=!0,gt.__autoAllocateDepthBuffer=At===void 0,gt.__autoAllocateDepthBuffer||Vt.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),gt.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(V,rt){const At=Zt.get(V);At.__webglFramebuffer=rt,At.__useDefaultFramebuffer=rt===void 0};const kr=K.createFramebuffer();this.setRenderTarget=function(V,rt=0,At=0){z=V,N=rt,F=At;let gt=!0,ft=null,kt=!1,$t=!1;if(V){const re=Zt.get(V);if(re.__useDefaultFramebuffer!==void 0)Jt.bindFramebuffer(K.FRAMEBUFFER,null),gt=!1;else if(re.__webglFramebuffer===void 0)W.setupRenderTarget(V);else if(re.__hasExternalTextures)W.rebindTextures(V,Zt.get(V.texture).__webglTexture,Zt.get(V.depthTexture).__webglTexture);else if(V.depthBuffer){const Te=V.depthTexture;if(re.__boundDepthTexture!==Te){if(Te!==null&&Zt.has(Te)&&(V.width!==Te.image.width||V.height!==Te.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");W.setupDepthRenderbuffer(V)}}const Ne=V.texture;(Ne.isData3DTexture||Ne.isDataArrayTexture||Ne.isCompressedArrayTexture)&&($t=!0);const Ue=Zt.get(V).__webglFramebuffer;V.isWebGLCubeRenderTarget?(Array.isArray(Ue[rt])?ft=Ue[rt][At]:ft=Ue[rt],kt=!0):V.samples>0&&W.useMultisampledRTT(V)===!1?ft=Zt.get(V).__webglMultisampledFramebuffer:Array.isArray(Ue)?ft=Ue[At]:ft=Ue,Y.copy(V.viewport),dt.copy(V.scissor),at=V.scissorTest}else Y.copy(it).multiplyScalar(Z).floor(),dt.copy(Mt).multiplyScalar(Z).floor(),at=Ot;if(At!==0&&(ft=kr),Jt.bindFramebuffer(K.FRAMEBUFFER,ft)&&gt&&Jt.drawBuffers(V,ft),Jt.viewport(Y),Jt.scissor(dt),Jt.setScissorTest(at),kt){const re=Zt.get(V.texture);K.framebufferTexture2D(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_CUBE_MAP_POSITIVE_X+rt,re.__webglTexture,At)}else if($t){const re=Zt.get(V.texture),Ne=rt;K.framebufferTextureLayer(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,re.__webglTexture,At,Ne)}else if(V!==null&&At!==0){const re=Zt.get(V.texture);K.framebufferTexture2D(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,re.__webglTexture,At)}O=-1},this.readRenderTargetPixels=function(V,rt,At,gt,ft,kt,$t){if(!(V&&V.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let oe=Zt.get(V).__webglFramebuffer;if(V.isWebGLCubeRenderTarget&&$t!==void 0&&(oe=oe[$t]),oe){Jt.bindFramebuffer(K.FRAMEBUFFER,oe);try{const re=V.texture,Ne=re.format,Ue=re.type;if(!Qt.textureFormatReadable(Ne)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Qt.textureTypeReadable(Ue)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}rt>=0&&rt<=V.width-gt&&At>=0&&At<=V.height-ft&&K.readPixels(rt,At,gt,ft,be.convert(Ne),be.convert(Ue),kt)}finally{const re=z!==null?Zt.get(z).__webglFramebuffer:null;Jt.bindFramebuffer(K.FRAMEBUFFER,re)}}},this.readRenderTargetPixelsAsync=async function(V,rt,At,gt,ft,kt,$t){if(!(V&&V.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let oe=Zt.get(V).__webglFramebuffer;if(V.isWebGLCubeRenderTarget&&$t!==void 0&&(oe=oe[$t]),oe){const re=V.texture,Ne=re.format,Ue=re.type;if(!Qt.textureFormatReadable(Ne))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Qt.textureTypeReadable(Ue))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(rt>=0&&rt<=V.width-gt&&At>=0&&At<=V.height-ft){Jt.bindFramebuffer(K.FRAMEBUFFER,oe);const Te=K.createBuffer();K.bindBuffer(K.PIXEL_PACK_BUFFER,Te),K.bufferData(K.PIXEL_PACK_BUFFER,kt.byteLength,K.STREAM_READ),K.readPixels(rt,At,gt,ft,be.convert(Ne),be.convert(Ue),0);const ln=z!==null?Zt.get(z).__webglFramebuffer:null;Jt.bindFramebuffer(K.FRAMEBUFFER,ln);const cn=K.fenceSync(K.SYNC_GPU_COMMANDS_COMPLETE,0);return K.flush(),await $G(K,cn,4),K.bindBuffer(K.PIXEL_PACK_BUFFER,Te),K.getBufferSubData(K.PIXEL_PACK_BUFFER,0,kt),K.deleteBuffer(Te),K.deleteSync(cn),kt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(V,rt=null,At=0){V.isTexture!==!0&&(Sp("WebGLRenderer: copyFramebufferToTexture function signature has changed."),rt=arguments[0]||null,V=arguments[1]);const gt=Math.pow(2,-At),ft=Math.floor(V.image.width*gt),kt=Math.floor(V.image.height*gt),$t=rt!==null?rt.x:0,oe=rt!==null?rt.y:0;W.setTexture2D(V,0),K.copyTexSubImage2D(K.TEXTURE_2D,At,0,0,$t,oe,ft,kt),Jt.unbindTexture()};const Hl=K.createFramebuffer(),Ja=K.createFramebuffer();this.copyTextureToTexture=function(V,rt,At=null,gt=null,ft=0,kt=null){V.isTexture!==!0&&(Sp("WebGLRenderer: copyTextureToTexture function signature has changed."),gt=arguments[0]||null,V=arguments[1],rt=arguments[2],kt=arguments[3]||0,At=null),kt===null&&(ft!==0?(Sp("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),kt=ft,ft=0):kt=0);let $t,oe,re,Ne,Ue,Te,ln,cn,Xn;const vn=V.isCompressedTexture?V.mipmaps[kt]:V.image;if(At!==null)$t=At.max.x-At.min.x,oe=At.max.y-At.min.y,re=At.isBox3?At.max.z-At.min.z:1,Ne=At.min.x,Ue=At.min.y,Te=At.isBox3?At.min.z:0;else{const Qi=Math.pow(2,-ft);$t=Math.floor(vn.width*Qi),oe=Math.floor(vn.height*Qi),V.isDataArrayTexture?re=vn.depth:V.isData3DTexture?re=Math.floor(vn.depth*Qi):re=1,Ne=0,Ue=0,Te=0}gt!==null?(ln=gt.x,cn=gt.y,Xn=gt.z):(ln=0,cn=0,Xn=0);const ze=be.convert(rt.format),Ce=be.convert(rt.type);let Mi;rt.isData3DTexture?(W.setTexture3D(rt,0),Mi=K.TEXTURE_3D):rt.isDataArrayTexture||rt.isCompressedArrayTexture?(W.setTexture2DArray(rt,0),Mi=K.TEXTURE_2D_ARRAY):(W.setTexture2D(rt,0),Mi=K.TEXTURE_2D),K.pixelStorei(K.UNPACK_FLIP_Y_WEBGL,rt.flipY),K.pixelStorei(K.UNPACK_PREMULTIPLY_ALPHA_WEBGL,rt.premultiplyAlpha),K.pixelStorei(K.UNPACK_ALIGNMENT,rt.unpackAlignment);const un=K.getParameter(K.UNPACK_ROW_LENGTH),Cs=K.getParameter(K.UNPACK_IMAGE_HEIGHT),ca=K.getParameter(K.UNPACK_SKIP_PIXELS),cs=K.getParameter(K.UNPACK_SKIP_ROWS),Pi=K.getParameter(K.UNPACK_SKIP_IMAGES);K.pixelStorei(K.UNPACK_ROW_LENGTH,vn.width),K.pixelStorei(K.UNPACK_IMAGE_HEIGHT,vn.height),K.pixelStorei(K.UNPACK_SKIP_PIXELS,Ne),K.pixelStorei(K.UNPACK_SKIP_ROWS,Ue),K.pixelStorei(K.UNPACK_SKIP_IMAGES,Te);const Ln=V.isDataArrayTexture||V.isData3DTexture,us=rt.isDataArrayTexture||rt.isData3DTexture;if(V.isDepthTexture){const Qi=Zt.get(V),ri=Zt.get(rt),Yi=Zt.get(Qi.__renderTarget),Za=Zt.get(ri.__renderTarget);Jt.bindFramebuffer(K.READ_FRAMEBUFFER,Yi.__webglFramebuffer),Jt.bindFramebuffer(K.DRAW_FRAMEBUFFER,Za.__webglFramebuffer);for(let ws=0;ws<re;ws++)Ln&&(K.framebufferTextureLayer(K.READ_FRAMEBUFFER,K.COLOR_ATTACHMENT0,Zt.get(V).__webglTexture,ft,Te+ws),K.framebufferTextureLayer(K.DRAW_FRAMEBUFFER,K.COLOR_ATTACHMENT0,Zt.get(rt).__webglTexture,kt,Xn+ws)),K.blitFramebuffer(Ne,Ue,$t,oe,ln,cn,$t,oe,K.DEPTH_BUFFER_BIT,K.NEAREST);Jt.bindFramebuffer(K.READ_FRAMEBUFFER,null),Jt.bindFramebuffer(K.DRAW_FRAMEBUFFER,null)}else if(ft!==0||V.isRenderTargetTexture||Zt.has(V)){const Qi=Zt.get(V),ri=Zt.get(rt);Jt.bindFramebuffer(K.READ_FRAMEBUFFER,Hl),Jt.bindFramebuffer(K.DRAW_FRAMEBUFFER,Ja);for(let Yi=0;Yi<re;Yi++)Ln?K.framebufferTextureLayer(K.READ_FRAMEBUFFER,K.COLOR_ATTACHMENT0,Qi.__webglTexture,ft,Te+Yi):K.framebufferTexture2D(K.READ_FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,Qi.__webglTexture,ft),us?K.framebufferTextureLayer(K.DRAW_FRAMEBUFFER,K.COLOR_ATTACHMENT0,ri.__webglTexture,kt,Xn+Yi):K.framebufferTexture2D(K.DRAW_FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,ri.__webglTexture,kt),ft!==0?K.blitFramebuffer(Ne,Ue,$t,oe,ln,cn,$t,oe,K.COLOR_BUFFER_BIT,K.NEAREST):us?K.copyTexSubImage3D(Mi,kt,ln,cn,Xn+Yi,Ne,Ue,$t,oe):K.copyTexSubImage2D(Mi,kt,ln,cn,Ne,Ue,$t,oe);Jt.bindFramebuffer(K.READ_FRAMEBUFFER,null),Jt.bindFramebuffer(K.DRAW_FRAMEBUFFER,null)}else us?V.isDataTexture||V.isData3DTexture?K.texSubImage3D(Mi,kt,ln,cn,Xn,$t,oe,re,ze,Ce,vn.data):rt.isCompressedArrayTexture?K.compressedTexSubImage3D(Mi,kt,ln,cn,Xn,$t,oe,re,ze,vn.data):K.texSubImage3D(Mi,kt,ln,cn,Xn,$t,oe,re,ze,Ce,vn):V.isDataTexture?K.texSubImage2D(K.TEXTURE_2D,kt,ln,cn,$t,oe,ze,Ce,vn.data):V.isCompressedTexture?K.compressedTexSubImage2D(K.TEXTURE_2D,kt,ln,cn,vn.width,vn.height,ze,vn.data):K.texSubImage2D(K.TEXTURE_2D,kt,ln,cn,$t,oe,ze,Ce,vn);K.pixelStorei(K.UNPACK_ROW_LENGTH,un),K.pixelStorei(K.UNPACK_IMAGE_HEIGHT,Cs),K.pixelStorei(K.UNPACK_SKIP_PIXELS,ca),K.pixelStorei(K.UNPACK_SKIP_ROWS,cs),K.pixelStorei(K.UNPACK_SKIP_IMAGES,Pi),kt===0&&rt.generateMipmaps&&K.generateMipmap(Mi),Jt.unbindTexture()},this.copyTextureToTexture3D=function(V,rt,At=null,gt=null,ft=0){return V.isTexture!==!0&&(Sp("WebGLRenderer: copyTextureToTexture3D function signature has changed."),At=arguments[0]||null,gt=arguments[1]||null,V=arguments[2],rt=arguments[3],ft=arguments[4]||0),Sp('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(V,rt,At,gt,ft)},this.initRenderTarget=function(V){Zt.get(V).__webglFramebuffer===void 0&&W.setupRenderTarget(V)},this.initTexture=function(V){V.isCubeTexture?W.setTextureCube(V,0):V.isData3DTexture?W.setTexture3D(V,0):V.isDataArrayTexture||V.isCompressedArrayTexture?W.setTexture2DArray(V,0):W.setTexture2D(V,0),Jt.unbindTexture()},this.resetState=function(){N=0,F=0,z=null,Jt.reset(),bn.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Do}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t;const e=this.getContext();e.drawingBufferColorspace=Sn._getDrawingBufferColorSpace(t),e.unpackColorSpace=Sn._getUnpackColorSpace()}}const oq=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:UT,AddEquation:Vu,AddOperation:BO,AdditiveAnimationBlendMode:jT,AdditiveBlending:$M,AgXToneMapping:OO,AlphaFormat:FT,AlwaysCompare:ZO,AlwaysDepth:nA,AlwaysStencilFunc:iE,AmbientLight:PP,AnimationAction:YP,AnimationClip:tm,AnimationLoader:EV,AnimationMixer:WP,AnimationObjectGroup:JV,AnimationUtils:_V,ArcCurve:fP,ArrayCamera:kP,ArrowHelper:xk,AttachedBindMode:nE,Audio:jP,AudioAnalyser:HV,AudioContext:AC,AudioListener:IV,AudioLoader:UV,AxesHelper:Ak,BackSide:Ea,BasicDepthPacking:VO,BasicShadowMap:uO,BatchedMesh:cP,Bone:b_,BooleanKeyframeTrack:Zh,Box2:ak,Box3:aa,Box3Helper:vk,BoxGeometry:Jh,BoxHelper:gk,BufferAttribute:wn,BufferGeometry:We,BufferGeometryLoader:GP,ByteType:OT,Cache:wc,Camera:A_,CameraHelper:mk,CanvasTexture:X7,CapsuleGeometry:C_,CatmullRomCurve3:hP,CineonToneMapping:NO,CircleGeometry:w_,ClampToEdgeWrapping:hr,Clock:_C,Color:ie,ColorKeyframeTrack:pC,ColorManagement:Sn,CompressedArrayTexture:k7,CompressedCubeTexture:j7,CompressedTexture:E_,CompressedTextureLoader:TV,ConeGeometry:R_,ConstantAlphaFactor:CO,ConstantColorFactor:EO,Controls:Sk,CubeCamera:sP,CubeReflectionMapping:Pc,CubeRefractionMapping:Wu,CubeTexture:bv,CubeTextureLoader:CV,CubeUVReflectionMapping:hm,CubicBezierCurve:aC,CubicBezierCurve3:dP,CubicInterpolant:DP,CullFaceBack:QM,CullFaceFront:cO,CullFaceFrontBack:sG,CullFaceNone:lO,Curve:Fo,CurvePath:mP,CustomBlending:fO,CustomToneMapping:UO,CylinderGeometry:mm,Cylindrical:sk,Data3DTexture:x_,DataArrayTexture:Sv,DataTexture:Rl,DataTextureLoader:wV,DataUtils:g7,DecrementStencilOp:mG,DecrementWrapStencilOp:vG,DefaultLoadingManager:Dp,DepthFormat:Lh,DepthStencilFormat:Gh,DepthTexture:iC,DetachedBindMode:IO,DirectionalLight:xC,DirectionalLightHelper:pk,DiscreteInterpolant:LP,DodecahedronGeometry:B_,DoubleSide:zr,DstAlphaFactor:AO,DstColorFactor:SO,DynamicCopyUsage:LG,DynamicDrawUsage:TG,DynamicReadUsage:RG,EdgesGeometry:gP,EllipseCurve:T_,EqualCompare:WO,EqualDepth:sA,EqualStencilFunc:_G,EquirectangularReflectionMapping:Y0,EquirectangularRefractionMapping:W0,Euler:Wa,EventDispatcher:Fl,ExtrudeGeometry:L_,FileLoader:mr,Float16BufferAttribute:b7,Float32BufferAttribute:Se,FloatType:Xa,Fog:S_,FogExp2:__,FramebufferTexture:V7,FrontSide:Ol,Frustum:Tv,GLBufferAttribute:ik,GLSL1:UG,GLSL3:sE,GreaterCompare:qO,GreaterDepth:rA,GreaterEqualCompare:JO,GreaterEqualDepth:aA,GreaterEqualStencilFunc:EG,GreaterStencilFunc:bG,GridHelper:hk,Group:Cc,HalfFloatType:dm,HemisphereLight:OP,HemisphereLightHelper:fk,IcosahedronGeometry:N_,ImageBitmapLoader:VP,ImageLoader:iv,ImageUtils:tP,IncrementStencilOp:pG,IncrementWrapStencilOp:gG,InstancedBufferAttribute:Vh,InstancedBufferGeometry:HP,InstancedInterleavedBuffer:nk,InstancedMesh:tC,Int16BufferAttribute:_7,Int32BufferAttribute:S7,Int8BufferAttribute:y7,IntType:f_,InterleavedBuffer:Mv,InterleavedBufferAttribute:Ju,Interpolant:vm,InterpolateDiscrete:Kp,InterpolateLinear:Jp,InterpolateSmooth:Bx,InvertStencilOp:yG,KeepStencilOp:mh,KeyframeTrack:zo,LOD:lP,LatheGeometry:Cv,Layers:Qp,LessCompare:YO,LessDepth:iA,LessEqualCompare:YT,LessEqualDepth:zh,LessEqualStencilFunc:SG,LessStencilFunc:AG,Light:nf,LightProbe:zP,Line:Fc,Line3:rk,LineBasicMaterial:ra,LineCurve:rC,LineCurve3:pP,LineDashedMaterial:wP,LineLoop:eC,LineSegments:Io,LinearFilter:ki,LinearInterpolant:dC,LinearMipMapLinearFilter:lG,LinearMipMapNearestFilter:oG,LinearMipmapLinearFilter:Hr,LinearMipmapNearestFilter:Hp,LinearSRGBColorSpace:Ku,LinearToneMapping:DO,LinearTransfer:K0,Loader:oa,LoaderUtils:ju,LoadingManager:mC,LoopOnce:FO,LoopPingPong:HO,LoopRepeat:zO,LuminanceAlphaFormat:GT,LuminanceFormat:HT,MOUSE:nG,Material:ss,MaterialLoader:H_,MathUtils:qT,Matrix2:EC,Matrix3:Ye,Matrix4:Re,MaxEquation:mO,Mesh:ji,MeshBasicMaterial:dr,MeshDepthMaterial:uC,MeshDistanceMaterial:fC,MeshLambertMaterial:TP,MeshMatcapMaterial:CP,MeshNormalMaterial:EP,MeshPhongMaterial:bP,MeshPhysicalMaterial:Vr,MeshStandardMaterial:Bv,MeshToonMaterial:MP,MinEquation:pO,MirroredRepeatWrapping:Wp,MixOperation:RO,MultiplyBlending:eE,MultiplyOperation:Av,NearestFilter:Ts,NearestMipMapLinearFilter:rG,NearestMipMapNearestFilter:aG,NearestMipmapLinearFilter:_h,NearestMipmapNearestFilter:u_,NeutralToneMapping:PO,NeverCompare:XO,NeverDepth:eA,NeverStencilFunc:xG,NoBlending:Dc,NoColorSpace:Ec,NoToneMapping:wl,NormalAnimationBlendMode:v_,NormalBlending:Dh,NotEqualCompare:KO,NotEqualDepth:oA,NotEqualStencilFunc:MG,NumberKeyframeTrack:jh,Object3D:gn,ObjectLoader:LV,ObjectSpaceNormalMap:jO,OctahedronGeometry:wv,OneFactor:vO,OneMinusConstantAlphaFactor:wO,OneMinusConstantColorFactor:TO,OneMinusDstAlphaFactor:_O,OneMinusDstColorFactor:bO,OneMinusSrcAlphaFactor:tA,OneMinusSrcColorFactor:xO,OrthographicCamera:sf,PCFShadowMap:l_,PCFSoftShadowMap:S0,PMREMGenerator:fE,Path:$0,PerspectiveCamera:Vi,Plane:Gu,PlaneGeometry:gm,PlaneHelper:yk,PointLight:yC,PointLightHelper:ck,Points:nC,PointsMaterial:M_,PolarGridHelper:dk,PolyhedronGeometry:ef,PositionalAudio:zV,PropertyBinding:Tn,PropertyMixer:XP,QuadraticBezierCurve:oC,QuadraticBezierCurve3:lC,Quaternion:Xi,QuaternionKeyframeTrack:Xh,QuaternionLinearInterpolant:NP,RED_GREEN_RGTC2_Format:LA,RED_RGTC1_Format:kT,REVISION:xv,RGBADepthPacking:kO,RGBAFormat:na,RGBAIntegerFormat:g_,RGBA_ASTC_10x10_Format:TA,RGBA_ASTC_10x5_Format:bA,RGBA_ASTC_10x6_Format:MA,RGBA_ASTC_10x8_Format:EA,RGBA_ASTC_12x10_Format:CA,RGBA_ASTC_12x12_Format:wA,RGBA_ASTC_4x4_Format:mA,RGBA_ASTC_5x4_Format:gA,RGBA_ASTC_5x5_Format:vA,RGBA_ASTC_6x5_Format:yA,RGBA_ASTC_6x6_Format:xA,RGBA_ASTC_8x5_Format:AA,RGBA_ASTC_8x6_Format:_A,RGBA_ASTC_8x8_Format:SA,RGBA_BPTC_Format:C0,RGBA_ETC2_EAC_Format:pA,RGBA_PVRTC_2BPPV1_Format:fA,RGBA_PVRTC_4BPPV1_Format:uA,RGBA_S3TC_DXT1_Format:M0,RGBA_S3TC_DXT3_Format:E0,RGBA_S3TC_DXT5_Format:T0,RGBDepthPacking:uG,RGBFormat:zT,RGBIntegerFormat:cG,RGB_BPTC_SIGNED_Format:RA,RGB_BPTC_UNSIGNED_Format:BA,RGB_ETC1_Format:hA,RGB_ETC2_Format:dA,RGB_PVRTC_2BPPV1_Format:cA,RGB_PVRTC_4BPPV1_Format:lA,RGB_S3TC_DXT1_Format:b0,RGDepthPacking:fG,RGFormat:VT,RGIntegerFormat:m_,RawShaderMaterial:SP,Ray:pm,Raycaster:qP,RectAreaLight:IP,RedFormat:p_,RedIntegerFormat:_v,ReinhardToneMapping:LO,RenderTarget:y_,RenderTarget3D:QV,RenderTargetArray:$V,RepeatWrapping:qu,ReplaceStencilOp:dG,ReverseSubtractEquation:dO,RingGeometry:U_,SIGNED_RED_GREEN_RGTC2_Format:NA,SIGNED_RED_RGTC1_Format:DA,SRGBColorSpace:ea,SRGBTransfer:jn,Scene:ZT,ShaderChunk:tn,ShaderLib:Bo,ShaderMaterial:Oo,ShadowMaterial:_P,Shape:Uh,ShapeGeometry:O_,ShapePath:_k,ShapeUtils:Bl,ShortType:PT,Skeleton:Ev,SkeletonHelper:lk,SkinnedMesh:$T,Source:Mh,Sphere:Fs,SphereGeometry:Rv,Spherical:KP,SphericalHarmonics3:FP,SplineCurve:cC,SpotLight:vC,SpotLightHelper:ok,Sprite:oP,SpriteMaterial:QT,SrcAlphaFactor:$x,SrcAlphaSaturateFactor:MO,SrcColorFactor:yO,StaticCopyUsage:DG,StaticDrawUsage:J0,StaticReadUsage:wG,StereoCamera:OV,StreamCopyUsage:NG,StreamDrawUsage:CG,StreamReadUsage:BG,StringKeyframeTrack:Qh,SubtractEquation:hO,SubtractiveBlending:tE,TOUCH:iG,TangentSpaceNormalMap:tf,TetrahedronGeometry:P_,Texture:ui,TextureLoader:UP,TextureUtils:Ck,TimestampQuery:OG,TorusGeometry:I_,TorusKnotGeometry:F_,Triangle:ja,TriangleFanDrawMode:UA,TriangleStripDrawMode:XT,TrianglesDrawMode:GO,TubeGeometry:z_,UVMapping:c_,Uint16BufferAttribute:KT,Uint32BufferAttribute:JT,Uint8BufferAttribute:x7,Uint8ClampedBufferAttribute:A7,Uniform:MC,UniformsGroup:ek,UniformsLib:ce,UniformsUtils:iP,UnsignedByteType:Uo,UnsignedInt248Type:Hh,UnsignedInt5999Type:IT,UnsignedIntType:Ic,UnsignedShort4444Type:h_,UnsignedShort5551Type:d_,UnsignedShortType:qp,VSMShadowMap:Ro,Vector2:Ft,Vector3:q,Vector4:mn,VectorKeyframeTrack:Yh,VideoFrameTexture:G7,VideoTexture:uP,WebGL3DRenderTarget:r7,WebGLArrayRenderTarget:a7,WebGLCoordinateSystem:Do,WebGLCubeRenderTarget:aP,WebGLRenderTarget:Pl,WebGLRenderer:i4,WebGLUtils:n4,WebGPUCoordinateSystem:Z0,WebXRController:Dx,WireframeGeometry:AP,WrapAroundEnding:q0,ZeroCurvatureEnding:Sh,ZeroFactor:gO,ZeroSlopeEnding:bh,ZeroStencilOp:hG,createCanvasElement:$O},Symbol.toStringTag,{value:"Module"}));var jb={exports:{}},Ac={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d3;function lq(){return d3||(d3=1,Ac.ConcurrentRoot=1,Ac.ContinuousEventPriority=8,Ac.DefaultEventPriority=32,Ac.DiscreteEventPriority=2,Ac.IdleEventPriority=268435456,Ac.LegacyRoot=0,Ac.NoEventPriority=0),Ac}var p3;function cq(){return p3||(p3=1,jb.exports=lq()),jb.exports}var Nx=cq(),Xb={exports:{}},Yb={},Wb={exports:{}},qb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m3;function uq(){if(m3)return qb;m3=1;var n=cm();function t(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var e=typeof Object.is=="function"?Object.is:t,i=n.useState,s=n.useEffect,a=n.useLayoutEffect,o=n.useDebugValue;function c(g,y){var A=y(),b=i({inst:{value:A,getSnapshot:y}}),T=b[0].inst,E=b[1];return a(function(){T.value=A,T.getSnapshot=y,u(T)&&E({inst:T})},[g,A,y]),s(function(){return u(T)&&E({inst:T}),g(function(){u(T)&&E({inst:T})})},[g]),o(A),A}function u(g){var y=g.getSnapshot;g=g.value;try{var A=y();return!e(g,A)}catch{return!0}}function d(g,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return qb.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,qb}var g3;function fq(){return g3||(g3=1,Wb.exports=uq()),Wb.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v3;function hq(){if(v3)return Yb;v3=1;var n=cm(),t=fq();function e(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var i=typeof Object.is=="function"?Object.is:e,s=t.useSyncExternalStore,a=n.useRef,o=n.useEffect,c=n.useMemo,u=n.useDebugValue;return Yb.useSyncExternalStoreWithSelector=function(d,m,g,y,A){var b=a(null);if(b.current===null){var T={hasValue:!1,value:null};b.current=T}else T=b.current;b=c(function(){function S(N){if(!R){if(R=!0,B=N,N=y(N),A!==void 0&&T.hasValue){var F=T.value;if(A(F,N))return D=F}return D=N}if(F=D,i(B,N))return F;var z=y(N);return A!==void 0&&A(F,z)?(B=N,F):(B=N,D=z)}var R=!1,B,D,U=g===void 0?null:g;return[function(){return S(m())},U===null?void 0:function(){return S(U())}]},[m,g,y,A]);var E=s(d,b[0],b[1]);return o(function(){T.hasValue=!0,T.value=E},[E]),u(E),E},Yb}var y3;function dq(){return y3||(y3=1,Xb.exports=hq()),Xb.exports}var pq=dq();const mq=hv(pq),x3=n=>{let t;const e=new Set,i=(d,m)=>{const g=typeof d=="function"?d(t):d;if(!Object.is(g,t)){const y=t;t=m??(typeof g!="object"||g===null)?g:Object.assign({},t,g),e.forEach(A=>A(t,y))}},s=()=>t,c={setState:i,getState:s,getInitialState:()=>u,subscribe:d=>(e.add(d),()=>e.delete(d))},u=t=n(i,s,c);return c},s4=n=>n?x3(n):x3,{useSyncExternalStoreWithSelector:gq}=mq,vq=n=>n;function yq(n,t=vq,e){const i=gq(n.subscribe,n.getState,n.getInitialState,t,e);return Nl.useDebugValue(i),i}const A3=(n,t)=>{const e=s4(n),i=(s,a=t)=>yq(e,s,a);return Object.assign(i,e),i},xq=(n,t)=>n?A3(n,t):A3;var Kb={exports:{}},Jb={exports:{}};/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _3;function Aq(){return _3||(_3=1,function(n){n.exports=function(t){function e(f,h,x,M){return new uy(f,h,x,M)}function i(){}function s(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(f){return f===null||typeof f!="object"?null:(f=Nn&&f[Nn]||f["@@iterator"],typeof f=="function"?f:null)}function o(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===Ci?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case nl:return"Fragment";case _r:return"Portal";case il:return"Profiler";case Ql:return"StrictMode";case ao:return"Suspense";case Of:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case sl:return(f.displayName||"Context")+".Provider";case Zm:return(f._context.displayName||"Context")+".Consumer";case Md:var h=f.render;return f=f.displayName,f||(f=h.displayName||h.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case iu:return h=f.displayName||null,h!==null?h:o(f.type)||"Memo";case ro:h=f._payload,f=f._init;try{return o(f(h))}catch{}}return null}function c(f){if(al===void 0)try{throw Error()}catch(x){var h=x.stack.trim().match(/\n( *(at )?)/);al=h&&h[1]||"",rl=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+al+f+rl}function u(f,h){if(!f||su)return"";su=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var M={DetermineComponentFrameRoot:function(){try{if(h){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(ke){var Wt=ke}Reflect.construct(f,[],le)}else{try{le.call()}catch(ke){Wt=ke}f.call(le.prototype)}}else{try{throw Error()}catch(ke){Wt=ke}(le=f())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(ke){if(ke&&Wt&&typeof ke.stack=="string")return[ke.stack,Wt.stack]}return[null,null]}};M.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(M.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(M.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var L=M.DetermineComponentFrameRoot(),j=L[0],nt=L[1];if(j&&nt){var mt=j.split(`
`),Nt=nt.split(`
`);for(w=M=0;M<mt.length&&!mt[M].includes("DetermineComponentFrameRoot");)M++;for(;w<Nt.length&&!Nt[w].includes("DetermineComponentFrameRoot");)w++;if(M===mt.length||w===Nt.length)for(M=mt.length-1,w=Nt.length-1;1<=M&&0<=w&&mt[M]!==Nt[w];)w--;for(;1<=M&&0<=w;M--,w--)if(mt[M]!==Nt[w]){if(M!==1||w!==1)do if(M--,w--,0>w||mt[M]!==Nt[w]){var Kt=`
`+mt[M].replace(" at new "," at ");return f.displayName&&Kt.includes("<anonymous>")&&(Kt=Kt.replace("<anonymous>",f.displayName)),Kt}while(1<=M&&0<=w);break}}}finally{su=!1,Error.prepareStackTrace=x}return(x=f?f.displayName||f.name:"")?c(x):""}function d(f){switch(f.tag){case 26:case 27:case 5:return c(f.type);case 16:return c("Lazy");case 13:return c("Suspense");case 19:return c("SuspenseList");case 0:case 15:return f=u(f.type,!1),f;case 11:return f=u(f.type.render,!1),f;case 1:return f=u(f.type,!0),f;default:return""}}function m(f){try{var h="";do h+=d(f),f=f.return;while(f);return h}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function g(f){var h=f,x=f;if(f.alternate)for(;h.return;)h=h.return;else{f=h;do h=f,h.flags&4098&&(x=h.return),f=h.return;while(f)}return h.tag===3?x:null}function y(f){if(g(f)!==f)throw Error(s(188))}function A(f){var h=f.alternate;if(!h){if(h=g(f),h===null)throw Error(s(188));return h!==f?null:f}for(var x=f,M=h;;){var w=x.return;if(w===null)break;var L=w.alternate;if(L===null){if(M=w.return,M!==null){x=M;continue}break}if(w.child===L.child){for(L=w.child;L;){if(L===x)return y(w),f;if(L===M)return y(w),h;L=L.sibling}throw Error(s(188))}if(x.return!==M.return)x=w,M=L;else{for(var j=!1,nt=w.child;nt;){if(nt===x){j=!0,x=w,M=L;break}if(nt===M){j=!0,M=w,x=L;break}nt=nt.sibling}if(!j){for(nt=L.child;nt;){if(nt===x){j=!0,x=L,M=w;break}if(nt===M){j=!0,M=L,x=w;break}nt=nt.sibling}if(!j)throw Error(s(189))}}if(x.alternate!==M)throw Error(s(190))}if(x.tag!==3)throw Error(s(188));return x.stateNode.current===x?f:h}function b(f){var h=f.tag;if(h===5||h===26||h===27||h===6)return f;for(f=f.child;f!==null;){if(h=b(f),h!==null)return h;f=f.sibling}return null}function T(f){var h=f.tag;if(h===5||h===26||h===27||h===6)return f;for(f=f.child;f!==null;){if(f.tag!==4&&(h=T(f),h!==null))return h;f=f.sibling}return null}function E(f){return{current:f}}function S(f){0>ul||(f.current=Id[ul],Id[ul]=null,ul--)}function R(f,h){ul++,Id[ul]=f.current,f.current=h}function B(f){return f>>>=0,f===0?32:31-(_g(f)/dS|0)|0}function D(f){var h=f&42;if(h!==0)return h;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function U(f,h){var x=f.pendingLanes;if(x===0)return 0;var M=0,w=f.suspendedLanes,L=f.pingedLanes,j=f.warmLanes;f=f.finishedLanes!==0;var nt=x&134217727;return nt!==0?(x=nt&~w,x!==0?M=D(x):(L&=nt,L!==0?M=D(L):f||(j=nt&~j,j!==0&&(M=D(j))))):(nt=x&~w,nt!==0?M=D(nt):L!==0?M=D(L):f||(j=x&~j,j!==0&&(M=D(j)))),M===0?0:h!==0&&h!==M&&!(h&w)&&(w=M&-M,j=h&-h,w>=j||w===32&&(j&4194176)!==0)?h:M}function N(f,h){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&h)===0}function F(f,h){switch(f){case 1:case 2:case 4:case 8:return h+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z(){var f=zf;return zf<<=1,!(zf&4194176)&&(zf=128),f}function O(){var f=cu;return cu<<=1,!(cu&62914560)&&(cu=4194304),f}function I(f){for(var h=[],x=0;31>x;x++)h.push(f);return h}function Y(f,h){f.pendingLanes|=h,h!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function dt(f,h,x,M,w,L){var j=f.pendingLanes;f.pendingLanes=x,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=x,f.entangledLanes&=x,f.errorRecoveryDisabledLanes&=x,f.shellSuspendCounter=0;var nt=f.entanglements,mt=f.expirationTimes,Nt=f.hiddenUpdates;for(x=j&~x;0<x;){var Kt=31-pi(x),le=1<<Kt;nt[Kt]=0,mt[Kt]=-1;var Wt=Nt[Kt];if(Wt!==null)for(Nt[Kt]=null,Kt=0;Kt<Wt.length;Kt++){var ke=Wt[Kt];ke!==null&&(ke.lane&=-536870913)}x&=~le}M!==0&&at(f,M,0),L!==0&&w===0&&f.tag!==0&&(f.suspendedLanes|=L&~(j&~h))}function at(f,h,x){f.pendingLanes|=h,f.suspendedLanes&=~h;var M=31-pi(h);f.entangledLanes|=h,f.entanglements[M]=f.entanglements[M]|1073741824|x&4194218}function Q(f,h){var x=f.entangledLanes|=h;for(f=f.entanglements;x;){var M=31-pi(x),w=1<<M;w&h|f[M]&h&&(f[M]|=h),x&=~w}}function lt(f){return f&=-f,2<f?8<f?f&134217727?32:268435456:8:2}function tt(f){if(wi&&typeof wi.onCommitFiberRoot=="function")try{wi.onCommitFiberRoot(fu,f,void 0,(f.current.flags&128)===128)}catch{}}function et(f){if(typeof ds=="function"&&zd(f),wi&&typeof wi.setStrictMode=="function")try{wi.setStrictMode(fu,f)}catch{}}function Z(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}function vt(f,h){if(typeof f=="object"&&f!==null){var x=Hd.get(f);return x!==void 0?x:(h={value:f,source:h,stack:m(h)},Hd.set(f,h),h)}return{value:f,source:h,stack:m(h)}}function X(f,h){pa[ma++]=hu,pa[ma++]=hl,hl=f,hu=h}function it(f,h,x){Ys[ps++]=Er,Ys[ps++]=Tr,Ys[ps++]=nr,nr=f;var M=Er;f=Tr;var w=32-pi(M)-1;M&=~(1<<w),x+=1;var L=32-pi(h)+w;if(30<L){var j=w-w%5;L=(M&(1<<j)-1).toString(32),M>>=j,w-=j,Er=1<<32-pi(h)+w|x<<w|M,Tr=L+f}else Er=1<<L|x<<w|M,Tr=f}function Mt(f){f.return!==null&&(X(f,1),it(f,1,0))}function Ot(f){for(;f===hl;)hl=pa[--ma],pa[ma]=null,hu=pa[--ma],pa[ma]=null;for(;f===nr;)nr=Ys[--ps],Ys[ps]=null,Tr=Ys[--ps],Ys[ps]=null,Er=Ys[--ps],Ys[ps]=null}function st(f,h){R(fo,h),R(La,f),R(mi,null),f=Qm(h),S(mi),R(mi,f)}function Et(){S(mi),S(La),S(fo)}function Bt(f){f.memoizedState!==null&&R(Gf,f);var h=mi.current,x=fy(h,f.type);h!==x&&(R(La,f),R(mi,x))}function Pt(f){La.current===f&&(S(mi),S(La)),Gf.current===f&&(S(Gf),$a?lo._currentValue=tc:lo._currentValue2=tc)}function Ht(f){var h=Error(s(418,""));throw Rt(vt(h,f)),Vf}function fe(f,h){if(!Xs)throw Error(s(175));ic(f.stateNode,f.type,f.memoizedProps,h,f)||Ht(f)}function Xt(f){for(gi=f.return;gi;)switch(gi.tag){case 3:case 27:ir=!0;return;case 5:case 13:ir=!1;return;default:gi=gi.return}}function ne(f){if(!Xs||f!==gi)return!1;if(!An)return Xt(f),An=!0,!1;var h=!1;if(qi?f.tag!==3&&f.tag!==27&&(f.tag!==5||fg(f.type)&&!ns(f.type,f.memoizedProps))&&(h=!0):f.tag!==3&&(f.tag!==5||fg(f.type)&&!ns(f.type,f.memoizedProps))&&(h=!0),h&&Pn&&Ht(f),Xt(f),f.tag===13){if(!Xs)throw Error(s(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));Pn=ky(f)}else Pn=gi?cl(f.stateNode):null;return!0}function Dt(){Xs&&(Pn=gi=null,An=!1)}function Rt(f){Na===null?Na=[f]:Na.push(f)}function K(){for(var f=ho,h=sr=ho=0;h<f;){var x=Ws[h];Ws[h++]=null;var M=Ws[h];Ws[h++]=null;var w=Ws[h];Ws[h++]=null;var L=Ws[h];if(Ws[h++]=null,M!==null&&w!==null){var j=M.pending;j===null?w.next=w:(w.next=j.next,j.next=w),M.pending=w}L!==0&&Jt(x,w,L)}}function he(f,h,x,M){Ws[ho++]=f,Ws[ho++]=h,Ws[ho++]=x,Ws[ho++]=M,sr|=M,f.lanes|=M,f=f.alternate,f!==null&&(f.lanes|=M)}function Vt(f,h,x,M){return he(f,h,x,M),_e(f)}function Qt(f,h){return he(f,null,null,h),_e(f)}function Jt(f,h,x){f.lanes|=x;var M=f.alternate;M!==null&&(M.lanes|=x);for(var w=!1,L=f.return;L!==null;)L.childLanes|=x,M=L.alternate,M!==null&&(M.childLanes|=x),L.tag===22&&(f=L.stateNode,f===null||f._visibility&1||(w=!0)),f=L,L=L.return;w&&h!==null&&f.tag===3&&(L=f.stateNode,w=31-pi(x),L=L.hiddenUpdates,f=L[w],f===null?L[w]=[h]:f.push(h),h.lane=x|536870912)}function _e(f){if(50<fc)throw fc=0,Tg=null,Error(s(185));for(var h=f.return;h!==null;)f=h,h=f.return;return f.tag===3?f.stateNode:null}function Zt(f){f!==dl&&f.next===null&&(dl===null?Kn=dl=f:dl=dl.next=f),vi=!0,Gd||(Gd=!0,Lt(H))}function W(f,h){if(!Vd&&vi){Vd=!0;do for(var x=!1,M=Kn;M!==null;){if(f!==0){var w=M.pendingLanes;if(w===0)var L=0;else{var j=M.suspendedLanes,nt=M.pingedLanes;L=(1<<31-pi(42|f)+1)-1,L&=w&~(j&~nt),L=L&201326677?L&201326677|1:L?L|2:0}L!==0&&(x=!0,Gt(M,L))}else L=on,L=U(M,M===Fn?L:0),!(L&3)||N(M,L)||(x=!0,Gt(M,L));M=M.next}while(x);Vd=!1}}function H(){vi=Gd=!1;var f=0;du!==0&&(my()&&(f=du),du=0);for(var h=da(),x=null,M=Kn;M!==null;){var w=M.next,L=yt(M,h);L===0?(M.next=null,x===null?Kn=w:x.next=w,w===null&&(dl=x)):(x=M,(f!==0||L&3)&&(vi=!0)),M=w}W(f)}function yt(f,h){for(var x=f.suspendedLanes,M=f.pingedLanes,w=f.expirationTimes,L=f.pendingLanes&-62914561;0<L;){var j=31-pi(L),nt=1<<j,mt=w[j];mt===-1?(!(nt&x)||nt&M)&&(w[j]=F(nt,h)):mt<=h&&(f.expiredLanes|=nt),L&=~nt}if(h=Fn,x=on,x=U(f,f===h?x:0),M=f.callbackNode,x===0||f===h&&Un===2||f.cancelPendingCommit!==null)return M!==null&&M!==null&&er(M),f.callbackNode=null,f.callbackPriority=0;if(!(x&3)||N(f,x)){if(h=x&-x,h===f.callbackPriority)return h;switch(M!==null&&er(M),lt(x)){case 2:case 8:x=Hf;break;case 32:x=uu;break;case 268435456:x=ac;break;default:x=uu}return M=Ct.bind(null,f),x=Mr(x,M),f.callbackPriority=h,f.callbackNode=x,h}return M!==null&&M!==null&&er(M),f.callbackPriority=2,f.callbackNode=null,2}function Ct(f,h){var x=f.callbackNode;if(Qo()&&f.callbackNode!==x)return null;var M=on;return M=U(f,f===Fn?M:0),M===0?null:(ua(f,M,h),yt(f,da()),f.callbackNode!=null&&f.callbackNode===x?Ct.bind(null,f):null)}function Gt(f,h){if(Qo())return null;ua(f,h,!0)}function Lt(f){xy?Ay(function(){rn&6?Mr(Fd,f):f()}):Mr(Fd,f)}function ue(){return du===0&&(du=z()),du}function ee(f,h){if(pu===null){var x=pu=[];kd=0,Jn=ue(),Ki={status:"pending",value:void 0,then:function(M){x.push(M)}}}return kd++,h.then(de,de),h}function de(){if(--kd===0&&pu!==null){Ki!==null&&(Ki.status="fulfilled");var f=pu;pu=null,Jn=0,Ki=null;for(var h=0;h<f.length;h++)(0,f[h])()}}function Ke(f,h){var x=[],M={status:"pending",value:null,reason:null,then:function(w){x.push(w)}};return f.then(function(){M.status="fulfilled",M.value=h;for(var w=0;w<x.length;w++)(0,x[w])(h)},function(w){for(M.status="rejected",M.reason=w,w=0;w<x.length;w++)(0,x[w])(void 0)}),M}function qt(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function me(f,h){f=f.updateQueue,h.updateQueue===f&&(h.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function xe(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function ye(f,h,x){var M=f.updateQueue;if(M===null)return null;if(M=M.shared,rn&2){var w=M.pending;return w===null?h.next=h:(h.next=w.next,w.next=h),M.pending=h,h=_e(f),Jt(f,null,x),h}return he(f,M,h,x),_e(f)}function pe(f,h,x){if(h=h.updateQueue,h!==null&&(h=h.shared,(x&4194176)!==0)){var M=h.lanes;M&=f.pendingLanes,x|=M,h.lanes=x,Q(f,x)}}function He(f,h){var x=f.updateQueue,M=f.alternate;if(M!==null&&(M=M.updateQueue,x===M)){var w=null,L=null;if(x=x.firstBaseUpdate,x!==null){do{var j={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};L===null?w=L=j:L=L.next=j,x=x.next}while(x!==null);L===null?w=L=h:L=L.next=h}else w=L=h;x={baseState:M.baseState,firstBaseUpdate:w,lastBaseUpdate:L,shared:M.shared,callbacks:M.callbacks},f.updateQueue=x;return}f=x.lastBaseUpdate,f===null?x.firstBaseUpdate=h:f.next=h,x.lastBaseUpdate=h}function be(){if(jd){var f=Ki;if(f!==null)throw f}}function bn(f,h,x,M){jd=!1;var w=f.updateQueue;ms=!1;var L=w.firstBaseUpdate,j=w.lastBaseUpdate,nt=w.shared.pending;if(nt!==null){w.shared.pending=null;var mt=nt,Nt=mt.next;mt.next=null,j===null?L=Nt:j.next=Nt,j=mt;var Kt=f.alternate;Kt!==null&&(Kt=Kt.updateQueue,nt=Kt.lastBaseUpdate,nt!==j&&(nt===null?Kt.firstBaseUpdate=Nt:nt.next=Nt,Kt.lastBaseUpdate=mt))}if(L!==null){var le=w.baseState;j=0,Kt=Nt=mt=null,nt=L;do{var Wt=nt.lane&-536870913,ke=Wt!==nt.lane;if(ke?(on&Wt)===Wt:(M&Wt)===Wt){Wt!==0&&Wt===Jn&&(jd=!0),Kt!==null&&(Kt=Kt.next={lane:0,tag:nt.tag,payload:nt.payload,callback:null,next:null});t:{var Ga=f,Au=nt;Wt=h;var hc=x;switch(Au.tag){case 1:if(Ga=Au.payload,typeof Ga=="function"){le=Ga.call(hc,le,Wt);break t}le=Ga;break t;case 3:Ga.flags=Ga.flags&-65537|128;case 0:if(Ga=Au.payload,Wt=typeof Ga=="function"?Ga.call(hc,le,Wt):Ga,Wt==null)break t;le=hi({},le,Wt);break t;case 2:ms=!0}}Wt=nt.callback,Wt!==null&&(f.flags|=64,ke&&(f.flags|=8192),ke=w.callbacks,ke===null?w.callbacks=[Wt]:ke.push(Wt))}else ke={lane:Wt,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null},Kt===null?(Nt=Kt=ke,mt=le):Kt=Kt.next=ke,j|=Wt;if(nt=nt.next,nt===null){if(nt=w.shared.pending,nt===null)break;ke=nt,nt=ke.next,ke.next=null,w.lastBaseUpdate=ke,w.shared.pending=null}}while(!0);Kt===null&&(mt=le),w.baseState=mt,w.firstBaseUpdate=Nt,w.lastBaseUpdate=Kt,L===null&&(w.shared.lanes=0),za|=j,f.lanes=j,f.memoizedState=le}}function ct(f,h){if(typeof f!="function")throw Error(s(191,f));f.call(h)}function ae(f,h){var x=f.callbacks;if(x!==null)for(f.callbacks=null,f=0;f<x.length;f++)ct(x[f],h)}function Tt(f,h){if(Ls(f,h))return!0;if(typeof f!="object"||f===null||typeof h!="object"||h===null)return!1;var x=Object.keys(f),M=Object.keys(h);if(x.length!==M.length)return!1;for(M=0;M<x.length;M++){var w=x[M];if(!Zy.call(h,w)||!Ls(f[w],h[w]))return!1}return!0}function It(f){return f=f.status,f==="fulfilled"||f==="rejected"}function te(){}function se(f,h,x){switch(x=f[x],x===void 0?f.push(h):x!==h&&(h.then(te,te),h=x),h.status){case"fulfilled":return h.value;case"rejected":throw f=h.reason,f===kf?Error(s(483)):f;default:if(typeof h.status=="string")h.then(te,te);else{if(f=Fn,f!==null&&100<f.shellSuspendCounter)throw Error(s(482));f=h,f.status="pending",f.then(function(M){if(h.status==="pending"){var w=h;w.status="fulfilled",w.value=M}},function(M){if(h.status==="pending"){var w=h;w.status="rejected",w.reason=M}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw f=h.reason,f===kf?Error(s(483)):f}throw gs=h,kf}}function Le(){if(gs===null)throw Error(s(459));var f=gs;return gs=null,f}function Gn(f){var h=vs;return vs+=1,rc===null&&(rc=[]),se(rc,f,h)}function ni(f,h){h=h.props.ref,f.ref=h!==void 0?h:null}function dn(f,h){throw h.$$typeof===Jm?Error(s(525)):(f=Object.prototype.toString.call(h),Error(s(31,f==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":f)))}function os(f){var h=f._init;return h(f._payload)}function ls(f){function h(_t,ht){if(f){var bt=_t.deletions;bt===null?(_t.deletions=[ht],_t.flags|=16):bt.push(ht)}}function x(_t,ht){if(!f)return null;for(;ht!==null;)h(_t,ht),ht=ht.sibling;return null}function M(_t){for(var ht=new Map;_t!==null;)_t.key!==null?ht.set(_t.key,_t):ht.set(_t.index,_t),_t=_t.sibling;return ht}function w(_t,ht){return _t=no(_t,ht),_t.index=0,_t.sibling=null,_t}function L(_t,ht,bt){return _t.index=bt,f?(bt=_t.alternate,bt!==null?(bt=bt.index,bt<ht?(_t.flags|=33554434,ht):bt):(_t.flags|=33554434,ht)):(_t.flags|=1048576,ht)}function j(_t){return f&&_t.alternate===null&&(_t.flags|=33554434),_t}function nt(_t,ht,bt,Yt){return ht===null||ht.tag!==6?(ht=Uf(bt,_t.mode,Yt),ht.return=_t,ht):(ht=w(ht,bt),ht.return=_t,ht)}function mt(_t,ht,bt,Yt){var Me=bt.type;return Me===nl?Kt(_t,ht,bt.props.children,Yt,bt.key):ht!==null&&(ht.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===ro&&os(Me)===ht.type)?(ht=w(ht,bt.props),ni(ht,bt),ht.return=_t,ht):(ht=Zl(bt.type,bt.key,bt.props,null,_t.mode,Yt),ni(ht,bt),ht.return=_t,ht)}function Nt(_t,ht,bt,Yt){return ht===null||ht.tag!==4||ht.stateNode.containerInfo!==bt.containerInfo||ht.stateNode.implementation!==bt.implementation?(ht=js(bt,_t.mode,Yt),ht.return=_t,ht):(ht=w(ht,bt.children||[]),ht.return=_t,ht)}function Kt(_t,ht,bt,Yt,Me){return ht===null||ht.tag!==7?(ht=tl(bt,_t.mode,Yt,Me),ht.return=_t,ht):(ht=w(ht,bt),ht.return=_t,ht)}function le(_t,ht,bt){if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return ht=Uf(""+ht,_t.mode,bt),ht.return=_t,ht;if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case el:return bt=Zl(ht.type,ht.key,ht.props,null,_t.mode,bt),ni(bt,ht),bt.return=_t,bt;case _r:return ht=js(ht,_t.mode,bt),ht.return=_t,ht;case ro:var Yt=ht._init;return ht=Yt(ht._payload),le(_t,ht,bt)}if(ol(ht)||a(ht))return ht=tl(ht,_t.mode,bt,null),ht.return=_t,ht;if(typeof ht.then=="function")return le(_t,Gn(ht),bt);if(ht.$$typeof===sl)return le(_t,yf(_t,ht),bt);dn(_t,ht)}return null}function Wt(_t,ht,bt,Yt){var Me=ht!==null?ht.key:null;if(typeof bt=="string"&&bt!==""||typeof bt=="number"||typeof bt=="bigint")return Me!==null?null:nt(_t,ht,""+bt,Yt);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case el:return bt.key===Me?mt(_t,ht,bt,Yt):null;case _r:return bt.key===Me?Nt(_t,ht,bt,Yt):null;case ro:return Me=bt._init,bt=Me(bt._payload),Wt(_t,ht,bt,Yt)}if(ol(bt)||a(bt))return Me!==null?null:Kt(_t,ht,bt,Yt,null);if(typeof bt.then=="function")return Wt(_t,ht,Gn(bt),Yt);if(bt.$$typeof===sl)return Wt(_t,ht,yf(_t,bt),Yt);dn(_t,bt)}return null}function ke(_t,ht,bt,Yt,Me){if(typeof Yt=="string"&&Yt!==""||typeof Yt=="number"||typeof Yt=="bigint")return _t=_t.get(bt)||null,nt(ht,_t,""+Yt,Me);if(typeof Yt=="object"&&Yt!==null){switch(Yt.$$typeof){case el:return _t=_t.get(Yt.key===null?bt:Yt.key)||null,mt(ht,_t,Yt,Me);case _r:return _t=_t.get(Yt.key===null?bt:Yt.key)||null,Nt(ht,_t,Yt,Me);case ro:var zn=Yt._init;return Yt=zn(Yt._payload),ke(_t,ht,bt,Yt,Me)}if(ol(Yt)||a(Yt))return _t=_t.get(bt)||null,Kt(ht,_t,Yt,Me,null);if(typeof Yt.then=="function")return ke(_t,ht,bt,Gn(Yt),Me);if(Yt.$$typeof===sl)return ke(_t,ht,bt,yf(ht,Yt),Me);dn(ht,Yt)}return null}function Ga(_t,ht,bt,Yt){for(var Me=null,zn=null,De=ht,nn=ht=0,kn=null;De!==null&&nn<bt.length;nn++){De.index>nn?(kn=De,De=null):kn=De.sibling;var fn=Wt(_t,De,bt[nn],Yt);if(fn===null){De===null&&(De=kn);break}f&&De&&fn.alternate===null&&h(_t,De),ht=L(fn,ht,nn),zn===null?Me=fn:zn.sibling=fn,zn=fn,De=kn}if(nn===bt.length)return x(_t,De),An&&X(_t,nn),Me;if(De===null){for(;nn<bt.length;nn++)De=le(_t,bt[nn],Yt),De!==null&&(ht=L(De,ht,nn),zn===null?Me=De:zn.sibling=De,zn=De);return An&&X(_t,nn),Me}for(De=M(De);nn<bt.length;nn++)kn=ke(De,_t,nn,bt[nn],Yt),kn!==null&&(f&&kn.alternate!==null&&De.delete(kn.key===null?nn:kn.key),ht=L(kn,ht,nn),zn===null?Me=kn:zn.sibling=kn,zn=kn);return f&&De.forEach(function(Sl){return h(_t,Sl)}),An&&X(_t,nn),Me}function Au(_t,ht,bt,Yt){if(bt==null)throw Error(s(151));for(var Me=null,zn=null,De=ht,nn=ht=0,kn=null,fn=bt.next();De!==null&&!fn.done;nn++,fn=bt.next()){De.index>nn?(kn=De,De=null):kn=De.sibling;var Sl=Wt(_t,De,fn.value,Yt);if(Sl===null){De===null&&(De=kn);break}f&&De&&Sl.alternate===null&&h(_t,De),ht=L(Sl,ht,nn),zn===null?Me=Sl:zn.sibling=Sl,zn=Sl,De=kn}if(fn.done)return x(_t,De),An&&X(_t,nn),Me;if(De===null){for(;!fn.done;nn++,fn=bt.next())fn=le(_t,fn.value,Yt),fn!==null&&(ht=L(fn,ht,nn),zn===null?Me=fn:zn.sibling=fn,zn=fn);return An&&X(_t,nn),Me}for(De=M(De);!fn.done;nn++,fn=bt.next())fn=ke(De,_t,nn,fn.value,Yt),fn!==null&&(f&&fn.alternate!==null&&De.delete(fn.key===null?nn:fn.key),ht=L(fn,ht,nn),zn===null?Me=fn:zn.sibling=fn,zn=fn);return f&&De.forEach(function($y){return h(_t,$y)}),An&&X(_t,nn),Me}function hc(_t,ht,bt,Yt){if(typeof bt=="object"&&bt!==null&&bt.type===nl&&bt.key===null&&(bt=bt.props.children),typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case el:t:{for(var Me=bt.key;ht!==null;){if(ht.key===Me){if(Me=bt.type,Me===nl){if(ht.tag===7){x(_t,ht.sibling),Yt=w(ht,bt.props.children),Yt.return=_t,_t=Yt;break t}}else if(ht.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===ro&&os(Me)===ht.type){x(_t,ht.sibling),Yt=w(ht,bt.props),ni(Yt,bt),Yt.return=_t,_t=Yt;break t}x(_t,ht);break}else h(_t,ht);ht=ht.sibling}bt.type===nl?(Yt=tl(bt.props.children,_t.mode,Yt,bt.key),Yt.return=_t,_t=Yt):(Yt=Zl(bt.type,bt.key,bt.props,null,_t.mode,Yt),ni(Yt,bt),Yt.return=_t,_t=Yt)}return j(_t);case _r:t:{for(Me=bt.key;ht!==null;){if(ht.key===Me)if(ht.tag===4&&ht.stateNode.containerInfo===bt.containerInfo&&ht.stateNode.implementation===bt.implementation){x(_t,ht.sibling),Yt=w(ht,bt.children||[]),Yt.return=_t,_t=Yt;break t}else{x(_t,ht);break}else h(_t,ht);ht=ht.sibling}Yt=js(bt,_t.mode,Yt),Yt.return=_t,_t=Yt}return j(_t);case ro:return Me=bt._init,bt=Me(bt._payload),hc(_t,ht,bt,Yt)}if(ol(bt))return Ga(_t,ht,bt,Yt);if(a(bt)){if(Me=a(bt),typeof Me!="function")throw Error(s(150));return bt=Me.call(bt),Au(_t,ht,bt,Yt)}if(typeof bt.then=="function")return hc(_t,ht,Gn(bt),Yt);if(bt.$$typeof===sl)return hc(_t,ht,yf(_t,bt),Yt);dn(_t,bt)}return typeof bt=="string"&&bt!==""||typeof bt=="number"||typeof bt=="bigint"?(bt=""+bt,ht!==null&&ht.tag===6?(x(_t,ht.sibling),Yt=w(ht,bt),Yt.return=_t,_t=Yt):(x(_t,ht),Yt=Uf(bt,_t.mode,Yt),Yt.return=_t,_t=Yt),j(_t)):x(_t,ht)}return function(_t,ht,bt,Yt){try{vs=0;var Me=hc(_t,ht,bt,Yt);return rc=null,Me}catch(De){if(De===kf)throw De;var zn=e(29,De,null,_t.mode);return zn.lanes=Yt,zn.return=_t,zn}finally{}}}function rf(f,h){f=lr,R(rr,f),R(ar,h),lr=f|h.baseLanes}function zl(){R(rr,lr),R(ar,ar.current)}function Ca(){lr=rr.current,S(ar),S(rr)}function la(f){var h=f.alternate;R(Wn,Wn.current&1),R(qs,f),Ua===null&&(h===null||ar.current!==null||h.memoizedState!==null)&&(Ua=f)}function zc(f){if(f.tag===22){if(R(Wn,Wn.current),R(qs,f),Ua===null){var h=f.alternate;h!==null&&h.memoizedState!==null&&(Ua=f)}}else qa()}function qa(){R(Wn,Wn.current),R(qs,qs.current)}function fi(f){S(qs),Ua===f&&(Ua=null),S(Wn)}function ai(f){for(var h=f;h!==null;){if(h.tag===13){var x=h.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||ec(x)||Ff(x)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}function Je(){throw Error(s(321))}function Ka(f,h){if(h===null)return!1;for(var x=0;x<h.length&&x<f.length;x++)if(!Ls(f[x],h[x]))return!1;return!0}function Ho(f,h,x,M,w,L){return po=L,Ge=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Oe.H=f===null||f.memoizedState===null?vo:Us,ml=!1,L=x(M,w),ml=!1,oc&&(L=ed(h,x,M,w)),td(f),L}function td(f){Oe.H=yi;var h=Mn!==null&&Mn.next!==null;if(po=0,ti=Mn=Ge=null,mo=!1,mu=0,go=null,h)throw Error(s(300));f===null||Ri||(f=f.dependencies,f!==null&&vf(f)&&(Ri=!0))}function ed(f,h,x,M){Ge=f;var w=0;do{if(oc&&(go=null),mu=0,oc=!1,25<=w)throw Error(s(301));if(w+=1,ti=Mn=null,f.updateQueue!=null){var L=f.updateQueue;L.lastEffect=null,L.events=null,L.stores=null,L.memoCache!=null&&(L.memoCache.index=0)}Oe.H=vl,L=h(x,M)}while(oc);return L}function nd(){var f=Oe.H,h=f.useState()[0];return h=typeof h.then=="function"?At(h):h,f=f.useState()[0],(Mn!==null?Mn.memoizedState:null)!==f&&(Ge.flags|=1024),h}function kr(){var f=gl!==0;return gl=0,f}function Hl(f,h,x){h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~x}function Ja(f){if(mo){for(f=f.memoizedState;f!==null;){var h=f.queue;h!==null&&(h.pending=null),f=f.next}mo=!1}po=0,ti=Mn=Ge=null,oc=!1,mu=gl=0,go=null}function V(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ti===null?Ge.memoizedState=ti=f:ti=ti.next=f,ti}function rt(){if(Mn===null){var f=Ge.alternate;f=f!==null?f.memoizedState:null}else f=Mn.next;var h=ti===null?Ge.memoizedState:ti.next;if(h!==null)ti=h,Mn=f;else{if(f===null)throw Ge.alternate===null?Error(s(467)):Error(s(310));Mn=f,f={memoizedState:Mn.memoizedState,baseState:Mn.baseState,baseQueue:Mn.baseQueue,queue:Mn.queue,next:null},ti===null?Ge.memoizedState=ti=f:ti=ti.next=f}return ti}function At(f){var h=mu;return mu+=1,go===null&&(go=[]),f=se(go,f,h),h=Ge,(ti===null?h.memoizedState:ti.next)===null&&(h=h.alternate,Oe.H=h===null||h.memoizedState===null?vo:Us),f}function gt(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return At(f);if(f.$$typeof===sl)return ts(f)}throw Error(s(438,String(f)))}function ft(f){var h=null,x=Ge.updateQueue;if(x!==null&&(h=x.memoCache),h==null){var M=Ge.alternate;M!==null&&(M=M.updateQueue,M!==null&&(M=M.memoCache,M!=null&&(h={data:M.data.map(function(w){return w.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),x===null&&(x=Sg(),Ge.updateQueue=x),x.memoCache=h,x=h.data[h.index],x===void 0)for(x=h.data[h.index]=Array(f),M=0;M<f;M++)x[M]=Ze;return h.index++,x}function kt(f,h){return typeof h=="function"?h(f):h}function $t(f){var h=rt();return oe(h,Mn,f)}function oe(f,h,x){var M=f.queue;if(M===null)throw Error(s(311));M.lastRenderedReducer=x;var w=f.baseQueue,L=M.pending;if(L!==null){if(w!==null){var j=w.next;w.next=L.next,L.next=j}h.baseQueue=w=L,M.pending=null}if(L=f.baseState,w===null)f.memoizedState=L;else{h=w.next;var nt=j=null,mt=null,Nt=h,Kt=!1;do{var le=Nt.lane&-536870913;if(le!==Nt.lane?(on&le)===le:(po&le)===le){var Wt=Nt.revertLane;if(Wt===0)mt!==null&&(mt=mt.next={lane:0,revertLane:0,action:Nt.action,hasEagerState:Nt.hasEagerState,eagerState:Nt.eagerState,next:null}),le===Jn&&(Kt=!0);else if((po&Wt)===Wt){Nt=Nt.next,Wt===Jn&&(Kt=!0);continue}else le={lane:0,revertLane:Nt.revertLane,action:Nt.action,hasEagerState:Nt.hasEagerState,eagerState:Nt.eagerState,next:null},mt===null?(nt=mt=le,j=L):mt=mt.next=le,Ge.lanes|=Wt,za|=Wt;le=Nt.action,ml&&x(L,le),L=Nt.hasEagerState?Nt.eagerState:x(L,le)}else Wt={lane:le,revertLane:Nt.revertLane,action:Nt.action,hasEagerState:Nt.hasEagerState,eagerState:Nt.eagerState,next:null},mt===null?(nt=mt=Wt,j=L):mt=mt.next=Wt,Ge.lanes|=le,za|=le;Nt=Nt.next}while(Nt!==null&&Nt!==h);if(mt===null?j=L:mt.next=nt,!Ls(L,f.memoizedState)&&(Ri=!0,Kt&&(x=Ki,x!==null)))throw x;f.memoizedState=L,f.baseState=j,f.baseQueue=mt,M.lastRenderedState=L}return w===null&&(M.lanes=0),[f.memoizedState,M.dispatch]}function re(f){var h=rt(),x=h.queue;if(x===null)throw Error(s(311));x.lastRenderedReducer=f;var M=x.dispatch,w=x.pending,L=h.memoizedState;if(w!==null){x.pending=null;var j=w=w.next;do L=f(L,j.action),j=j.next;while(j!==w);Ls(L,h.memoizedState)||(Ri=!0),h.memoizedState=L,h.baseQueue===null&&(h.baseState=L),x.lastRenderedState=L}return[L,M]}function Ne(f,h,x){var M=Ge,w=rt(),L=An;if(L){if(x===void 0)throw Error(s(407));x=x()}else x=h();var j=!Ls((Mn||w).memoizedState,x);if(j&&(w.memoizedState=x,Ri=!0),w=w.queue,lf(ln.bind(null,M,w,f),[f]),w.getSnapshot!==h||j||ti!==null&&ti.memoizedState.tag&1){if(M.flags|=2048,Za(9,Te.bind(null,M,w,x,h),{destroy:void 0},null),Fn===null)throw Error(s(349));L||po&60||Ue(M,h,x)}return x}function Ue(f,h,x){f.flags|=16384,f={getSnapshot:h,value:x},h=Ge.updateQueue,h===null?(h=Sg(),Ge.updateQueue=h,h.stores=[f]):(x=h.stores,x===null?h.stores=[f]:x.push(f))}function Te(f,h,x,M){h.value=x,h.getSnapshot=M,cn(h)&&Xn(f)}function ln(f,h,x){return x(function(){cn(h)&&Xn(f)})}function cn(f){var h=f.getSnapshot;f=f.value;try{var x=h();return!Ls(f,x)}catch{return!0}}function Xn(f){var h=Qt(f,2);h!==null&&Yn(h,f,2)}function vn(f){var h=V();if(typeof f=="function"){var x=f;if(f=x(),ml){et(!0);try{x()}finally{et(!1)}}}return h.memoizedState=h.baseState=f,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kt,lastRenderedState:f},h}function ze(f,h,x,M){return f.baseState=x,oe(f,Mn,typeof M=="function"?M:kt)}function Ce(f,h,x,M,w){if(hf(f))throw Error(s(485));if(f=h.action,f!==null){var L={payload:w,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){L.listeners.push(j)}};Oe.T!==null?x(!0):L.isTransition=!1,M(L),x=h.pending,x===null?(L.next=h.pending=L,Mi(h,L)):(L.next=x.next,h.pending=x.next=L)}}function Mi(f,h){var x=h.action,M=h.payload,w=f.state;if(h.isTransition){var L=Oe.T,j={};Oe.T=j;try{var nt=x(w,M),mt=Oe.S;mt!==null&&mt(j,nt),un(f,h,nt)}catch(Nt){ca(f,h,Nt)}finally{Oe.T=L}}else try{L=x(w,M),un(f,h,L)}catch(Nt){ca(f,h,Nt)}}function un(f,h,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(M){Cs(f,h,M)},function(M){return ca(f,h,M)}):Cs(f,h,x)}function Cs(f,h,x){h.status="fulfilled",h.value=x,cs(h),f.state=x,h=f.pending,h!==null&&(x=h.next,x===h?f.pending=null:(x=x.next,h.next=x,Mi(f,x)))}function ca(f,h,x){var M=f.pending;if(f.pending=null,M!==null){M=M.next;do h.status="rejected",h.reason=x,cs(h),h=h.next;while(h!==M)}f.action=null}function cs(f){f=f.listeners;for(var h=0;h<f.length;h++)(0,f[h])()}function Pi(f,h){return h}function Ln(f,h){if(An){var x=Fn.formState;if(x!==null){t:{var M=Ge;if(An){if(Pn){var w=zy(Pn,ir);if(w){Pn=cl(w),M=br(w);break t}}Ht(M)}M=!1}M&&(h=x[0])}}x=V(),x.memoizedState=x.baseState=h,M={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:h},x.queue=M,x=Rm.bind(null,Ge,M),M.dispatch=x,M=vn(!1);var L=Vc.bind(null,Ge,!1,M.queue);return M=V(),w={state:h,dispatch:null,action:f,pending:null},M.queue=w,x=Ce.bind(null,Ge,w,L,x),w.dispatch=x,M.memoizedState=f,[h,x,!1]}function us(f){var h=rt();return Qi(h,Mn,f)}function Qi(f,h,x){h=oe(f,h,Pi)[0],f=$t(kt)[0],h=typeof h=="object"&&h!==null&&typeof h.then=="function"?At(h):h;var M=rt(),w=M.queue,L=w.dispatch;return x!==M.memoizedState&&(Ge.flags|=2048,Za(9,ri.bind(null,w,x),{destroy:void 0},null)),[h,L,f]}function ri(f,h){f.action=h}function Yi(f){var h=rt(),x=Mn;if(x!==null)return Qi(h,x,f);rt(),h=h.memoizedState,x=rt();var M=x.queue.dispatch;return x.memoizedState=f,[h,M,!1]}function Za(f,h,x,M){return f={tag:f,create:h,inst:x,deps:M,next:null},h=Ge.updateQueue,h===null&&(h=Sg(),Ge.updateQueue=h),x=h.lastEffect,x===null?h.lastEffect=f.next=f:(M=x.next,x.next=f,f.next=M,h.lastEffect=f),f}function ws(){return rt().memoizedState}function id(f,h,x,M){var w=V();Ge.flags|=f,w.memoizedState=Za(1|h,x,{destroy:void 0},M===void 0?null:M)}function of(f,h,x,M){var w=rt();M=M===void 0?null:M;var L=w.memoizedState.inst;Mn!==null&&M!==null&&Ka(M,Mn.memoizedState.deps)?w.memoizedState=Za(h,x,L,M):(Ge.flags|=f,w.memoizedState=Za(1|h,x,L,M))}function Tm(f,h){id(8390656,8,f,h)}function lf(f,h){of(2048,8,f,h)}function Gv(f,h){return of(4,2,f,h)}function Vv(f,h){return of(4,4,f,h)}function cf(f,h){if(typeof h=="function"){f=f();var x=h(f);return function(){typeof x=="function"?x():h(null)}}if(h!=null)return f=f(),h.current=f,function(){h.current=null}}function sd(f,h,x){x=x!=null?x.concat([f]):null,of(4,4,cf.bind(null,h,f),x)}function uf(){}function Gl(f,h){var x=rt();h=h===void 0?null:h;var M=x.memoizedState;return h!==null&&Ka(h,M[1])?M[0]:(x.memoizedState=[f,h],f)}function Vl(f,h){var x=rt();h=h===void 0?null:h;var M=x.memoizedState;if(h!==null&&Ka(h,M[1]))return M[0];if(M=f(),ml){et(!0);try{f()}finally{et(!1)}}return x.memoizedState=[M,h],M}function ad(f,h,x){return x===void 0||po&1073741824?f.memoizedState=h:(f.memoizedState=x,f=Cf(),Ge.lanes|=f,za|=f,x)}function rd(f,h,x,M){return Ls(x,h)?x:ar.current!==null?(f=ad(f,x,M),Ls(f,h)||(Ri=!0),f):po&42?(f=Cf(),Ge.lanes|=f,za|=f,h):(Ri=!0,f.memoizedState=x)}function Cm(f,h,x,M,w){var L=ll();Ds(L!==0&&8>L?L:8);var j=Oe.T,nt={};Oe.T=nt,Vc(f,!1,h,x);try{var mt=w(),Nt=Oe.S;if(Nt!==null&&Nt(nt,mt),mt!==null&&typeof mt=="object"&&typeof mt.then=="function"){var Kt=Ke(mt,M);Go(f,h,Kt,fs(f))}else Go(f,h,M,fs(f))}catch(le){Go(f,h,{then:function(){},status:"rejected",reason:le},fs())}finally{Ds(L),Oe.T=j}}function Hc(f){var h=f.memoizedState;if(h!==null)return h;h={memoizedState:tc,baseState:tc,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kt,lastRenderedState:tc},next:null};var x={};return h.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kt,lastRenderedState:x},next:null},f.memoizedState=h,f=f.alternate,f!==null&&(f.memoizedState=h),h}function ff(){return ts(lo)}function Gc(){return rt().memoizedState}function jr(){return rt().memoizedState}function wm(f){for(var h=f.return;h!==null;){switch(h.tag){case 24:case 3:var x=fs();f=xe(x);var M=ye(h,f,x);M!==null&&(Yn(M,h,x),pe(M,h,x)),h={cache:Xo()},f.payload=h;return}h=h.return}}function od(f,h,x){var M=fs();x={lane:M,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},hf(f)?Rs(h,x):(x=Vt(f,h,x,M),x!==null&&(Yn(x,f,M),Vo(x,h,M)))}function Rm(f,h,x){var M=fs();Go(f,h,x,M)}function Go(f,h,x,M){var w={lane:M,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(hf(f))Rs(h,w);else{var L=f.alternate;if(f.lanes===0&&(L===null||L.lanes===0)&&(L=h.lastRenderedReducer,L!==null))try{var j=h.lastRenderedState,nt=L(j,x);if(w.hasEagerState=!0,w.eagerState=nt,Ls(nt,j))return he(f,h,w,0),Fn===null&&K(),!1}catch{}finally{}if(x=Vt(f,h,w,M),x!==null)return Yn(x,f,M),Vo(x,h,M),!0}return!1}function Vc(f,h,x,M){if(M={lane:2,revertLane:ue(),action:M,hasEagerState:!1,eagerState:null,next:null},hf(f)){if(h)throw Error(s(479))}else h=Vt(f,x,M,2),h!==null&&Yn(h,f,2)}function hf(f){var h=f.alternate;return f===Ge||h!==null&&h===Ge}function Rs(f,h){oc=mo=!0;var x=f.pending;x===null?h.next=h:(h.next=x.next,x.next=h),f.pending=h}function Vo(f,h,x){if(x&4194176){var M=h.lanes;M&=f.pendingLanes,x|=M,h.lanes=x,Q(f,x)}}function kc(f,h,x,M){h=f.memoizedState,x=x(M,h),x=x==null?h:hi({},h,x),f.memoizedState=x,f.lanes===0&&(f.updateQueue.baseState=x)}function jc(f,h,x,M,w,L,j){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(M,L,j):h.prototype&&h.prototype.isPureReactComponent?!Tt(x,M)||!Tt(w,L):!0}function kv(f,h,x,M){f=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(x,M),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(x,M),h.state!==f&&gu.enqueueReplaceState(h,h.state,null)}function Xr(f,h){var x=h;if("ref"in h){x={};for(var M in h)M!=="ref"&&(x[M]=h[M])}if(f=f.defaultProps){x===h&&(x=hi({},x));for(var w in f)x[w]===void 0&&(x[w]=f[w])}return x}function Xc(f,h){try{var x=f.onUncaughtError;x(h.value,{componentStack:h.stack})}catch(M){setTimeout(function(){throw M})}}function Yc(f,h,x){try{var M=f.onCaughtError;M(x.value,{componentStack:x.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function Wc(f,h,x){return x=xe(x),x.tag=3,x.payload={element:null},x.callback=function(){Xc(f,h)},x}function Bm(f){return f=xe(f),f.tag=3,f}function jv(f,h,x,M){var w=x.type.getDerivedStateFromError;if(typeof w=="function"){var L=M.value;f.payload=function(){return w(L)},f.callback=function(){Yc(h,x,M)}}var j=x.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(f.callback=function(){Yc(h,x,M),typeof w!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var nt=M.stack;this.componentDidCatch(M.value,{componentStack:nt!==null?nt:""})})}function nS(f,h,x,M,w){if(x.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){if(h=x.alternate,h!==null&&gf(h,x,w,!0),x=qs.current,x!==null){switch(x.tag){case 13:return Ua===null?Da():x.alternate===null&&ei===0&&(ei=3),x.flags&=-257,x.flags|=65536,x.lanes=w,M===Ns?x.flags|=16384:(h=x.updateQueue,h===null?x.updateQueue=new Set([M]):h.add(M),$o(f,M,w)),!1;case 22:return x.flags|=65536,M===Ns?x.flags|=16384:(h=x.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([M])},x.updateQueue=h):(x=h.retryQueue,x===null?h.retryQueue=new Set([M]):x.add(M)),$o(f,M,w)),!1}throw Error(s(435,x.tag))}return $o(f,M,w),Da(),!1}if(An)return h=qs.current,h!==null?(!(h.flags&65536)&&(h.flags|=256),h.flags|=65536,h.lanes=w,M!==Vf&&(f=Error(s(422),{cause:M}),Rt(vt(f,x)))):(M!==Vf&&(h=Error(s(423),{cause:M}),Rt(vt(h,x))),f=f.current.alternate,f.flags|=65536,w&=-w,f.lanes|=w,M=vt(M,x),w=Wc(f.stateNode,M,w),He(f,w),ei!==4&&(ei=2)),!1;var L=Error(s(520),{cause:M});if(L=vt(L,x),yu===null?yu=[L]:yu.push(L),ei!==4&&(ei=2),h===null)return!0;M=vt(M,x),x=h;do{switch(x.tag){case 3:return x.flags|=65536,f=w&-w,x.lanes|=f,f=Wc(x.stateNode,M,f),He(x,f),!1;case 1:if(h=x.type,L=x.stateNode,(x.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(Br===null||!Br.has(L))))return x.flags|=65536,w&=-w,x.lanes|=w,w=Bm(w),jv(w,f,x,M),He(x,w),!1}x=x.return}while(x!==null);return!1}function $i(f,h,x,M){h.child=f===null?Cr(h,null,x,M):pl(h,f.child,x,M)}function ld(f,h,x,M,w){x=x.render;var L=h.ref;if("ref"in M){var j={};for(var nt in M)nt!=="ref"&&(j[nt]=M[nt])}else j=M;return jo(h),M=Ho(f,h,x,j,L,w),nt=kr(),f!==null&&!Ri?(Hl(f,h,w),Yr(f,h,w)):(An&&nt&&Mt(h),h.flags|=1,$i(f,h,M,w),h.child)}function Xv(f,h,x,M,w){if(f===null){var L=x.type;return typeof L=="function"&&!eo(L)&&L.defaultProps===void 0&&x.compare===null?(h.tag=15,h.type=L,Yv(f,h,L,M,w)):(f=Zl(x.type,null,M,h,h.mode,w),f.ref=h.ref,f.return=h,h.child=f)}if(L=f.child,!Om(f,w)){var j=L.memoizedProps;if(x=x.compare,x=x!==null?x:Tt,x(j,M)&&f.ref===h.ref)return Yr(f,h,w)}return h.flags|=1,f=no(L,M),f.ref=h.ref,f.return=h,h.child=f}function Yv(f,h,x,M,w){if(f!==null){var L=f.memoizedProps;if(Tt(L,M)&&f.ref===h.ref)if(Ri=!1,h.pendingProps=M=L,Om(f,w))f.flags&131072&&(Ri=!0);else return h.lanes=f.lanes,Yr(f,h,w)}return cd(f,h,x,M,w)}function Wv(f,h,x){var M=h.pendingProps,w=M.children,L=(h.stateNode._pendingVisibility&2)!==0,j=f!==null?f.memoizedState:null;if(df(f,h),M.mode==="hidden"||L){if(h.flags&128){if(M=j!==null?j.baseLanes|x:x,f!==null){for(w=h.child=f.child,L=0;w!==null;)L=L|w.lanes|w.childLanes,w=w.sibling;h.childLanes=L&~M}else h.childLanes=0,h.child=null;return qv(f,h,M,x)}if(x&536870912)h.memoizedState={baseLanes:0,cachePool:null},f!==null&&fd(h,j!==null?j.cachePool:null),j!==null?rf(h,j):zl(),zc(h);else return h.lanes=h.childLanes=536870912,qv(f,h,j!==null?j.baseLanes|x:x,x)}else j!==null?(fd(h,j.cachePool),rf(h,j),qa(),h.memoizedState=null):(f!==null&&fd(h,null),zl(),qa());return $i(f,h,w,x),h.child}function qv(f,h,x,M){var w=Im();return w=w===null?null:{parent:$a?li._currentValue:li._currentValue2,pool:w},h.memoizedState={baseLanes:x,cachePool:w},f!==null&&fd(h,null),zl(),zc(h),f!==null&&gf(f,h,M,!0),null}function df(f,h){var x=h.ref;if(x===null)f!==null&&f.ref!==null&&(h.flags|=2097664);else{if(typeof x!="function"&&typeof x!="object")throw Error(s(284));(f===null||f.ref!==x)&&(h.flags|=2097664)}}function cd(f,h,x,M,w){return jo(h),x=Ho(f,h,x,M,void 0,w),M=kr(),f!==null&&!Ri?(Hl(f,h,w),Yr(f,h,w)):(An&&M&&Mt(h),h.flags|=1,$i(f,h,x,w),h.child)}function Kv(f,h,x,M,w,L){return jo(h),h.updateQueue=null,x=ed(h,M,x,w),td(f),M=kr(),f!==null&&!Ri?(Hl(f,h,L),Yr(f,h,L)):(An&&M&&Mt(h),h.flags|=1,$i(f,h,x,L),h.child)}function Jv(f,h,x,M,w){if(jo(h),h.stateNode===null){var L=sc,j=x.contextType;typeof j=="object"&&j!==null&&(L=ts(j)),L=new x(M,L),h.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,L.updater=gu,h.stateNode=L,L._reactInternals=h,L=h.stateNode,L.props=M,L.state=h.memoizedState,L.refs={},qt(h),j=x.contextType,L.context=typeof j=="object"&&j!==null?ts(j):sc,L.state=h.memoizedState,j=x.getDerivedStateFromProps,typeof j=="function"&&(kc(h,x,j,M),L.state=h.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(j=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),j!==L.state&&gu.enqueueReplaceState(L,L.state,null),bn(h,M,L,w),be(),L.state=h.memoizedState),typeof L.componentDidMount=="function"&&(h.flags|=4194308),M=!0}else if(f===null){L=h.stateNode;var nt=h.memoizedProps,mt=Xr(x,nt);L.props=mt;var Nt=L.context,Kt=x.contextType;j=sc,typeof Kt=="object"&&Kt!==null&&(j=ts(Kt));var le=x.getDerivedStateFromProps;Kt=typeof le=="function"||typeof L.getSnapshotBeforeUpdate=="function",nt=h.pendingProps!==nt,Kt||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(nt||Nt!==j)&&kv(h,L,M,j),ms=!1;var Wt=h.memoizedState;L.state=Wt,bn(h,M,L,w),be(),Nt=h.memoizedState,nt||Wt!==Nt||ms?(typeof le=="function"&&(kc(h,x,le,M),Nt=h.memoizedState),(mt=ms||jc(h,x,mt,M,Wt,Nt,j))?(Kt||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(h.flags|=4194308)):(typeof L.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=M,h.memoizedState=Nt),L.props=M,L.state=Nt,L.context=j,M=mt):(typeof L.componentDidMount=="function"&&(h.flags|=4194308),M=!1)}else{L=h.stateNode,me(f,h),j=h.memoizedProps,Kt=Xr(x,j),L.props=Kt,le=h.pendingProps,Wt=L.context,Nt=x.contextType,mt=sc,typeof Nt=="object"&&Nt!==null&&(mt=ts(Nt)),nt=x.getDerivedStateFromProps,(Nt=typeof nt=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(j!==le||Wt!==mt)&&kv(h,L,M,mt),ms=!1,Wt=h.memoizedState,L.state=Wt,bn(h,M,L,w),be();var ke=h.memoizedState;j!==le||Wt!==ke||ms||f!==null&&f.dependencies!==null&&vf(f.dependencies)?(typeof nt=="function"&&(kc(h,x,nt,M),ke=h.memoizedState),(Kt=ms||jc(h,x,Kt,M,Wt,ke,mt)||f!==null&&f.dependencies!==null&&vf(f.dependencies))?(Nt||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(M,ke,mt),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(M,ke,mt)),typeof L.componentDidUpdate=="function"&&(h.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof L.componentDidUpdate!="function"||j===f.memoizedProps&&Wt===f.memoizedState||(h.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||j===f.memoizedProps&&Wt===f.memoizedState||(h.flags|=1024),h.memoizedProps=M,h.memoizedState=ke),L.props=M,L.state=ke,L.context=mt,M=Kt):(typeof L.componentDidUpdate!="function"||j===f.memoizedProps&&Wt===f.memoizedState||(h.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||j===f.memoizedProps&&Wt===f.memoizedState||(h.flags|=1024),M=!1)}return L=M,df(f,h),M=(h.flags&128)!==0,L||M?(L=h.stateNode,x=M&&typeof x.getDerivedStateFromError!="function"?null:L.render(),h.flags|=1,f!==null&&M?(h.child=pl(h,f.child,null,w),h.child=pl(h,null,x,w)):$i(f,h,x,w),h.memoizedState=L.state,f=h.child):f=Yr(f,h,w),f}function Zv(f,h,x,M){return Dt(),h.flags|=256,$i(f,h,x,M),h.child}function Dm(f){return{baseLanes:f,cachePool:Fm()}}function pf(f,h,x){return f=f!==null?f.childLanes&~x:0,h&&(f|=ga),f}function Qv(f,h,x){var M=h.pendingProps,w=!1,L=(h.flags&128)!==0,j;if((j=L)||(j=f!==null&&f.memoizedState===null?!1:(Wn.current&2)!==0),j&&(w=!0,h.flags&=-129),j=(h.flags&32)!==0,h.flags&=-33,f===null){if(An){if(w?la(h):qa(),An){var nt=Pn,mt;(mt=nt)&&(nt=Gy(nt,ir),nt!==null?(h.memoizedState={dehydrated:nt,treeContext:nr!==null?{id:Er,overflow:Tr}:null,retryLane:536870912},mt=e(18,null,null,0),mt.stateNode=nt,mt.return=h,h.child=mt,gi=h,Pn=null,mt=!0):mt=!1),mt||Ht(h)}if(nt=h.memoizedState,nt!==null&&(nt=nt.dehydrated,nt!==null))return Ff(nt)?h.lanes=16:h.lanes=536870912,null;fi(h)}return nt=M.children,M=M.fallback,w?(qa(),w=h.mode,nt=Nm({mode:"hidden",children:nt},w),M=tl(M,w,x,null),nt.return=h,M.return=h,nt.sibling=M,h.child=nt,w=h.child,w.memoizedState=Dm(x),w.childLanes=pf(f,j,x),h.memoizedState=Xf,M):(la(h),Lm(h,nt))}if(mt=f.memoizedState,mt!==null&&(nt=mt.dehydrated,nt!==null)){if(L)h.flags&256?(la(h),h.flags&=-257,h=ud(f,h,x)):h.memoizedState!==null?(qa(),h.child=f.child,h.flags|=128,h=null):(qa(),w=M.fallback,nt=h.mode,M=Nm({mode:"visible",children:M.children},nt),w=tl(w,nt,x,null),w.flags|=2,M.return=h,w.return=h,M.sibling=w,h.child=M,pl(h,f.child,null,x),M=h.child,M.memoizedState=Dm(x),M.childLanes=pf(f,j,x),h.memoizedState=Xf,h=w);else if(la(h),Ff(nt))j=Ld(nt).digest,M=Error(s(419)),M.stack="",M.digest=j,Rt({value:M,source:null,stack:null}),h=ud(f,h,x);else if(Ri||gf(f,h,x,!1),j=(x&f.childLanes)!==0,Ri||j){if(j=Fn,j!==null){if(M=x&-x,M&42)M=1;else switch(M){case 2:M=1;break;case 8:M=4;break;case 32:M=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:M=64;break;case 268435456:M=134217728;break;default:M=0}if(M=M&(j.suspendedLanes|x)?0:M,M!==0&&M!==mt.retryLane)throw mt.retryLane=M,Qt(f,M),Yn(j,f,M),bg}ec(nt)||Da(),h=ud(f,h,x)}else ec(nt)?(h.flags|=128,h.child=f.child,h=Nf.bind(null,f),Fy(nt,h),h=null):(f=mt.treeContext,Xs&&(Pn=lg(nt),gi=h,An=!0,Na=null,ir=!1,f!==null&&(Ys[ps++]=Er,Ys[ps++]=Tr,Ys[ps++]=nr,Er=f.id,Tr=f.overflow,nr=h)),h=Lm(h,M.children),h.flags|=4096);return h}return w?(qa(),w=M.fallback,nt=h.mode,mt=f.child,L=mt.sibling,M=no(mt,{mode:"hidden",children:M.children}),M.subtreeFlags=mt.subtreeFlags&31457280,L!==null?w=no(L,w):(w=tl(w,nt,x,null),w.flags|=2),w.return=h,M.return=h,M.sibling=w,h.child=M,M=w,w=h.child,nt=f.child.memoizedState,nt===null?nt=Dm(x):(mt=nt.cachePool,mt!==null?(L=$a?li._currentValue:li._currentValue2,mt=mt.parent!==L?{parent:L,pool:L}:mt):mt=Fm(),nt={baseLanes:nt.baseLanes|x,cachePool:mt}),w.memoizedState=nt,w.childLanes=pf(f,j,x),h.memoizedState=Xf,M):(la(h),x=f.child,f=x.sibling,x=no(x,{mode:"visible",children:M.children}),x.return=h,x.sibling=null,f!==null&&(j=h.deletions,j===null?(h.deletions=[f],h.flags|=16):j.push(f)),h.child=x,h.memoizedState=null,x)}function Lm(f,h){return h=Nm({mode:"visible",children:h},f.mode),h.return=f,f.child=h}function Nm(f,h){return bd(f,h,0,null)}function ud(f,h,x){return pl(h,f.child,null,x),f=Lm(h,h.pendingProps.children),f.flags|=2,h.memoizedState=null,f}function $v(f,h,x){f.lanes|=h;var M=f.alternate;M!==null&&(M.lanes|=h),mf(f.return,h,x)}function Um(f,h,x,M,w){var L=f.memoizedState;L===null?f.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:M,tail:x,tailMode:w}:(L.isBackwards=h,L.rendering=null,L.renderingStartTime=0,L.last=M,L.tail=x,L.tailMode=w)}function ty(f,h,x){var M=h.pendingProps,w=M.revealOrder,L=M.tail;if($i(f,h,M.children,x),M=Wn.current,M&2)M=M&1|2,h.flags|=128;else{if(f!==null&&f.flags&128)t:for(f=h.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&$v(f,x,h);else if(f.tag===19)$v(f,x,h);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break t;for(;f.sibling===null;){if(f.return===null||f.return===h)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}M&=1}switch(R(Wn,M),w){case"forwards":for(x=h.child,w=null;x!==null;)f=x.alternate,f!==null&&ai(f)===null&&(w=x),x=x.sibling;x=w,x===null?(w=h.child,h.child=null):(w=x.sibling,x.sibling=null),Um(h,!1,w,x,L);break;case"backwards":for(x=null,w=h.child,h.child=null;w!==null;){if(f=w.alternate,f!==null&&ai(f)===null){h.child=w;break}f=w.sibling,w.sibling=x,x=w,w=f}Um(h,!0,x,null,L);break;case"together":Um(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Yr(f,h,x){if(f!==null&&(h.dependencies=f.dependencies),za|=h.lanes,!(x&h.childLanes))if(f!==null){if(gf(f,h,x,!1),(x&h.childLanes)===0)return null}else return null;if(f!==null&&h.child!==f.child)throw Error(s(153));if(h.child!==null){for(f=h.child,x=no(f,f.pendingProps),h.child=x,x.return=h;f.sibling!==null;)f=f.sibling,x=x.sibling=no(f,f.pendingProps),x.return=h;x.sibling=null}return h.child}function Om(f,h){return f.lanes&h?!0:(f=f.dependencies,!!(f!==null&&vf(f)))}function iS(f,h,x){switch(h.tag){case 3:st(h,h.stateNode.containerInfo),ko(h,li,f.memoizedState.cache),Dt();break;case 27:case 5:Bt(h);break;case 4:st(h,h.stateNode.containerInfo);break;case 10:ko(h,h.type,h.memoizedProps.value);break;case 13:var M=h.memoizedState;if(M!==null)return M.dehydrated!==null?(la(h),h.flags|=128,null):x&h.child.childLanes?Qv(f,h,x):(la(h),f=Yr(f,h,x),f!==null?f.sibling:null);la(h);break;case 19:var w=(f.flags&128)!==0;if(M=(x&h.childLanes)!==0,M||(gf(f,h,x,!1),M=(x&h.childLanes)!==0),w){if(M)return ty(f,h,x);h.flags|=128}if(w=h.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),R(Wn,Wn.current),M)break;return null;case 22:case 23:return h.lanes=0,Wv(f,h,x);case 24:ko(h,li,f.memoizedState.cache)}return Yr(f,h,x)}function ey(f,h,x){if(f!==null)if(f.memoizedProps!==h.pendingProps)Ri=!0;else{if(!Om(f,x)&&!(h.flags&128))return Ri=!1,iS(f,h,x);Ri=!!(f.flags&131072)}else Ri=!1,An&&h.flags&1048576&&it(h,hu,h.index);switch(h.lanes=0,h.tag){case 16:t:{f=h.pendingProps;var M=h.elementType,w=M._init;if(M=w(M._payload),h.type=M,typeof M=="function")eo(M)?(f=Xr(M,f),h.tag=1,h=Jv(null,h,M,f,x)):(h.tag=0,h=cd(null,h,M,f,x));else{if(M!=null){if(w=M.$$typeof,w===Md){h.tag=11,h=ld(null,h,M,f,x);break t}else if(w===iu){h.tag=14,h=Xv(null,h,M,f,x);break t}}throw h=o(M)||M,Error(s(306,h,""))}}return h;case 0:return cd(f,h,h.type,h.pendingProps,x);case 1:return M=h.type,w=Xr(M,h.pendingProps),Jv(f,h,M,w,x);case 3:t:{if(st(h,h.stateNode.containerInfo),f===null)throw Error(s(387));var L=h.pendingProps;w=h.memoizedState,M=w.element,me(f,h),bn(h,L,null,x);var j=h.memoizedState;if(L=j.cache,ko(h,li,L),L!==w.cache&&kl(h,[li],x,!0),be(),L=j.element,Xs&&w.isDehydrated)if(w={element:L,isDehydrated:!1,cache:j.cache},h.updateQueue.baseState=w,h.memoizedState=w,h.flags&256){h=Zv(f,h,L,x);break t}else if(L!==M){M=vt(Error(s(424)),h),Rt(M),h=Zv(f,h,L,x);break t}else for(Xs&&(Pn=nc(h.stateNode.containerInfo),gi=h,An=!0,Na=null,ir=!0),x=Cr(h,null,L,x),h.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Dt(),L===M){h=Yr(f,h,x);break t}$i(f,h,L,x)}h=h.child}return h;case 26:if(ha)return df(f,h),f===null?(x=hg(h.type,null,h.pendingProps,null))?h.memoizedState=x:An||(h.stateNode=gg(h.type,h.pendingProps,fo.current,h)):h.memoizedState=hg(h.type,f.memoizedProps,h.pendingProps,f.memoizedState),null;case 27:if(qi)return Bt(h),f===null&&qi&&An&&(M=h.stateNode=Od(h.type,h.pendingProps,fo.current,mi.current,!1),gi=h,ir=!0,Pn=co(M)),M=h.pendingProps.children,f!==null||An?$i(f,h,M,x):h.child=pl(h,null,M,x),df(f,h),h.child;case 5:return f===null&&An&&(Yy(h.type,h.pendingProps,mi.current),(w=M=Pn)&&(M=cg(M,h.type,h.pendingProps,ir),M!==null?(h.stateNode=M,gi=h,Pn=co(M),ir=!1,w=!0):w=!1),w||Ht(h)),Bt(h),w=h.type,L=h.pendingProps,j=f!==null?f.memoizedProps:null,M=L.children,ns(w,L)?M=null:j!==null&&ns(w,j)&&(h.flags|=32),h.memoizedState!==null&&(w=Ho(f,h,nd,null,null,x),$a?lo._currentValue=w:lo._currentValue2=w),df(f,h),$i(f,h,M,x),h.child;case 6:return f===null&&An&&(hS(h.pendingProps,mi.current),(f=x=Pn)&&(x=Hy(x,h.pendingProps,ir),x!==null?(h.stateNode=x,gi=h,Pn=null,f=!0):f=!1),f||Ht(h)),null;case 13:return Qv(f,h,x);case 4:return st(h,h.stateNode.containerInfo),M=h.pendingProps,f===null?h.child=pl(h,null,M,x):$i(f,h,M,x),h.child;case 11:return ld(f,h,h.type,h.pendingProps,x);case 7:return $i(f,h,h.pendingProps,x),h.child;case 8:return $i(f,h,h.pendingProps.children,x),h.child;case 12:return $i(f,h,h.pendingProps.children,x),h.child;case 10:return M=h.pendingProps,ko(h,h.type,M.value),$i(f,h,M.children,x),h.child;case 9:return w=h.type._context,M=h.pendingProps.children,jo(h),w=ts(w),M=M(w),h.flags|=1,$i(f,h,M,x),h.child;case 14:return Xv(f,h,h.type,h.pendingProps,x);case 15:return Yv(f,h,h.type,h.pendingProps,x);case 19:return ty(f,h,x);case 22:return Wv(f,h,x);case 24:return jo(h),M=ts(li),f===null?(w=Im(),w===null&&(w=Fn,L=Xo(),w.pooledCache=L,L.refCount++,L!==null&&(w.pooledCacheLanes|=x),w=L),h.memoizedState={parent:M,cache:w},qt(h),ko(h,li,w)):(f.lanes&x&&(me(f,h),bn(h,null,null,x),be()),w=f.memoizedState,L=h.memoizedState,w.parent!==M?(w={parent:M,cache:M},h.memoizedState=w,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=w),ko(h,li,M)):(M=L.cache,ko(h,li,M),M!==w.cache&&kl(h,[li],x,!0))),$i(f,h,h.pendingProps.children,x),h.child;case 29:throw h.pendingProps}throw Error(s(156,h.tag))}function ko(f,h,x){$a?(R(Oa,h._currentValue),h._currentValue=x):(R(Oa,h._currentValue2),h._currentValue2=x)}function Wr(f){var h=Oa.current;$a?f._currentValue=h:f._currentValue2=h,S(Oa)}function mf(f,h,x){for(;f!==null;){var M=f.alternate;if((f.childLanes&h)!==h?(f.childLanes|=h,M!==null&&(M.childLanes|=h)):M!==null&&(M.childLanes&h)!==h&&(M.childLanes|=h),f===x)break;f=f.return}}function kl(f,h,x,M){var w=f.child;for(w!==null&&(w.return=f);w!==null;){var L=w.dependencies;if(L!==null){var j=w.child;L=L.firstContext;t:for(;L!==null;){var nt=L;L=w;for(var mt=0;mt<h.length;mt++)if(nt.context===h[mt]){L.lanes|=x,nt=L.alternate,nt!==null&&(nt.lanes|=x),mf(L.return,x,f),M||(j=null);break t}L=nt.next}}else if(w.tag===18){if(j=w.return,j===null)throw Error(s(341));j.lanes|=x,L=j.alternate,L!==null&&(L.lanes|=x),mf(j,x,f),j=null}else j=w.child;if(j!==null)j.return=w;else for(j=w;j!==null;){if(j===f){j=null;break}if(w=j.sibling,w!==null){w.return=j.return,j=w;break}j=j.return}w=j}}function gf(f,h,x,M){f=null;for(var w=h,L=!1;w!==null;){if(!L){if(w.flags&524288)L=!0;else if(w.flags&262144)break}if(w.tag===10){var j=w.alternate;if(j===null)throw Error(s(387));if(j=j.memoizedProps,j!==null){var nt=w.type;Ls(w.pendingProps.value,j.value)||(f!==null?f.push(nt):f=[nt])}}else if(w===Gf.current){if(j=w.alternate,j===null)throw Error(s(387));j.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(f!==null?f.push(lo):f=[lo])}w=w.return}f!==null&&kl(h,f,x,M),h.flags|=262144}function vf(f){for(f=f.firstContext;f!==null;){var h=f.context;if(!Ls($a?h._currentValue:h._currentValue2,f.memoizedValue))return!0;f=f.next}return!1}function jo(f){xl=f,Pa=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function ts(f){return Pm(xl,f)}function yf(f,h){return xl===null&&jo(f),Pm(f,h)}function Pm(f,h){var x=$a?h._currentValue:h._currentValue2;if(h={context:h,memoizedValue:x,next:null},Pa===null){if(f===null)throw Error(s(308));Pa=h,f.dependencies={lanes:0,firstContext:h},f.flags|=524288}else Pa=Pa.next=h;return x}function Xo(){return{controller:new Yf,data:new Map,refCount:0}}function xf(f){f.refCount--,f.refCount===0&&ii(pS,function(){f.controller.abort()})}function Im(){var f=lc.current;return f!==null?f:Fn.pooledCache}function fd(f,h){h===null?R(lc,lc.current):R(lc,h.pool)}function Fm(){var f=Im();return f===null?null:{parent:$a?li._currentValue:li._currentValue2,pool:f}}function zs(f){f.flags|=4}function qc(f,h){if(f!==null&&f.child===h.child)return!1;if(h.flags&16)return!0;for(f=h.child;f!==null;){if(f.flags&13878||f.subtreeFlags&13878)return!0;f=f.sibling}return!1}function jl(f,h,x,M){if($n)for(x=h.child;x!==null;){if(x.tag===5||x.tag===6)Pf(f,x.stateNode);else if(!(x.tag===4||qi&&x.tag===27)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===h)break;for(;x.sibling===null;){if(x.return===null||x.return===h)return;x=x.return}x.sibling.return=x.return,x=x.sibling}else if(tr)for(var w=h.child;w!==null;){if(w.tag===5){var L=w.stateNode;x&&M&&(L=Iy(L,w.type,w.memoizedProps)),Pf(f,L)}else if(w.tag===6)L=w.stateNode,x&&M&&(L=og(L,w.memoizedProps)),Pf(f,L);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)L=w.child,L!==null&&(L.return=w),jl(f,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===h)break;for(;w.sibling===null;){if(w.return===null||w.return===h)return;w=w.return}w.sibling.return=w.return,w=w.sibling}}function ny(f,h,x,M){if(tr)for(var w=h.child;w!==null;){if(w.tag===5){var L=w.stateNode;x&&M&&(L=Iy(L,w.type,w.memoizedProps)),rg(f,L)}else if(w.tag===6)L=w.stateNode,x&&M&&(L=og(L,w.memoizedProps)),rg(f,L);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)L=w.child,L!==null&&(L.return=w),ny(f,w,!(w.memoizedProps!==null&&w.memoizedProps.mode==="manual"),!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===h)break;for(;w.sibling===null;){if(w.return===null||w.return===h)return;w=w.return}w.sibling.return=w.return,w=w.sibling}}function Af(f,h){if(tr&&qc(f,h)){f=h.stateNode;var x=f.containerInfo,M=Dd();ny(M,h,!1,!1),f.pendingChildren=M,zs(h),Oy(x,M)}}function hd(f,h,x,M){if($n)f.memoizedProps!==M&&zs(h);else if(tr){var w=f.stateNode,L=f.memoizedProps;if((f=qc(f,h))||L!==M){var j=mi.current;L=Uy(w,x,L,M,!f,null),L===w?h.stateNode=w:(Ed(L,x,M,j)&&zs(h),h.stateNode=L,f?jl(L,h,!1,!1):zs(h))}else h.stateNode=w}}function dd(f,h,x){if(tg(h,x)){if(f.flags|=16777216,!eg(h,x))if(Wi())f.flags|=8192;else throw gs=Ns,jf}else f.flags&=-16777217}function pd(f,h){if(Ky(h)){if(f.flags|=16777216,!vg(h))if(Wi())f.flags|=8192;else throw gs=Ns,jf}else f.flags&=-16777217}function Kc(f,h){h!==null&&(f.flags|=4),f.flags&16384&&(h=f.tag!==22?O():536870912,f.lanes|=h,Di|=h)}function Jc(f,h){if(!An)switch(f.tailMode){case"hidden":h=f.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?f.tail=null:x.sibling=null;break;case"collapsed":x=f.tail;for(var M=null;x!==null;)x.alternate!==null&&(M=x),x=x.sibling;M===null?h||f.tail===null?f.tail=null:f.tail.sibling=null:M.sibling=null}}function Qn(f){var h=f.alternate!==null&&f.alternate.child===f.child,x=0,M=0;if(h)for(var w=f.child;w!==null;)x|=w.lanes|w.childLanes,M|=w.subtreeFlags&31457280,M|=w.flags&31457280,w.return=f,w=w.sibling;else for(w=f.child;w!==null;)x|=w.lanes|w.childLanes,M|=w.subtreeFlags,M|=w.flags,w.return=f,w=w.sibling;return f.subtreeFlags|=M,f.childLanes=x,h}function iy(f,h,x){var M=h.pendingProps;switch(Ot(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qn(h),null;case 1:return Qn(h),null;case 3:return x=h.stateNode,M=null,f!==null&&(M=f.memoizedState.cache),h.memoizedState.cache!==M&&(h.flags|=2048),Wr(li),Et(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(f===null||f.child===null)&&(ne(h)?zs(h):f===null||f.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,Na!==null&&($r(Na),Na=null))),Af(f,h),Qn(h),null;case 26:if(ha){x=h.type;var w=h.memoizedState;return f===null?(zs(h),w!==null?(Qn(h),pd(h,w)):(Qn(h),dd(h,x,M))):w?w!==f.memoizedState?(zs(h),Qn(h),pd(h,w)):(Qn(h),h.flags&=-16777217):($n?f.memoizedProps!==M&&zs(h):hd(f,h,x,M),Qn(h),dd(h,x,M)),null}case 27:if(qi){if(Pt(h),x=fo.current,w=h.type,f!==null&&h.stateNode!=null)$n?f.memoizedProps!==M&&zs(h):hd(f,h,w,M);else{if(!M){if(h.stateNode===null)throw Error(s(166));return Qn(h),null}f=mi.current,ne(h)?fe(h,f):(f=Od(w,M,x,f,!0),h.stateNode=f,zs(h))}return Qn(h),null}case 5:if(Pt(h),x=h.type,f!==null&&h.stateNode!=null)hd(f,h,x,M);else{if(!M){if(h.stateNode===null)throw Error(s(166));return Qn(h),null}f=mi.current,ne(h)?fe(h,f):(w=$m(x,M,fo.current,f,h),jl(w,h,!1,!1),h.stateNode=w,Ed(w,x,M,f)&&zs(h))}return Qn(h),dd(h,h.type,h.pendingProps),null;case 6:if(f&&h.stateNode!=null)x=f.memoizedProps,$n?x!==M&&zs(h):tr&&(x!==M?(h.stateNode=di(M,fo.current,mi.current,h),zs(h)):h.stateNode=f.stateNode);else{if(typeof M!="string"&&h.stateNode===null)throw Error(s(166));if(f=fo.current,x=mi.current,ne(h)){if(!Xs)throw Error(s(176));if(f=h.stateNode,x=h.memoizedProps,M=null,w=gi,w!==null)switch(w.tag){case 27:case 5:M=w.memoizedProps}Nd(f,x,h,M)||Ht(h)}else h.stateNode=di(M,f,x,h)}return Qn(h),null;case 13:if(M=h.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(w=ne(h),M!==null&&M.dehydrated!==null){if(f===null){if(!w)throw Error(s(318));if(!Xs)throw Error(s(344));if(w=h.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(s(317));Vy(w,h)}else Dt(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;Qn(h),w=!1}else Na!==null&&($r(Na),Na=null),w=!0;if(!w)return h.flags&256?(fi(h),h):(fi(h),null)}if(fi(h),h.flags&128)return h.lanes=x,h;if(x=M!==null,f=f!==null&&f.memoizedState!==null,x){M=h.child,w=null,M.alternate!==null&&M.alternate.memoizedState!==null&&M.alternate.memoizedState.cachePool!==null&&(w=M.alternate.memoizedState.cachePool.pool);var L=null;M.memoizedState!==null&&M.memoizedState.cachePool!==null&&(L=M.memoizedState.cachePool.pool),L!==w&&(M.flags|=2048)}return x!==f&&x&&(h.child.flags|=8192),Kc(h,h.updateQueue),Qn(h),null;case 4:return Et(),Af(f,h),f===null&&dy(h.stateNode.containerInfo),Qn(h),null;case 10:return Wr(h.type),Qn(h),null;case 19:if(S(Wn),w=h.memoizedState,w===null)return Qn(h),null;if(M=(h.flags&128)!==0,L=w.rendering,L===null)if(M)Jc(w,!1);else{if(ei!==0||f!==null&&f.flags&128)for(f=h.child;f!==null;){if(L=ai(f),L!==null){for(h.flags|=128,Jc(w,!1),f=L.updateQueue,h.updateQueue=f,Kc(h,f),h.subtreeFlags=0,f=x,x=h.child;x!==null;)Jl(x,f),x=x.sibling;return R(Wn,Wn.current&1|2),h.child}f=f.sibling}w.tail!==null&&da()>va&&(h.flags|=128,M=!0,Jc(w,!1),h.lanes=4194304)}else{if(!M)if(f=ai(L),f!==null){if(h.flags|=128,M=!0,f=f.updateQueue,h.updateQueue=f,Kc(h,f),Jc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!L.alternate&&!An)return Qn(h),null}else 2*da()-w.renderingStartTime>va&&x!==536870912&&(h.flags|=128,M=!0,Jc(w,!1),h.lanes=4194304);w.isBackwards?(L.sibling=h.child,h.child=L):(f=w.last,f!==null?f.sibling=L:h.child=L,w.last=L)}return w.tail!==null?(h=w.tail,w.rendering=h,w.tail=h.sibling,w.renderingStartTime=da(),h.sibling=null,f=Wn.current,R(Wn,M?f&1|2:f&1),h):(Qn(h),null);case 22:case 23:return fi(h),Ca(),M=h.memoizedState!==null,f!==null?f.memoizedState!==null!==M&&(h.flags|=8192):M&&(h.flags|=8192),M?x&536870912&&!(h.flags&128)&&(Qn(h),h.subtreeFlags&6&&(h.flags|=8192)):Qn(h),x=h.updateQueue,x!==null&&Kc(h,x.retryQueue),x=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),M=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(M=h.memoizedState.cachePool.pool),M!==x&&(h.flags|=2048),f!==null&&S(lc),null;case 24:return x=null,f!==null&&(x=f.memoizedState.cache),h.memoizedState.cache!==x&&(h.flags|=2048),Wr(li),Qn(h),null;case 25:return null}throw Error(s(156,h.tag))}function sS(f,h){switch(Ot(h),h.tag){case 1:return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 3:return Wr(li),Et(),f=h.flags,f&65536&&!(f&128)?(h.flags=f&-65537|128,h):null;case 26:case 27:case 5:return Pt(h),null;case 13:if(fi(h),f=h.memoizedState,f!==null&&f.dehydrated!==null){if(h.alternate===null)throw Error(s(340));Dt()}return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 19:return S(Wn),null;case 4:return Et(),null;case 10:return Wr(h.type),null;case 22:case 23:return fi(h),Ca(),f!==null&&S(lc),f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 24:return Wr(li),null;case 25:return null;default:return null}}function sy(f,h){switch(Ot(h),h.tag){case 3:Wr(li),Et();break;case 26:case 27:case 5:Pt(h);break;case 4:Et();break;case 13:fi(h);break;case 19:S(Wn);break;case 10:Wr(h.type);break;case 22:case 23:fi(h),Ca(),f!==null&&S(lc);break;case 24:Wr(li)}}function _f(f,h){try{var x=h.updateQueue,M=x!==null?x.lastEffect:null;if(M!==null){var w=M.next;x=w;do{if((x.tag&f)===f){M=void 0;var L=x.create,j=x.inst;M=L(),j.destroy=M}x=x.next}while(x!==w)}}catch(nt){Rn(h,h.return,nt)}}function Yo(f,h,x){try{var M=h.updateQueue,w=M!==null?M.lastEffect:null;if(w!==null){var L=w.next;M=L;do{if((M.tag&f)===f){var j=M.inst,nt=j.destroy;if(nt!==void 0){j.destroy=void 0,w=h;var mt=x;try{nt()}catch(Nt){Rn(w,mt,Nt)}}}M=M.next}while(M!==L)}}catch(Nt){Rn(h,h.return,Nt)}}function ay(f){var h=f.updateQueue;if(h!==null){var x=f.stateNode;try{ae(h,x)}catch(M){Rn(f,f.return,M)}}}function Hs(f,h,x){x.props=Xr(f.type,f.memoizedProps),x.state=f.memoizedState;try{x.componentWillUnmount()}catch(M){Rn(f,h,M)}}function Qa(f,h){try{var x=f.ref;if(x!==null){var M=f.stateNode;switch(f.tag){case 26:case 27:case 5:var w=$l(M);break;default:w=M}typeof x=="function"?f.refCleanup=x(w):x.current=w}}catch(L){Rn(f,h,L)}}function Gs(f,h){var x=f.ref,M=f.refCleanup;if(x!==null)if(typeof M=="function")try{M()}catch(w){Rn(f,h,w)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(w){Rn(f,h,w)}else x.current=null}function zm(f){var h=f.type,x=f.memoizedProps,M=f.stateNode;try{Ty(M,h,x,f)}catch(w){Rn(f,f.return,w)}}function Hm(f,h,x){try{Cy(f.stateNode,f.type,x,h,f)}catch(M){Rn(f,f.return,M)}}function Gm(f){return f.tag===5||f.tag===3||(ha?f.tag===26:!1)||(qi?f.tag===27:!1)||f.tag===4}function Sf(f){t:for(;;){for(;f.sibling===null;){if(f.return===null||Gm(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&(!qi||f.tag!==27)&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue t;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function Vm(f,h,x){var M=f.tag;if(M===5||M===6)f=f.stateNode,h?sg(x,f,h):ig(x,f);else if(!(M===4||qi&&M===27)&&(f=f.child,f!==null))for(Vm(f,h,x),f=f.sibling;f!==null;)Vm(f,h,x),f=f.sibling}function md(f,h,x){var M=f.tag;if(M===5||M===6)f=f.stateNode,h?wy(x,f,h):My(x,f);else if(!(M===4||qi&&M===27)&&(f=f.child,f!==null))for(md(f,h,x),f=f.sibling;f!==null;)md(f,h,x),f=f.sibling}function Xl(f,h,x){f=f.containerInfo;try{Py(f,x)}catch(M){Rn(h,h.return,M)}}function km(f,h){for(hy(f.containerInfo),Be=h;Be!==null;)if(f=Be,h=f.child,(f.subtreeFlags&1028)!==0&&h!==null)h.return=f,Be=h;else for(;Be!==null;){f=Be;var x=f.alternate;switch(h=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if(h&1024&&x!==null){h=void 0;var M=f,w=x.memoizedProps;x=x.memoizedState;var L=M.stateNode;try{var j=Xr(M.type,w,M.elementType===M.type);h=L.getSnapshotBeforeUpdate(j,x),L.__reactInternalSnapshotBeforeUpdate=h}catch(nt){Rn(M,M.return,nt)}}break;case 3:h&1024&&$n&&Ny(f.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(h&1024)throw Error(s(163))}if(h=f.sibling,h!==null){h.return=f.return,Be=h;break}Be=f.return}return j=Vn,Vn=!1,j}function Zc(f,h,x){var M=x.flags;switch(x.tag){case 0:case 11:case 15:Kr(f,x),M&4&&_f(5,x);break;case 1:if(Kr(f,x),M&4)if(f=x.stateNode,h===null)try{f.componentDidMount()}catch(nt){Rn(x,x.return,nt)}else{var w=Xr(x.type,h.memoizedProps);h=h.memoizedState;try{f.componentDidUpdate(w,h,f.__reactInternalSnapshotBeforeUpdate)}catch(nt){Rn(x,x.return,nt)}}M&64&&ay(x),M&512&&Qa(x,x.return);break;case 3:if(Kr(f,x),M&64&&(M=x.updateQueue,M!==null)){if(f=null,x.child!==null)switch(x.child.tag){case 27:case 5:f=$l(x.child.stateNode);break;case 1:f=x.child.stateNode}try{ae(M,f)}catch(nt){Rn(x,x.return,nt)}}break;case 26:if(ha){Kr(f,x),M&512&&Qa(x,x.return);break}case 27:case 5:Kr(f,x),h===null&&M&4&&zm(x),M&512&&Qa(x,x.return);break;case 12:Kr(f,x);break;case 13:Kr(f,x),M&4&&Yl(f,x);break;case 22:if(w=x.memoizedState!==null||yo,!w){h=h!==null&&h.memoizedState!==null||Ve;var L=yo,j=Ve;yo=w,(Ve=h)&&!j?Wo(f,x,(x.subtreeFlags&8772)!==0):Kr(f,x),yo=L,Ve=j}M&512&&(x.memoizedProps.mode==="manual"?Qa(x,x.return):Gs(x,x.return));break;default:Kr(f,x)}}function gd(f){var h=f.alternate;h!==null&&(f.alternate=null,gd(h)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(h=f.stateNode,h!==null&&gy(h)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function wa(f,h,x){for(x=x.child;x!==null;)qr(f,h,x),x=x.sibling}function qr(f,h,x){if(wi&&typeof wi.onCommitFiberUnmount=="function")try{wi.onCommitFiberUnmount(fu,x)}catch{}switch(x.tag){case 26:if(ha){Ve||Gs(x,h),wa(f,h,x),x.memoizedState?pg(x.memoizedState):x.stateNode&&lu(x.stateNode);break}case 27:if(qi){Ve||Gs(x,h);var M=En,w=xi;En=x.stateNode,wa(f,h,x),Ag(x.stateNode),En=M,xi=w;break}case 5:Ve||Gs(x,h);case 6:if($n){if(M=En,w=xi,En=null,wa(f,h,x),En=M,xi=w,En!==null)if(xi)try{By(En,x.stateNode)}catch(L){Rn(x,h,L)}else try{Ry(En,x.stateNode)}catch(L){Rn(x,h,L)}}else wa(f,h,x);break;case 18:$n&&En!==null&&(xi?ug(En,x.stateNode):Xy(En,x.stateNode));break;case 4:$n?(M=En,w=xi,En=x.stateNode.containerInfo,xi=!0,wa(f,h,x),En=M,xi=w):(tr&&Xl(x.stateNode,x,Dd()),wa(f,h,x));break;case 0:case 11:case 14:case 15:Ve||Yo(2,x,h),Ve||Yo(4,x,h),wa(f,h,x);break;case 1:Ve||(Gs(x,h),M=x.stateNode,typeof M.componentWillUnmount=="function"&&Hs(x,h,M)),wa(f,h,x);break;case 21:wa(f,h,x);break;case 22:Ve||Gs(x,h),Ve=(M=Ve)||x.memoizedState!==null,wa(f,h,x),Ve=M;break;default:wa(f,h,x)}}function Yl(f,h){if(Xs&&h.memoizedState===null&&(f=h.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{Ud(f)}catch(x){Rn(h,h.return,x)}}function jm(f){switch(f.tag){case 13:case 19:var h=f.stateNode;return h===null&&(h=f.stateNode=new en),h;case 22:return f=f.stateNode,h=f._retryCache,h===null&&(h=f._retryCache=new en),h;default:throw Error(s(435,f.tag))}}function vd(f,h){var x=jm(f);h.forEach(function(M){var w=Sd.bind(null,f,M);x.has(M)||(x.add(M),M.then(w,w))})}function Ei(f,h){var x=h.deletions;if(x!==null)for(var M=0;M<x.length;M++){var w=x[M],L=f,j=h;if($n){var nt=j;t:for(;nt!==null;){switch(nt.tag){case 27:case 5:En=nt.stateNode,xi=!1;break t;case 3:En=nt.stateNode.containerInfo,xi=!0;break t;case 4:En=nt.stateNode.containerInfo,xi=!0;break t}nt=nt.return}if(En===null)throw Error(s(160));qr(L,j,w),En=null,xi=!1}else qr(L,j,w);L=w.alternate,L!==null&&(L.return=null),w.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)Xm(h,f),h=h.sibling}function Xm(f,h){var x=f.alternate,M=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:Ei(h,f),Vs(f),M&4&&(Yo(3,f,f.return),_f(3,f),Yo(5,f,f.return));break;case 1:Ei(h,f),Vs(f),M&512&&(Ve||x===null||Gs(x,x.return)),M&64&&yo&&(f=f.updateQueue,f!==null&&(M=f.callbacks,M!==null&&(x=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=x===null?M:x.concat(M))));break;case 26:if(ha){var w=ys;Ei(h,f),Vs(f),M&512&&(Ve||x===null||Gs(x,x.return)),M&4&&(M=x!==null?x.memoizedState:null,h=f.memoizedState,x===null?h===null?f.stateNode===null?f.stateNode=Wy(w,f.type,f.memoizedProps,f):mg(w,f.type,f.stateNode):f.stateNode=dg(w,h,f.memoizedProps):M!==h?(M===null?x.stateNode!==null&&lu(x.stateNode):pg(M),h===null?mg(w,f.type,f.stateNode):dg(w,h,f.memoizedProps)):h===null&&f.stateNode!==null&&Hm(f,f.memoizedProps,x.memoizedProps));break}case 27:if(qi&&M&4&&f.alternate===null){w=f.stateNode;var L=f.memoizedProps;try{Jy(w),xg(f.type,L,w,f)}catch(Kt){Rn(f,f.return,Kt)}}case 5:if(Ei(h,f),Vs(f),M&512&&(Ve||x===null||Gs(x,x.return)),$n){if(f.flags&32){h=f.stateNode;try{Bd(h)}catch(Kt){Rn(f,f.return,Kt)}}M&4&&f.stateNode!=null&&(h=f.memoizedProps,Hm(f,h,x!==null?x.memoizedProps:h)),M&1024&&(In=!0)}break;case 6:if(Ei(h,f),Vs(f),M&4&&$n){if(f.stateNode===null)throw Error(s(162));M=f.memoizedProps,x=x!==null?x.memoizedProps:M,h=f.stateNode;try{Ey(h,x,M)}catch(Kt){Rn(f,f.return,Kt)}}break;case 3:if(ha?(qy(),w=ys,ys=Fi(h.containerInfo),Ei(h,f),ys=w):Ei(h,f),Vs(f),M&4){if($n&&Xs&&x!==null&&x.memoizedState.isDehydrated)try{jy(h.containerInfo)}catch(Kt){Rn(f,f.return,Kt)}if(tr){M=h.containerInfo,x=h.pendingChildren;try{Py(M,x)}catch(Kt){Rn(f,f.return,Kt)}}}In&&(In=!1,Ym(f));break;case 4:ha?(x=ys,ys=Fi(f.stateNode.containerInfo),Ei(h,f),Vs(f),ys=x):(Ei(h,f),Vs(f)),M&4&&tr&&Xl(f.stateNode,f,f.stateNode.pendingChildren);break;case 12:Ei(h,f),Vs(f);break;case 13:Ei(h,f),Vs(f),f.child.flags&8192&&f.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(Eg=da()),M&4&&(M=f.updateQueue,M!==null&&(f.updateQueue=null,vd(f,M)));break;case 22:M&512&&(Ve||x===null||Gs(x,x.return)),w=f.memoizedState!==null;var j=x!==null&&x.memoizedState!==null,nt=yo,mt=Ve;if(yo=nt||w,Ve=mt||j,Ei(h,f),Ve=mt,yo=nt,Vs(f),h=f.stateNode,h._current=f,h._visibility&=-3,h._visibility|=h._pendingVisibility&2,M&8192&&(h._visibility=w?h._visibility&-2:h._visibility|1,w&&(h=yo||Ve,x===null||j||h||Qc(f)),$n&&(f.memoizedProps===null||f.memoizedProps.mode!=="manual"))){t:if(x=null,$n)for(h=f;;){if(h.tag===5||ha&&h.tag===26||qi&&h.tag===27){if(x===null){j=x=h;try{L=j.stateNode,w?Dy(L):fS(j.stateNode,j.memoizedProps)}catch(Kt){Rn(j,j.return,Kt)}}}else if(h.tag===6){if(x===null){j=h;try{var Nt=j.stateNode;w?Ly(Nt):ag(Nt,j.memoizedProps)}catch(Kt){Rn(j,j.return,Kt)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===f)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break t;for(;h.sibling===null;){if(h.return===null||h.return===f)break t;x===h&&(x=null),h=h.return}x===h&&(x=null),h.sibling.return=h.return,h=h.sibling}}M&4&&(M=f.updateQueue,M!==null&&(x=M.retryQueue,x!==null&&(M.retryQueue=null,vd(f,x))));break;case 19:Ei(h,f),Vs(f),M&4&&(M=f.updateQueue,M!==null&&(f.updateQueue=null,vd(f,M)));break;case 21:break;default:Ei(h,f),Vs(f)}}function Vs(f){var h=f.flags;if(h&2){try{if($n&&(!qi||f.tag!==27)){t:{for(var x=f.return;x!==null;){if(Gm(x)){var M=x;break t}x=x.return}throw Error(s(160))}switch(M.tag){case 27:if(qi){var w=M.stateNode,L=Sf(f);md(f,L,w);break}case 5:var j=M.stateNode;M.flags&32&&(Bd(j),M.flags&=-33);var nt=Sf(f);md(f,nt,j);break;case 3:case 4:var mt=M.stateNode.containerInfo,Nt=Sf(f);Vm(f,Nt,mt);break;default:throw Error(s(161))}}}catch(Kt){Rn(f,f.return,Kt)}f.flags&=-3}h&4096&&(f.flags&=-4097)}function Ym(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var h=f;Ym(h),h.tag===5&&h.flags&1024&&yy(h.stateNode),f=f.sibling}}function Kr(f,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)Zc(f,h.alternate,h),h=h.sibling}function Qc(f){for(f=f.child;f!==null;){var h=f;switch(h.tag){case 0:case 11:case 14:case 15:Yo(4,h,h.return),Qc(h);break;case 1:Gs(h,h.return);var x=h.stateNode;typeof x.componentWillUnmount=="function"&&Hs(h,h.return,x),Qc(h);break;case 26:case 27:case 5:Gs(h,h.return),Qc(h);break;case 22:Gs(h,h.return),h.memoizedState===null&&Qc(h);break;default:Qc(h)}f=f.sibling}}function Wo(f,h,x){for(x=x&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var M=h.alternate,w=f,L=h,j=L.flags;switch(L.tag){case 0:case 11:case 15:Wo(w,L,x),_f(4,L);break;case 1:if(Wo(w,L,x),M=L,w=M.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Nt){Rn(M,M.return,Nt)}if(M=L,w=M.updateQueue,w!==null){var nt=M.stateNode;try{var mt=w.shared.hiddenCallbacks;if(mt!==null)for(w.shared.hiddenCallbacks=null,w=0;w<mt.length;w++)ct(mt[w],nt)}catch(Nt){Rn(M,M.return,Nt)}}x&&j&64&&ay(L),Qa(L,L.return);break;case 26:case 27:case 5:Wo(w,L,x),x&&M===null&&j&4&&zm(L),Qa(L,L.return);break;case 12:Wo(w,L,x);break;case 13:Wo(w,L,x),x&&j&4&&Yl(w,L);break;case 22:L.memoizedState===null&&Wo(w,L,x),Qa(L,L.return);break;default:Wo(w,L,x)}h=h.sibling}}function yd(f,h){var x=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),f=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(f=h.memoizedState.cachePool.pool),f!==x&&(f!=null&&f.refCount++,x!=null&&xf(x))}function xd(f,h){f=null,h.alternate!==null&&(f=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==f&&(h.refCount++,f!=null&&xf(f))}function Jr(f,h,x,M){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)Ra(f,h,x,M),h=h.sibling}function Ra(f,h,x,M){var w=h.flags;switch(h.tag){case 0:case 11:case 15:Jr(f,h,x,M),w&2048&&_f(9,h);break;case 3:Jr(f,h,x,M),w&2048&&(f=null,h.alternate!==null&&(f=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==f&&(h.refCount++,f!=null&&xf(f)));break;case 12:if(w&2048){Jr(f,h,x,M),f=h.stateNode;try{var L=h.memoizedProps,j=L.id,nt=L.onPostCommit;typeof nt=="function"&&nt(j,h.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(mt){Rn(h,h.return,mt)}}else Jr(f,h,x,M);break;case 23:break;case 22:L=h.stateNode,h.memoizedState!==null?L._visibility&4?Jr(f,h,x,M):gr(f,h):L._visibility&4?Jr(f,h,x,M):(L._visibility|=4,es(f,h,x,M,(h.subtreeFlags&10256)!==0)),w&2048&&yd(h.alternate,h);break;case 24:Jr(f,h,x,M),w&2048&&xd(h.alternate,h);break;default:Jr(f,h,x,M)}}function es(f,h,x,M,w){for(w=w&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var L=f,j=h,nt=x,mt=M,Nt=j.flags;switch(j.tag){case 0:case 11:case 15:es(L,j,nt,mt,w),_f(8,j);break;case 23:break;case 22:var Kt=j.stateNode;j.memoizedState!==null?Kt._visibility&4?es(L,j,nt,mt,w):gr(L,j):(Kt._visibility|=4,es(L,j,nt,mt,w)),w&&Nt&2048&&yd(j.alternate,j);break;case 24:es(L,j,nt,mt,w),w&&Nt&2048&&xd(j.alternate,j);break;default:es(L,j,nt,mt,w)}h=h.sibling}}function gr(f,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var x=f,M=h,w=M.flags;switch(M.tag){case 22:gr(x,M),w&2048&&yd(M.alternate,M);break;case 24:gr(x,M),w&2048&&xd(M.alternate,M);break;default:gr(x,M)}h=h.sibling}}function Zr(f){if(f.subtreeFlags&Al)for(f=f.child;f!==null;)bf(f),f=f.sibling}function bf(f){switch(f.tag){case 26:Zr(f),f.flags&Al&&(f.memoizedState!==null?yg(ys,f.memoizedState,f.memoizedProps):ng(f.type,f.memoizedProps));break;case 5:Zr(f),f.flags&Al&&ng(f.type,f.memoizedProps);break;case 3:case 4:if(ha){var h=ys;ys=Fi(f.stateNode.containerInfo),Zr(f),ys=h}else Zr(f);break;case 22:f.memoizedState===null&&(h=f.alternate,h!==null&&h.memoizedState!==null?(h=Al,Al=16777216,Zr(f),Al=h):Zr(f));break;default:Zr(f)}}function Mf(f){var h=f.alternate;if(h!==null&&(f=h.child,f!==null)){h.child=null;do h=f.sibling,f.sibling=null,f=h;while(f!==null)}}function Wl(f){var h=f.deletions;if(f.flags&16){if(h!==null)for(var x=0;x<h.length;x++){var M=h[x];Be=M,Tf(M,f)}Mf(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)Qr(f),f=f.sibling}function Qr(f){switch(f.tag){case 0:case 11:case 15:Wl(f),f.flags&2048&&Yo(9,f,f.return);break;case 3:Wl(f);break;case 12:Wl(f);break;case 22:var h=f.stateNode;f.memoizedState!==null&&h._visibility&4&&(f.return===null||f.return.tag!==13)?(h._visibility&=-5,Ef(f)):Wl(f);break;default:Wl(f)}}function Ef(f){var h=f.deletions;if(f.flags&16){if(h!==null)for(var x=0;x<h.length;x++){var M=h[x];Be=M,Tf(M,f)}Mf(f)}for(f=f.child;f!==null;){switch(h=f,h.tag){case 0:case 11:case 15:Yo(8,h,h.return),Ef(h);break;case 22:x=h.stateNode,x._visibility&4&&(x._visibility&=-5,Ef(h));break;default:Ef(h)}f=f.sibling}}function Tf(f,h){for(;Be!==null;){var x=Be;switch(x.tag){case 0:case 11:case 15:Yo(8,x,h);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var M=x.memoizedState.cachePool.pool;M!=null&&M.refCount++}break;case 24:xf(x.memoizedState.cache)}if(M=x.child,M!==null)M.return=x,Be=M;else t:for(x=f;Be!==null;){M=Be;var w=M.sibling,L=M.return;if(gd(M),M===x){Be=null;break t}if(w!==null){w.return=L,Be=w;break t}Be=L}}}function qo(f){var h=Cd(f);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(s(364));return h}if(f=_y(f),f===null)throw Error(s(362));return f.stateNode.current}function Ad(f,h){var x=f.tag;switch(h.$$typeof){case Zn:if(f.type===h.value)return!0;break;case or:t:{for(h=h.value,f=[f,0],x=0;x<f.length;){var M=f[x++],w=M.tag,L=f[x++],j=h[L];if(w!==5&&w!==26&&w!==27||!Sr(M)){for(;j!=null&&Ad(M,j);)L++,j=h[L];if(L===h.length){h=!0;break t}else for(M=M.child;M!==null;)f.push(M,L),M=M.sibling}}h=!1}return h;case wr:if((x===5||x===26||x===27)&&by(f.stateNode,h.value))return!0;break;case Os:if((x===5||x===6||x===26||x===27)&&(f=Sy(f),f!==null&&0<=f.indexOf(h.value)))return!0;break;case vu:if((x===5||x===26||x===27)&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function ks(f){switch(f.$$typeof){case Zn:return"<"+(o(f.value)||"Unknown")+">";case or:return":has("+(ks(f)||"")+")";case wr:return'[role="'+f.value+'"]';case Os:return'"'+f.value+'"';case vu:return'[data-testname="'+f.value+'"]';default:throw Error(s(365))}}function ql(f,h){var x=[];f=[f,0];for(var M=0;M<f.length;){var w=f[M++],L=w.tag,j=f[M++],nt=h[j];if(L!==5&&L!==26&&L!==27||!Sr(w)){for(;nt!=null&&Ad(w,nt);)j++,nt=h[j];if(j===h.length)x.push(w);else for(w=w.child;w!==null;)f.push(w,j),w=w.sibling}}return x}function Ko(f,h){if(!ou)throw Error(s(363));f=qo(f),f=ql(f,h),h=[],f=Array.from(f);for(var x=0;x<f.length;){var M=f[x++],w=M.tag;if(w===5||w===26||w===27)Sr(M)||h.push(M.stateNode);else for(M=M.child;M!==null;)f.push(M),M=M.sibling}return h}function fs(){if(rn&2&&on!==0)return on&-on;if(Oe.T!==null){var f=Jn;return f!==0?f:ue()}return py()}function Cf(){ga===0&&(ga=!(on&536870912)||An?z():536870912);var f=qs.current;return f!==null&&(f.flags|=32),ga}function Yn(f,h,x){(f===Fn&&Un===2||f.cancelPendingCommit!==null)&&(Jo(f,0),Bs(f,on,ga,!1)),Y(f,x),(!(rn&2)||f!==Fn)&&(f===Fn&&(!(rn&2)&&(Ao|=x),ei===4&&Bs(f,on,ga,!1)),Zt(f))}function ua(f,h,x){if(rn&6)throw Error(s(327));var M=!x&&(h&60)===0&&(h&f.expiredLanes)===0||N(f,h),w=M?ry(f,h):Rf(f,h,!0),L=M;do{if(w===0){Fa&&!M&&Bs(f,h,0,!1);break}else if(w===6)Bs(f,h,0,!Ia);else{if(x=f.current.alternate,L&&!to(x)){w=Rf(f,h,!1),L=!1;continue}if(w===2){if(L=h,f.errorRecoveryDisabledLanes&L)var j=0;else j=f.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){h=j;t:{var nt=f;w=yu;var mt=Xs&&nt.current.memoizedState.isDehydrated;if(mt&&(Jo(nt,j).flags|=256),j=Rf(nt,j,!1),j!==2){if(cc&&!mt){nt.errorRecoveryDisabledLanes|=L,Ao|=L,w=4;break t}L=Ha,Ha=w,L!==null&&$r(L)}w=j}if(L=!1,w!==2)continue}}if(w===1){Jo(f,0),Bs(f,h,0,!0);break}t:{switch(M=f,w){case 0:case 1:throw Error(s(345));case 4:if((h&4194176)===h){Bs(M,h,ga,!Ia);break t}break;case 2:Ha=null;break;case 3:case 5:break;default:throw Error(s(329))}if(M.finishedWork=x,M.finishedLanes=h,(h&62914560)===h&&(L=Eg+300-da(),10<L)){if(Bs(M,h,ga,!Ia),U(M,0)!==0)break t;M.timeoutHandle=Td(vr.bind(null,M,x,Ha,uc,Xd,h,ga,Ao,Di,Ia,2,-0,0),L);break t}vr(M,x,Ha,uc,Xd,h,ga,Ao,Di,Ia,0,-0,0)}}break}while(!0);Zt(f)}function $r(f){Ha===null?Ha=f:Ha.push.apply(Ha,f)}function vr(f,h,x,M,w,L,j,nt,mt,Nt,Kt,le,Wt){var ke=h.subtreeFlags;if((ke&8192||(ke&16785408)===16785408)&&(cS(),bf(h),h=vy(),h!==null)){f.cancelPendingCommit=h(_d.bind(null,f,x,M,w,j,nt,mt,1,le,Wt)),Bs(f,L,j,!Nt);return}_d(f,x,M,w,j,nt,mt,Kt,le,Wt)}function to(f){for(var h=f;;){var x=h.tag;if((x===0||x===11||x===15)&&h.flags&16384&&(x=h.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var M=0;M<x.length;M++){var w=x[M],L=w.getSnapshot;w=w.value;try{if(!Ls(L(),w))return!1}catch{return!1}}if(x=h.child,h.subtreeFlags&16384&&x!==null)x.return=h,h=x;else{if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Bs(f,h,x,M){h&=~Ps,h&=~Ao,f.suspendedLanes|=h,f.pingedLanes&=~h,M&&(f.warmLanes|=h),M=f.expirationTimes;for(var w=h;0<w;){var L=31-pi(w),j=1<<L;M[L]=-1,w&=~j}x!==0&&at(f,x,h)}function Wm(){return rn&6?!0:(W(0),!1)}function wf(){if(Qe!==null){if(Un===0)var f=Qe.return;else f=Qe,Pa=xl=null,Ja(f),rc=null,vs=0,f=Qe;for(;f!==null;)sy(f.alternate,f),f=f.return;Qe=null}}function Jo(f,h){f.finishedWork=null,f.finishedLanes=0;var x=f.timeoutHandle;x!==ru&&(f.timeoutHandle=ru,If(x)),x=f.cancelPendingCommit,x!==null&&(f.cancelPendingCommit=null,x()),wf(),Fn=f,Qe=x=no(f.current,null),on=h,Un=0,Bi=null,Ia=!1,Fa=N(f,h),cc=!1,Di=ga=Ps=Ao=za=ei=0,Ha=yu=null,Xd=!1,h&8&&(h|=h&32);var M=f.entangledLanes;if(M!==0)for(f=f.entanglements,M&=h;0<M;){var w=31-pi(M),L=1<<w;h|=f[w],M&=~L}return lr=h,K(),x}function hs(f,h){Ge=null,Oe.H=yi,h===kf?(h=Le(),Un=3):h===jf?(h=Le(),Un=4):Un=h===bg?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,Bi=h,Qe===null&&(ei=1,Xc(f,vt(h,f.current)))}function Wi(){var f=qs.current;return f===null?!0:(on&4194176)===on?Ua===null:(on&62914560)===on||on&536870912?f===Ua:!1}function xn(){var f=Oe.H;return Oe.H=yi,f===null?yi:f}function Ba(){var f=Oe.A;return Oe.A=xo,f}function Da(){ei=4,Ia||(on&4194176)!==on&&qs.current!==null||(Fa=!0),!(za&134217727)&&!(Ao&134217727)||Fn===null||Bs(Fn,on,ga,!1)}function Rf(f,h,x){var M=rn;rn|=2;var w=xn(),L=Ba();(Fn!==f||on!==h)&&(uc=null,Jo(f,h)),h=!1;var j=ei;t:do try{if(Un!==0&&Qe!==null){var nt=Qe,mt=Bi;switch(Un){case 8:wf(),j=6;break t;case 3:case 2:case 6:qs.current===null&&(h=!0);var Nt=Un;if(Un=0,Bi=null,yr(f,nt,mt,Nt),x&&Fa){j=0;break t}break;default:Nt=Un,Un=0,Bi=null,yr(f,nt,mt,Nt)}}Kl(),j=ei;break}catch(Kt){hs(f,Kt)}while(!0);return h&&f.shellSuspendCounter++,Pa=xl=null,rn=M,Oe.H=w,Oe.A=L,Qe===null&&(Fn=null,on=0,K()),j}function Kl(){for(;Qe!==null;)$c(Qe)}function ry(f,h){var x=rn;rn|=2;var M=xn(),w=Ba();Fn!==f||on!==h?(uc=null,va=da()+500,Jo(f,h)):Fa=N(f,h);t:do try{if(Un!==0&&Qe!==null){h=Qe;var L=Bi;e:switch(Un){case 1:Un=0,Bi=null,yr(f,h,L,1);break;case 2:if(It(L)){Un=0,Bi=null,tu(h);break}h=function(){Un===2&&Fn===f&&(Un=7),Zt(f)},L.then(h,h);break t;case 3:Un=7;break t;case 4:Un=5;break t;case 7:It(L)?(Un=0,Bi=null,tu(h)):(Un=0,Bi=null,yr(f,h,L,7));break;case 5:var j=null;switch(Qe.tag){case 26:j=Qe.memoizedState;case 5:case 27:var nt=Qe,mt=nt.type,Nt=nt.pendingProps;if(j?vg(j):eg(mt,Nt)){Un=0,Bi=null;var Kt=nt.sibling;if(Kt!==null)Qe=Kt;else{var le=nt.return;le!==null?(Qe=le,Zo(le)):Qe=null}break e}}Un=0,Bi=null,yr(f,h,L,5);break;case 6:Un=0,Bi=null,yr(f,h,L,6);break;case 8:wf(),ei=6;break t;default:throw Error(s(462))}}oy();break}catch(Wt){hs(f,Wt)}while(!0);return Pa=xl=null,Oe.H=M,Oe.A=w,rn=x,Qe!==null?0:(Fn=null,on=0,K(),ei)}function oy(){for(;Qe!==null&&!fl();)$c(Qe)}function $c(f){var h=ey(f.alternate,f,lr);f.memoizedProps=f.pendingProps,h===null?Zo(f):Qe=h}function tu(f){var h=f,x=h.alternate;switch(h.tag){case 15:case 0:h=Kv(x,h,h.pendingProps,h.type,void 0,on);break;case 11:h=Kv(x,h,h.pendingProps,h.type.render,h.ref,on);break;case 5:Ja(h);default:sy(x,h),h=Qe=Jl(h,lr),h=ey(x,h,lr)}f.memoizedProps=f.pendingProps,h===null?Zo(f):Qe=h}function yr(f,h,x,M){Pa=xl=null,Ja(h),rc=null,vs=0;var w=h.return;try{if(nS(f,w,h,x,on)){ei=1,Xc(f,vt(x,f.current)),Qe=null;return}}catch(L){if(w!==null)throw Qe=w,L;ei=1,Xc(f,vt(x,f.current)),Qe=null;return}h.flags&32768?(An||M===1?f=!0:Fa||on&536870912?f=!1:(Ia=f=!0,(M===2||M===3||M===6)&&(M=qs.current,M!==null&&M.tag===13&&(M.flags|=16384))),qm(h,f)):Zo(h)}function Zo(f){var h=f;do{if(h.flags&32768){qm(h,Ia);return}f=h.return;var x=iy(h.alternate,h,lr);if(x!==null){Qe=x;return}if(h=h.sibling,h!==null){Qe=h;return}Qe=h=f}while(h!==null);ei===0&&(ei=5)}function qm(f,h){do{var x=sS(f.alternate,f);if(x!==null){x.flags&=32767,Qe=x;return}if(x=f.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!h&&(f=f.sibling,f!==null)){Qe=f;return}Qe=f=x}while(f!==null);ei=6,Qe=null}function _d(f,h,x,M,w,L,j,nt,mt,Nt){var Kt=Oe.T,le=ll();try{Ds(2),Oe.T=null,ly(f,h,x,M,le,w,L,j,nt,mt,Nt)}finally{Oe.T=Kt,Ds(le)}}function ly(f,h,x,M,w,L,j,nt){do Qo();while(_l!==null);if(rn&6)throw Error(s(327));var mt=f.finishedWork;if(M=f.finishedLanes,mt===null)return null;if(f.finishedWork=null,f.finishedLanes=0,mt===f.current)throw Error(s(177));f.callbackNode=null,f.callbackPriority=0,f.cancelPendingCommit=null;var Nt=mt.lanes|mt.childLanes;if(Nt|=sr,dt(f,M,Nt,L,j,nt),f===Fn&&(Qe=Fn=null,on=0),!(mt.subtreeFlags&10256)&&!(mt.flags&10256)||_o||(_o=!0,Yd=Nt,qf=x,cy(uu,function(){return Qo(),null})),x=(mt.flags&15990)!==0,mt.subtreeFlags&15990||x?(x=Oe.T,Oe.T=null,L=ll(),Ds(2),j=rn,rn|=4,km(f,mt),Xm(mt,f),lS(f.containerInfo),f.current=mt,Zc(f,mt.alternate,mt),uo(),rn=j,Ds(L),Oe.T=x):f.current=mt,_o?(_o=!1,_l=f,xu=M):Bf(f,Nt),Nt=f.pendingLanes,Nt===0&&(Br=null),tt(mt.stateNode),Zt(f),h!==null)for(w=f.onRecoverableError,mt=0;mt<h.length;mt++)Nt=h[mt],w(Nt.value,{componentStack:Nt.stack});return xu&3&&Qo(),Nt=f.pendingLanes,M&4194218&&Nt&42?f===Tg?fc++:(fc=0,Tg=f):fc=0,W(0),null}function Bf(f,h){(f.pooledCacheLanes&=h)===0&&(h=f.pooledCache,h!=null&&(f.pooledCache=null,xf(h)))}function Qo(){if(_l!==null){var f=_l,h=Yd;Yd=0;var x=lt(xu),M=32>x?32:x;x=Oe.T;var w=ll();try{if(Ds(M),Oe.T=null,_l===null)var L=!1;else{M=qf,qf=null;var j=_l,nt=xu;if(_l=null,xu=0,rn&6)throw Error(s(331));var mt=rn;if(rn|=4,Qr(j.current),Ra(j,j.current,nt,M),rn=mt,W(0,!1),wi&&typeof wi.onPostCommitFiberRoot=="function")try{wi.onPostCommitFiberRoot(fu,j)}catch{}L=!0}return L}finally{Ds(w),Oe.T=x,Bf(f,h)}}return!1}function eu(f,h,x){h=vt(x,h),h=Wc(f.stateNode,h,2),f=ye(f,h,2),f!==null&&(Y(f,2),Zt(f))}function Rn(f,h,x){if(f.tag===3)eu(f,f,x);else for(;h!==null;){if(h.tag===3){eu(h,f,x);break}else if(h.tag===1){var M=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(Br===null||!Br.has(M))){f=vt(x,f),x=Bm(2),M=ye(h,x,2),M!==null&&(jv(x,M,h,f),Y(M,2),Zt(M));break}}h=h.return}}function $o(f,h,x){var M=f.pingCache;if(M===null){M=f.pingCache=new Wf;var w=new Set;M.set(h,w)}else w=M.get(h),w===void 0&&(w=new Set,M.set(h,w));w.has(x)||(cc=!0,w.add(x),f=Df.bind(null,f,h,x),h.then(f,f))}function Df(f,h,x){var M=f.pingCache;M!==null&&M.delete(h),f.pingedLanes|=f.suspendedLanes&x,f.warmLanes&=~x,Fn===f&&(on&x)===x&&(ei===4||ei===3&&(on&62914560)===on&&300>da()-Eg?!(rn&2)&&Jo(f,0):Ps|=x,Di===on&&(Di=0)),Zt(f)}function Lf(f,h){h===0&&(h=O()),f=Qt(f,h),f!==null&&(Y(f,h),Zt(f))}function Nf(f){var h=f.memoizedState,x=0;h!==null&&(x=h.retryLane),Lf(f,x)}function Sd(f,h){var x=0;switch(f.tag){case 13:var M=f.stateNode,w=f.memoizedState;w!==null&&(x=w.retryLane);break;case 19:M=f.stateNode;break;case 22:M=f.stateNode._retryCache;break;default:throw Error(s(314))}M!==null&&M.delete(h),Lf(f,x)}function cy(f,h){return Mr(f,h)}function uy(f,h,x,M){this.tag=f,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function eo(f){return f=f.prototype,!(!f||!f.isReactComponent)}function no(f,h){var x=f.alternate;return x===null?(x=e(f.tag,h,f.key,f.mode),x.elementType=f.elementType,x.type=f.type,x.stateNode=f.stateNode,x.alternate=f,f.alternate=x):(x.pendingProps=h,x.type=f.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=f.flags&31457280,x.childLanes=f.childLanes,x.lanes=f.lanes,x.child=f.child,x.memoizedProps=f.memoizedProps,x.memoizedState=f.memoizedState,x.updateQueue=f.updateQueue,h=f.dependencies,x.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},x.sibling=f.sibling,x.index=f.index,x.ref=f.ref,x.refCleanup=f.refCleanup,x}function Jl(f,h){f.flags&=31457282;var x=f.alternate;return x===null?(f.childLanes=0,f.lanes=h,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=x.childLanes,f.lanes=x.lanes,f.child=x.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=x.memoizedProps,f.memoizedState=x.memoizedState,f.updateQueue=x.updateQueue,f.type=x.type,h=x.dependencies,f.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),f}function Zl(f,h,x,M,w,L){var j=0;if(M=f,typeof f=="function")eo(f)&&(j=1);else if(typeof f=="string")j=ha&&qi?Ii(f,x,mi.current)?26:Pd(f)?27:5:ha?Ii(f,x,mi.current)?26:5:qi&&Pd(f)?27:5;else t:switch(f){case nl:return tl(x.children,w,L,h);case Ql:j=8,w|=24;break;case il:return f=e(12,x,h,w|2),f.elementType=il,f.lanes=L,f;case ao:return f=e(13,x,h,w),f.elementType=ao,f.lanes=L,f;case Of:return f=e(19,x,h,w),f.elementType=Of,f.lanes=L,f;case oo:return bd(x,w,L,h);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case rS:case sl:j=10;break t;case Zm:j=9;break t;case Md:j=11;break t;case iu:j=14;break t;case ro:j=16,M=null;break t}j=29,x=Error(s(130,f===null?"null":typeof f,"")),M=null}return h=e(j,x,h,w),h.elementType=f,h.type=M,h.lanes=L,h}function tl(f,h,x,M){return f=e(7,f,M,h),f.lanes=x,f}function bd(f,h,x,M){f=e(22,f,M,h),f.elementType=oo,f.lanes=x;var w={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var L=w._current;if(L===null)throw Error(s(456));if(!(w._pendingVisibility&2)){var j=Qt(L,2);j!==null&&(w._pendingVisibility|=2,Yn(j,L,2))}},attach:function(){var L=w._current;if(L===null)throw Error(s(456));if(w._pendingVisibility&2){var j=Qt(L,2);j!==null&&(w._pendingVisibility&=-3,Yn(j,L,2))}}};return f.stateNode=w,f}function Uf(f,h,x){return f=e(6,f,null,h),f.lanes=x,f}function js(f,h,x){return h=e(4,f.children!==null?f.children:[],f.key,h),h.lanes=x,h.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},h}function xr(f,h,x,M,w,L,j,nt){this.tag=1,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ru,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=I(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=I(0),this.hiddenUpdates=I(null),this.identifierPrefix=M,this.onUncaughtError=w,this.onCaughtError=L,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=nt,this.incompleteTransitions=new Map}function io(f,h,x,M,w,L,j,nt,mt,Nt,Kt,le){return f=new xr(f,h,x,j,nt,mt,Nt,le),h=1,L===!0&&(h|=24),L=e(3,null,null,h),f.current=L,L.stateNode=f,h=Xo(),h.refCount++,f.pooledCache=h,h.refCount++,L.memoizedState={element:M,isDehydrated:x,cache:h},qt(L),f}function Km(f){return f?(f=sc,f):sc}function so(f){var h=f._reactInternals;if(h===void 0)throw typeof f.render=="function"?Error(s(188)):(f=Object.keys(f).join(","),Error(s(268,f)));return f=A(h),f=f!==null?b(f):null,f===null?null:$l(f.stateNode)}function Ar(f,h,x,M,w,L){w=Km(w),M.context===null?M.context=w:M.pendingContext=w,M=xe(h),M.payload={element:x},L=L===void 0?null:L,L!==null&&(M.callback=L),x=ye(f,M,h),x!==null&&(Yn(x,f,h),pe(x,f,h))}function Ti(f,h){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var x=f.retryLane;f.retryLane=x!==0&&x<h?x:h}}function nu(f,h){Ti(f,h),(f=f.alternate)&&Ti(f,h)}var an={},aS=cm(),fa=QE(),hi=Object.assign,Jm=Symbol.for("react.element"),el=Symbol.for("react.transitional.element"),_r=Symbol.for("react.portal"),nl=Symbol.for("react.fragment"),Ql=Symbol.for("react.strict_mode"),il=Symbol.for("react.profiler"),rS=Symbol.for("react.provider"),Zm=Symbol.for("react.consumer"),sl=Symbol.for("react.context"),Md=Symbol.for("react.forward_ref"),ao=Symbol.for("react.suspense"),Of=Symbol.for("react.suspense_list"),iu=Symbol.for("react.memo"),ro=Symbol.for("react.lazy"),oo=Symbol.for("react.offscreen"),Ze=Symbol.for("react.memo_cache_sentinel"),Nn=Symbol.iterator,Ci=Symbol.for("react.client.reference"),Oe=aS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,al,rl,su=!1,ol=Array.isArray,au=t.rendererVersion,oS=t.rendererPackageName,oi=t.extraDevToolsConfig,$l=t.getPublicInstance,Qm=t.getRootHostContext,fy=t.getChildHostContext,hy=t.prepareForCommit,lS=t.resetAfterCommit,$m=t.createInstance,Pf=t.appendInitialChild,Ed=t.finalizeInitialChildren,ns=t.shouldSetTextContent,di=t.createTextInstance,Td=t.scheduleTimeout,If=t.cancelTimeout,ru=t.noTimeout,$a=t.isPrimaryRenderer;t.warnsIfNotActing;var $n=t.supportsMutation,tr=t.supportsPersistence,Xs=t.supportsHydration,Cd=t.getInstanceFromNode;t.beforeActiveInstanceBlur,t.afterActiveInstanceBlur;var dy=t.preparePortalMount;t.prepareScopeUpdate,t.getInstanceFromScope;var Ds=t.setCurrentUpdatePriority,ll=t.getCurrentUpdatePriority,py=t.resolveUpdatePriority;t.resolveEventType,t.resolveEventTimeStamp;var my=t.shouldAttemptEagerTransition,gy=t.detachDeletedInstance;t.requestPostPaintCallback;var tg=t.maySuspendCommit,eg=t.preloadInstance,cS=t.startSuspendingCommit,ng=t.suspendInstance,vy=t.waitForCommitToBeReady,tc=t.NotPendingTransition,lo=t.HostTransitionContext,yy=t.resetFormInstance;t.bindToConsole;var xy=t.supportsMicrotasks,Ay=t.scheduleMicrotask,ou=t.supportsTestSelectors,_y=t.findFiberRoot,uS=t.getBoundingRect,Sy=t.getTextContent,Sr=t.isHiddenSubtree,by=t.matchAccessibilityRole,wd=t.setFocusIfFocusable,Rd=t.setupIntersectionObserver,My=t.appendChild,ig=t.appendChildToContainer,Ey=t.commitTextUpdate,Ty=t.commitMount,Cy=t.commitUpdate,wy=t.insertBefore,sg=t.insertInContainerBefore,Ry=t.removeChild,By=t.removeChildFromContainer,Bd=t.resetTextContent,Dy=t.hideInstance,Ly=t.hideTextInstance,fS=t.unhideInstance,ag=t.unhideTextInstance,Ny=t.clearContainer,Uy=t.cloneInstance,Dd=t.createContainerChildSet,rg=t.appendChildToContainerChildSet,Oy=t.finalizeContainerChildren,Py=t.replaceContainerChildren,Iy=t.cloneHiddenInstance,og=t.cloneHiddenTextInstance,ec=t.isSuspenseInstancePending,Ff=t.isSuspenseInstanceFallback,Ld=t.getSuspenseInstanceFallbackErrorDetails,Fy=t.registerSuspenseInstanceRetry,zy=t.canHydrateFormStateMarker,br=t.isFormStateMarkerMatching,cl=t.getNextHydratableSibling,co=t.getFirstHydratableChild,nc=t.getFirstHydratableChildWithinContainer,lg=t.getFirstHydratableChildWithinSuspenseInstance,cg=t.canHydrateInstance,Hy=t.canHydrateTextInstance,Gy=t.canHydrateSuspenseInstance,ic=t.hydrateInstance,Nd=t.hydrateTextInstance,Vy=t.hydrateSuspenseInstance,ky=t.getNextHydratableInstanceAfterSuspenseInstance,jy=t.commitHydratedContainer,Ud=t.commitHydratedSuspenseInstance,Xy=t.clearSuspenseBoundary,ug=t.clearSuspenseBoundaryFromContainer,fg=t.shouldDeleteUnhydratedTailInstances;t.diffHydratedPropsForDevWarnings,t.diffHydratedTextForDevWarnings,t.describeHydratableInstanceForDevWarnings;var Yy=t.validateHydratableInstance,hS=t.validateHydratableTextInstance,ha=t.supportsResources,Ii=t.isHostHoistableType,Fi=t.getHoistableRoot,hg=t.getResource,dg=t.acquireResource,pg=t.releaseResource,Wy=t.hydrateHoistable,mg=t.mountHoistable,lu=t.unmountHoistable,gg=t.createHoistableInstance,qy=t.prepareToCommitHoistables,Ky=t.mayResourceSuspendCommit,vg=t.preloadResource,yg=t.suspendResource,qi=t.supportsSingletons,Od=t.resolveSingletonInstance,Jy=t.clearSingleton,xg=t.acquireSingletonInstance,Ag=t.releaseSingletonInstance,Pd=t.isHostSingletonType,Id=[],ul=-1,sc={},pi=Math.clz32?Math.clz32:B,_g=Math.log,dS=Math.LN2,zf=128,cu=4194304,Mr=fa.unstable_scheduleCallback,er=fa.unstable_cancelCallback,fl=fa.unstable_shouldYield,uo=fa.unstable_requestPaint,da=fa.unstable_now,Fd=fa.unstable_ImmediatePriority,Hf=fa.unstable_UserBlockingPriority,uu=fa.unstable_NormalPriority,ac=fa.unstable_IdlePriority,ds=fa.log,zd=fa.unstable_setDisableYieldValue,fu=null,wi=null,Ls=typeof Object.is=="function"?Object.is:Z,Hd=new WeakMap,pa=[],ma=0,hl=null,hu=0,Ys=[],ps=0,nr=null,Er=1,Tr="",mi=E(null),La=E(null),fo=E(null),Gf=E(null),gi=null,Pn=null,An=!1,Na=null,ir=!1,Vf=Error(s(519)),Ws=[],ho=0,sr=0,Kn=null,dl=null,Gd=!1,vi=!1,Vd=!1,du=0,pu=null,kd=0,Jn=0,Ki=null,ms=!1,jd=!1,Zy=Object.prototype.hasOwnProperty,kf=Error(s(460)),jf=Error(s(474)),Ns={then:function(){}},gs=null,rc=null,vs=0,pl=ls(!0),Cr=ls(!1),ar=E(null),rr=E(0),qs=E(null),Ua=null,Wn=E(0),po=0,Ge=null,Mn=null,ti=null,mo=!1,oc=!1,ml=!1,gl=0,mu=0,go=null,Qy=0,Sg=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},yi={readContext:ts,use:gt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je};yi.useCacheRefresh=Je,yi.useMemoCache=Je,yi.useHostTransitionStatus=Je,yi.useFormState=Je,yi.useActionState=Je,yi.useOptimistic=Je;var vo={readContext:ts,use:gt,useCallback:function(f,h){return V().memoizedState=[f,h===void 0?null:h],f},useContext:ts,useEffect:Tm,useImperativeHandle:function(f,h,x){x=x!=null?x.concat([f]):null,id(4194308,4,cf.bind(null,h,f),x)},useLayoutEffect:function(f,h){return id(4194308,4,f,h)},useInsertionEffect:function(f,h){id(4,2,f,h)},useMemo:function(f,h){var x=V();h=h===void 0?null:h;var M=f();if(ml){et(!0);try{f()}finally{et(!1)}}return x.memoizedState=[M,h],M},useReducer:function(f,h,x){var M=V();if(x!==void 0){var w=x(h);if(ml){et(!0);try{x(h)}finally{et(!1)}}}else w=h;return M.memoizedState=M.baseState=w,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:w},M.queue=f,f=f.dispatch=od.bind(null,Ge,f),[M.memoizedState,f]},useRef:function(f){var h=V();return f={current:f},h.memoizedState=f},useState:function(f){f=vn(f);var h=f.queue,x=Rm.bind(null,Ge,h);return h.dispatch=x,[f.memoizedState,x]},useDebugValue:uf,useDeferredValue:function(f,h){var x=V();return ad(x,f,h)},useTransition:function(){var f=vn(!1);return f=Cm.bind(null,Ge,f.queue,!0,!1),V().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,h,x){var M=Ge,w=V();if(An){if(x===void 0)throw Error(s(407));x=x()}else{if(x=h(),Fn===null)throw Error(s(349));on&60||Ue(M,h,x)}w.memoizedState=x;var L={value:x,getSnapshot:h};return w.queue=L,Tm(ln.bind(null,M,L,f),[f]),M.flags|=2048,Za(9,Te.bind(null,M,L,x,h),{destroy:void 0},null),x},useId:function(){var f=V(),h=Fn.identifierPrefix;if(An){var x=Tr,M=Er;x=(M&~(1<<32-pi(M)-1)).toString(32)+x,h=":"+h+"R"+x,x=gl++,0<x&&(h+="H"+x.toString(32)),h+=":"}else x=Qy++,h=":"+h+"r"+x.toString(32)+":";return f.memoizedState=h},useCacheRefresh:function(){return V().memoizedState=wm.bind(null,Ge)}};vo.useMemoCache=ft,vo.useHostTransitionStatus=ff,vo.useFormState=Ln,vo.useActionState=Ln,vo.useOptimistic=function(f){var h=V();h.memoizedState=h.baseState=f;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=x,h=Vc.bind(null,Ge,!0,x),x.dispatch=h,[f,h]};var Us={readContext:ts,use:gt,useCallback:Gl,useContext:ts,useEffect:lf,useImperativeHandle:sd,useInsertionEffect:Gv,useLayoutEffect:Vv,useMemo:Vl,useReducer:$t,useRef:ws,useState:function(){return $t(kt)},useDebugValue:uf,useDeferredValue:function(f,h){var x=rt();return rd(x,Mn.memoizedState,f,h)},useTransition:function(){var f=$t(kt)[0],h=rt().memoizedState;return[typeof f=="boolean"?f:At(f),h]},useSyncExternalStore:Ne,useId:Gc};Us.useCacheRefresh=jr,Us.useMemoCache=ft,Us.useHostTransitionStatus=ff,Us.useFormState=us,Us.useActionState=us,Us.useOptimistic=function(f,h){var x=rt();return ze(x,Mn,f,h)};var vl={readContext:ts,use:gt,useCallback:Gl,useContext:ts,useEffect:lf,useImperativeHandle:sd,useInsertionEffect:Gv,useLayoutEffect:Vv,useMemo:Vl,useReducer:re,useRef:ws,useState:function(){return re(kt)},useDebugValue:uf,useDeferredValue:function(f,h){var x=rt();return Mn===null?ad(x,f,h):rd(x,Mn.memoizedState,f,h)},useTransition:function(){var f=re(kt)[0],h=rt().memoizedState;return[typeof f=="boolean"?f:At(f),h]},useSyncExternalStore:Ne,useId:Gc};vl.useCacheRefresh=jr,vl.useMemoCache=ft,vl.useHostTransitionStatus=ff,vl.useFormState=Yi,vl.useActionState=Yi,vl.useOptimistic=function(f,h){var x=rt();return Mn!==null?ze(x,Mn,f,h):(x.baseState=f,[f,x.queue.dispatch])};var gu={isMounted:function(f){return(f=f._reactInternals)?g(f)===f:!1},enqueueSetState:function(f,h,x){f=f._reactInternals;var M=fs(),w=xe(M);w.payload=h,x!=null&&(w.callback=x),h=ye(f,w,M),h!==null&&(Yn(h,f,M),pe(h,f,M))},enqueueReplaceState:function(f,h,x){f=f._reactInternals;var M=fs(),w=xe(M);w.tag=1,w.payload=h,x!=null&&(w.callback=x),h=ye(f,w,M),h!==null&&(Yn(h,f,M),pe(h,f,M))},enqueueForceUpdate:function(f,h){f=f._reactInternals;var x=fs(),M=xe(x);M.tag=2,h!=null&&(M.callback=h),h=ye(f,M,x),h!==null&&(Yn(h,f,x),pe(h,f,x))}},yl=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)},bg=Error(s(461)),Ri=!1,Xf={dehydrated:null,treeContext:null,retryLane:0},Oa=E(null),xl=null,Pa=null,Yf=typeof AbortController<"u"?AbortController:function(){var f=[],h=this.signal={aborted:!1,addEventListener:function(x,M){f.push(M)}};this.abort=function(){h.aborted=!0,f.forEach(function(x){return x()})}},ii=fa.unstable_scheduleCallback,pS=fa.unstable_NormalPriority,li={$$typeof:sl,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Mg=Oe.S;Oe.S=function(f,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&ee(f,h),Mg!==null&&Mg(f,h)};var lc=E(null),yo=!1,Ve=!1,In=!1,en=typeof WeakSet=="function"?WeakSet:Set,Be=null,Vn=!1,En=null,xi=!1,ys=null,Al=8192,xo={getCacheForType:function(f){var h=ts(li),x=h.data.get(f);return x===void 0&&(x=f(),h.data.set(f,x)),x}},Zn=0,or=1,wr=2,vu=3,Os=4;if(typeof Symbol=="function"&&Symbol.for){var Rr=Symbol.for;Zn=Rr("selector.component"),or=Rr("selector.has_pseudo_class"),wr=Rr("selector.role"),vu=Rr("selector.test_id"),Os=Rr("selector.text")}var Wf=typeof WeakMap=="function"?WeakMap:Map,rn=0,Fn=null,Qe=null,on=0,Un=0,Bi=null,Ia=!1,Fa=!1,cc=!1,lr=0,ei=0,za=0,Ao=0,Ps=0,ga=0,Di=0,yu=null,Ha=null,Xd=!1,Eg=0,va=1/0,uc=null,Br=null,_o=!1,_l=null,xu=0,Yd=0,qf=null,fc=0,Tg=null;return an.attemptContinuousHydration=function(f){if(f.tag===13){var h=Qt(f,67108864);h!==null&&Yn(h,f,67108864),nu(f,67108864)}},an.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var h=fs(),x=Qt(f,h);x!==null&&Yn(x,f,h),nu(f,h)}},an.attemptSynchronousHydration=function(f){switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var h=D(f.pendingLanes);if(h!==0){for(f.pendingLanes|=2,f.entangledLanes|=2;h;){var x=1<<31-pi(h);f.entanglements[1]|=x,h&=~x}Zt(f),!(rn&6)&&(va=da()+500,W(0))}}break;case 13:h=Qt(f,2),h!==null&&Yn(h,f,2),Wm(),nu(f,2)}},an.batchedUpdates=function(f,h){return f(h)},an.createComponentSelector=function(f){return{$$typeof:Zn,value:f}},an.createContainer=function(f,h,x,M,w,L,j,nt,mt,Nt){return io(f,h,!1,null,x,M,L,j,nt,mt,Nt,null)},an.createHasPseudoClassSelector=function(f){return{$$typeof:or,value:f}},an.createHydrationContainer=function(f,h,x,M,w,L,j,nt,mt,Nt,Kt,le,Wt){return f=io(x,M,!0,f,w,L,nt,mt,Nt,Kt,le,Wt),f.context=Km(null),x=f.current,M=fs(),w=xe(M),w.callback=h??null,ye(x,w,M),f.current.lanes=M,Y(f,M),Zt(f),f},an.createPortal=function(f,h,x){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_r,key:M==null?null:""+M,children:f,containerInfo:h,implementation:x}},an.createRoleSelector=function(f){return{$$typeof:wr,value:f}},an.createTestNameSelector=function(f){return{$$typeof:vu,value:f}},an.createTextSelector=function(f){return{$$typeof:Os,value:f}},an.defaultOnCaughtError=function(f){console.error(f)},an.defaultOnRecoverableError=function(f){yl(f)},an.defaultOnUncaughtError=function(f){yl(f)},an.deferredUpdates=function(f){var h=Oe.T,x=ll();try{return Ds(32),Oe.T=null,f()}finally{Ds(x),Oe.T=h}},an.discreteUpdates=function(f,h,x,M,w){var L=Oe.T,j=ll();try{return Ds(2),Oe.T=null,f(h,x,M,w)}finally{Ds(j),Oe.T=L,rn===0&&(va=da()+500)}},an.findAllNodes=Ko,an.findBoundingRects=function(f,h){if(!ou)throw Error(s(363));h=Ko(f,h),f=[];for(var x=0;x<h.length;x++)f.push(uS(h[x]));for(h=f.length-1;0<h;h--){x=f[h];for(var M=x.x,w=M+x.width,L=x.y,j=L+x.height,nt=h-1;0<=nt;nt--)if(h!==nt){var mt=f[nt],Nt=mt.x,Kt=Nt+mt.width,le=mt.y,Wt=le+mt.height;if(M>=Nt&&L>=le&&w<=Kt&&j<=Wt){f.splice(h,1);break}else if(M!==Nt||x.width!==mt.width||Wt<L||le>j){if(!(L!==le||x.height!==mt.height||Kt<M||Nt>w)){Nt>M&&(mt.width+=Nt-M,mt.x=M),Kt<w&&(mt.width=w-Nt),f.splice(h,1);break}}else{le>L&&(mt.height+=le-L,mt.y=L),Wt<j&&(mt.height=j-le),f.splice(h,1);break}}}return f},an.findHostInstance=so,an.findHostInstanceWithNoPortals=function(f){return f=A(f),f=f!==null?T(f):null,f===null?null:$l(f.stateNode)},an.findHostInstanceWithWarning=function(f){return so(f)},an.flushPassiveEffects=Qo,an.flushSyncFromReconciler=function(f){var h=rn;rn|=1;var x=Oe.T,M=ll();try{if(Ds(2),Oe.T=null,f)return f()}finally{Ds(M),Oe.T=x,rn=h,!(rn&6)&&W(0)}},an.flushSyncWork=Wm,an.focusWithin=function(f,h){if(!ou)throw Error(s(363));for(f=qo(f),h=ql(f,h),h=Array.from(h),f=0;f<h.length;){var x=h[f++],M=x.tag;if(!Sr(x)){if((M===5||M===26||M===27)&&wd(x.stateNode))return!0;for(x=x.child;x!==null;)h.push(x),x=x.sibling}}return!1},an.getFindAllNodesFailureDescription=function(f,h){if(!ou)throw Error(s(363));var x=0,M=[];f=[qo(f),0];for(var w=0;w<f.length;){var L=f[w++],j=L.tag,nt=f[w++],mt=h[nt];if((j!==5&&j!==26&&j!==27||!Sr(L))&&(Ad(L,mt)&&(M.push(ks(mt)),nt++,nt>x&&(x=nt)),nt<h.length))for(L=L.child;L!==null;)f.push(L,nt),L=L.sibling}if(x<h.length){for(f=[];x<h.length;x++)f.push(ks(h[x]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},an.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 27:case 5:return $l(f.child.stateNode);default:return f.child.stateNode}},an.injectIntoDevTools=function(){var f={bundleType:0,version:au,rendererPackageName:oS,currentDispatcherRef:Oe,findFiberByHostInstance:Cd,reconcilerVersion:"19.0.0"};if(oi!==null&&(f.rendererConfig=oi),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)f=!0;else{try{fu=h.inject(f),wi=h}catch{}f=!!h.checkDCE}}return f},an.isAlreadyRendering=function(){return!1},an.observeVisibleRects=function(f,h,x,M){if(!ou)throw Error(s(363));f=Ko(f,h);var w=Rd(f,x,M).disconnect;return{disconnect:function(){w()}}},an.shouldError=function(){return null},an.shouldSuspend=function(){return!1},an.startHostTransition=function(f,h,x,M){if(f.tag!==5)throw Error(s(476));var w=Hc(f).queue;Cm(f,w,h,tc,x===null?i:function(){var L=Hc(f).next.queue;return Go(f,L,{},fs()),x(M)})},an.updateContainer=function(f,h,x,M){var w=h.current,L=fs();return Ar(w,L,f,h,x,M),L},an.updateContainerSync=function(f,h,x,M){return h.tag===0&&Qo(),Ar(h.current,2,f,h,x,M),2},an},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})}(Jb)),Jb.exports}var S3;function _q(){return S3||(S3=1,Kb.exports=Aq()),Kb.exports}var Sq=_q();const bq=hv(Sq);var b3=QE();const Mq=n=>typeof n=="object"&&typeof n.then=="function",Th=[];function a4(n,t,e=(i,s)=>i===s){if(n===t)return!0;if(!n||!t)return!1;const i=n.length;if(t.length!==i)return!1;for(let s=0;s<i;s++)if(!e(n[s],t[s]))return!1;return!0}function r4(n,t=null,e=!1,i={}){t===null&&(t=[n]);for(const a of Th)if(a4(t,a.keys,a.equal)){if(e)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return i.lifespan&&i.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,i.lifespan)),a.response;if(!e)throw a.promise}const s={keys:t,equal:i.equal,remove:()=>{const a=Th.indexOf(s);a!==-1&&Th.splice(a,1)},promise:(Mq(n)?n:n(...t)).then(a=>{s.response=a,i.lifespan&&i.lifespan>0&&(s.timeout=setTimeout(s.remove,i.lifespan))}).catch(a=>s.error=a)};if(Th.push(s),!e)throw s.promise}const Eq=(n,t,e)=>r4(n,t,!1,e),Tq=(n,t,e)=>void r4(n,t,!0,e),Cq=n=>{if(n===void 0||n.length===0)Th.splice(0,Th.length);else{const t=Th.find(e=>a4(n,e.keys,e.equal));t&&t.remove()}};function CC(n,t,e){if(!n)return;if(e(n)===!0)return n;let i=t?n.return:n.child;for(;i;){const s=CC(i,t,e);if(s)return s;i=t?null:i.sibling}}function o4(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const wC=o4(J.createContext(null));let l4=class extends J.Component{render(){return J.createElement(wC.Provider,{value:this._reactInternals},this.props.children)}};function c4(){const n=J.useContext(wC);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=J.useId();return J.useMemo(()=>{for(const e of[n,n==null?void 0:n.alternate]){if(!e)continue;const i=CC(e,!1,s=>{let a=s.memoizedState;for(;a;){if(a.memoizedState===t)return!0;a=a.next}});if(i)return i}},[n,t])}const wq=Symbol.for("react.context"),Rq=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===wq;function Bq(){const n=c4(),[t]=J.useState(()=>new Map);t.clear();let e=n;for(;e;){const i=e.type;Rq(i)&&i!==wC&&!t.has(i)&&t.set(i,J.use(o4(i))),e=e.return}return t}function Dq(){const n=Bq();return J.useMemo(()=>Array.from(n.keys()).reduce((t,e)=>i=>J.createElement(t,null,J.createElement(e.Provider,{...i,value:n.get(e)})),t=>J.createElement(l4,{...t})),[n])}function u4(n){let t=n.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}const f4=n=>n&&n.isOrthographicCamera,Lq=n=>n&&n.hasOwnProperty("current"),Nq=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),Dv=((n,t)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((t=window.navigator)==null?void 0:t.product)==="ReactNative"))()?J.useLayoutEffect:J.useEffect;function h4(n){const t=J.useRef(n);return Dv(()=>void(t.current=n),[n]),t}function Uq(){const n=c4(),t=Dq();return J.useMemo(()=>({children:e})=>{const s=!!CC(n,!0,a=>a.type===J.StrictMode)?J.StrictMode:J.Fragment;return G.jsx(s,{children:G.jsx(t,{children:e})})},[n,t])}function Oq({set:n}){return Dv(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const Pq=(n=>(n=class extends J.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function d4(n){var t;const e=typeof window<"u"?(t=window.devicePixelRatio)!=null?t:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],e),n[1]):n}function mp(n){var t;return(t=n.__r3f)==null?void 0:t.root.getState()}const ci={obj:n=>n===Object(n)&&!ci.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,t,{arrays:e="shallow",objects:i="reference",strict:s=!0}={}){if(typeof n!=typeof t||!!n!=!!t)return!1;if(ci.str(n)||ci.num(n)||ci.boo(n))return n===t;const a=ci.obj(n);if(a&&i==="reference")return n===t;const o=ci.arr(n);if(o&&e==="reference")return n===t;if((o||a)&&n===t)return!0;let c;for(c in n)if(!(c in t))return!1;if(a&&e==="shallow"&&i==="shallow"){for(c in s?t:n)if(!ci.equ(n[c],t[c],{strict:s,objects:"reference"}))return!1}else for(c in s?t:n)if(n[c]!==t[c])return!1;if(ci.und(c)){if(o&&n.length===0&&t.length===0||a&&Object.keys(n).length===0&&Object.keys(t).length===0)return!0;if(n!==t)return!1}return!0}};function Iq(n){const t={nodes:{},materials:{}};return n&&n.traverse(e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)}),t}function Fq(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const t in n){const e=n[t];(e==null?void 0:e.type)!=="Scene"&&(e==null||e.dispose==null||e.dispose())}}const p4=["children","key","ref"];function zq(n){const t={};for(const e in n)p4.includes(e)||(t[e]=n[e]);return t}function FA(n,t,e,i){const s=n;let a=s==null?void 0:s.__r3f;return a||(a={root:t,type:e,parent:null,children:[],props:zq(i),object:s,eventCount:0,handlers:{},isHidden:!1},s&&(s.__r3f=a)),a}function sv(n,t){var e;let i=n[t];if(!t.includes("-"))return{root:n,key:t,target:i};const s=t.split("-");return i=s.reduce((a,o)=>a[o],n),t=s.pop(),(e=i)!=null&&e.set||(n=s.reduce((a,o)=>a[o],n)),{root:n,key:t,target:i}}const M3=/-\d+$/;function zA(n,t){if(ci.str(t.props.attach)){if(M3.test(t.props.attach)){const s=t.props.attach.replace(M3,""),{root:a,key:o}=sv(n.object,s);Array.isArray(a[o])||(a[o]=[])}const{root:e,key:i}=sv(n.object,t.props.attach);t.previousAttach=e[i],e[i]=t.object}else ci.fun(t.props.attach)&&(t.previousAttach=t.props.attach(n.object,t.object))}function HA(n,t){if(ci.str(t.props.attach)){const{root:e,key:i}=sv(n.object,t.props.attach),s=t.previousAttach;s===void 0?delete e[i]:e[i]=s}else t.previousAttach==null||t.previousAttach(n.object,t.object);delete t.previousAttach}const dE=[...p4,"args","dispose","attach","object","onUpdate","dispose"],E3=new Map;function Hq(n){let t=E3.get(n.constructor);try{t||(t=new n.constructor,E3.set(n.constructor,t))}catch{}return t}function Gq(n,t){const e={};for(const i in t)if(!dE.includes(i)&&!ci.equ(t[i],n.props[i])){e[i]=t[i];for(const s in t)s.startsWith(`${i}-`)&&(e[s]=t[s])}for(const i in n.props){if(dE.includes(i)||t.hasOwnProperty(i))continue;const{root:s,key:a}=sv(n.object,i);if(s.constructor&&s.constructor.length===0){const o=Hq(s);ci.und(o)||(e[a]=o[a])}else e[a]=0}return e}const Vq=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],kq=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function ku(n,t){var e;const i=n.__r3f,s=i&&u4(i).getState(),a=i==null?void 0:i.eventCount;for(const c in t){let u=t[c];if(dE.includes(c))continue;if(i&&kq.test(c)){typeof u=="function"?i.handlers[c]=u:delete i.handlers[c],i.eventCount=Object.keys(i.handlers).length;continue}if(u===void 0)continue;let{root:d,key:m,target:g}=sv(n,c);if(g instanceof Qp&&u instanceof Qp)g.mask=u.mask;else if(g instanceof ie&&Nq(u))g.set(u);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof g.copy=="function"&&u!=null&&u.constructor&&g.constructor===u.constructor)g.copy(u);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&Array.isArray(u))typeof g.fromArray=="function"?g.fromArray(u):g.set(...u);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof u=="number")typeof g.setScalar=="function"?g.setScalar(u):g.set(u);else{var o;d[m]=u,s&&!s.linear&&Vq.includes(m)&&(o=d[m])!=null&&o.isTexture&&d[m].format===na&&d[m].type===Uo&&(d[m].colorSpace=ea)}}if(i!=null&&i.parent&&s!=null&&s.internal&&(e=i.object)!=null&&e.isObject3D&&a!==i.eventCount){const c=i.object,u=s.internal.interaction.indexOf(c);u>-1&&s.internal.interaction.splice(u,1),i.eventCount&&c.raycast!==null&&s.internal.interaction.push(c)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&xm(i),n}function xm(n){var t;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const e=(t=n.root)==null||t.getState==null?void 0:t.getState();e&&e.internal.frames===0&&e.invalidate()}function jq(n,t){n.manual||(f4(n)?(n.left=t.width/-2,n.right=t.width/2,n.top=t.height/2,n.bottom=t.height/-2):n.aspect=t.width/t.height,n.updateProjectionMatrix())}const _a=n=>n==null?void 0:n.isObject3D;function hx(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function m4(n,t,e,i){const s=e.get(t);s&&(e.delete(t),e.size===0&&(n.delete(i),s.target.releasePointerCapture(i)))}function Xq(n,t){const{internal:e}=n.getState();e.interaction=e.interaction.filter(i=>i!==t),e.initialHits=e.initialHits.filter(i=>i!==t),e.hovered.forEach((i,s)=>{(i.eventObject===t||i.object===t)&&e.hovered.delete(s)}),e.capturedMap.forEach((i,s)=>{m4(e.capturedMap,t,i,s)})}function Yq(n){function t(u){const{internal:d}=n.getState(),m=u.offsetX-d.initialClick[0],g=u.offsetY-d.initialClick[1];return Math.round(Math.sqrt(m*m+g*g))}function e(u){return u.filter(d=>["Move","Over","Enter","Out","Leave"].some(m=>{var g;return(g=d.__r3f)==null?void 0:g.handlers["onPointer"+m]}))}function i(u,d){const m=n.getState(),g=new Set,y=[],A=d?d(m.internal.interaction):m.internal.interaction;for(let S=0;S<A.length;S++){const R=mp(A[S]);R&&(R.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(u,m);function b(S){const R=mp(S);if(!R||!R.events.enabled||R.raycaster.camera===null)return[];if(R.raycaster.camera===void 0){var B;R.events.compute==null||R.events.compute(u,R,(B=R.previousRoot)==null?void 0:B.getState()),R.raycaster.camera===void 0&&(R.raycaster.camera=null)}return R.raycaster.camera?R.raycaster.intersectObject(S,!0):[]}let T=A.flatMap(b).sort((S,R)=>{const B=mp(S.object),D=mp(R.object);return!B||!D?S.distance-R.distance:D.events.priority-B.events.priority||S.distance-R.distance}).filter(S=>{const R=hx(S);return g.has(R)?!1:(g.add(R),!0)});m.events.filter&&(T=m.events.filter(T,m));for(const S of T){let R=S.object;for(;R;){var E;(E=R.__r3f)!=null&&E.eventCount&&y.push({...S,eventObject:R}),R=R.parent}}if("pointerId"in u&&m.internal.capturedMap.has(u.pointerId))for(let S of m.internal.capturedMap.get(u.pointerId).values())g.has(hx(S.intersection))||y.push(S.intersection);return y}function s(u,d,m,g){if(u.length){const y={stopped:!1};for(const A of u){let b=mp(A.object);if(b||A.object.traverseAncestors(T=>{const E=mp(T);if(E)return b=E,!1}),b){const{raycaster:T,pointer:E,camera:S,internal:R}=b,B=new q(E.x,E.y,0).unproject(S),D=O=>{var I,Y;return(I=(Y=R.capturedMap.get(O))==null?void 0:Y.has(A.eventObject))!=null?I:!1},U=O=>{const I={intersection:A,target:d.target};R.capturedMap.has(O)?R.capturedMap.get(O).set(A.eventObject,I):R.capturedMap.set(O,new Map([[A.eventObject,I]])),d.target.setPointerCapture(O)},N=O=>{const I=R.capturedMap.get(O);I&&m4(R.capturedMap,A.eventObject,I,O)};let F={};for(let O in d){let I=d[O];typeof I!="function"&&(F[O]=I)}let z={...A,...F,pointer:E,intersections:u,stopped:y.stopped,delta:m,unprojectedPoint:B,ray:T.ray,camera:S,stopPropagation(){const O="pointerId"in d&&R.capturedMap.get(d.pointerId);if((!O||O.has(A.eventObject))&&(z.stopped=y.stopped=!0,R.hovered.size&&Array.from(R.hovered.values()).find(I=>I.eventObject===A.eventObject))){const I=u.slice(0,u.indexOf(A));a([...I,A])}},target:{hasPointerCapture:D,setPointerCapture:U,releasePointerCapture:N},currentTarget:{hasPointerCapture:D,setPointerCapture:U,releasePointerCapture:N},nativeEvent:d};if(g(z),y.stopped===!0)break}}}return u}function a(u){const{internal:d}=n.getState();for(const m of d.hovered.values())if(!u.length||!u.find(g=>g.object===m.object&&g.index===m.index&&g.instanceId===m.instanceId)){const y=m.eventObject.__r3f;if(d.hovered.delete(hx(m)),y!=null&&y.eventCount){const A=y.handlers,b={...m,intersections:u};A.onPointerOut==null||A.onPointerOut(b),A.onPointerLeave==null||A.onPointerLeave(b)}}}function o(u,d){for(let m=0;m<d.length;m++){const g=d[m].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(u)}}function c(u){switch(u){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return d=>{const{internal:m}=n.getState();"pointerId"in d&&m.capturedMap.has(d.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(d.pointerId)&&(m.capturedMap.delete(d.pointerId),a([]))})}}return function(m){const{onPointerMissed:g,internal:y}=n.getState();y.lastEvent.current=m;const A=u==="onPointerMove",b=u==="onClick"||u==="onContextMenu"||u==="onDoubleClick",E=i(m,A?e:void 0),S=b?t(m):0;u==="onPointerDown"&&(y.initialClick=[m.offsetX,m.offsetY],y.initialHits=E.map(B=>B.eventObject)),b&&!E.length&&S<=2&&(o(m,y.interaction),g&&g(m)),A&&a(E);function R(B){const D=B.eventObject,U=D.__r3f;if(!(U!=null&&U.eventCount))return;const N=U.handlers;if(A){if(N.onPointerOver||N.onPointerEnter||N.onPointerOut||N.onPointerLeave){const F=hx(B),z=y.hovered.get(F);z?z.stopped&&B.stopPropagation():(y.hovered.set(F,B),N.onPointerOver==null||N.onPointerOver(B),N.onPointerEnter==null||N.onPointerEnter(B))}N.onPointerMove==null||N.onPointerMove(B)}else{const F=N[u];F?(!b||y.initialHits.includes(D))&&(o(m,y.interaction.filter(z=>!y.initialHits.includes(z))),F(B)):b&&y.initialHits.includes(D)&&o(m,y.interaction.filter(z=>!y.initialHits.includes(z)))}}s(E,m,S,R)}}return{handlePointer:c}}const T3=n=>!!(n!=null&&n.render),g4=J.createContext(null),Wq=(n,t)=>{const e=xq((c,u)=>{const d=new q,m=new q,g=new q;function y(S=u().camera,R=m,B=u().size){const{width:D,height:U,top:N,left:F}=B,z=D/U;R.isVector3?g.copy(R):g.set(...R);const O=S.getWorldPosition(d).distanceTo(g);if(f4(S))return{width:D/S.zoom,height:U/S.zoom,top:N,left:F,factor:1,distance:O,aspect:z};{const I=S.fov*Math.PI/180,Y=2*Math.tan(I/2)*O,dt=Y*(D/U);return{width:dt,height:Y,top:N,left:F,factor:D/dt,distance:O,aspect:z}}}let A;const b=S=>c(R=>({performance:{...R.performance,current:S}})),T=new Ft;return{set:c,get:u,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(S=1)=>n(u(),S),advance:(S,R)=>t(S,R,u()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new _C,pointer:T,mouse:T,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const S=u();A&&clearTimeout(A),S.performance.current!==S.performance.min&&b(S.performance.min),A=setTimeout(()=>b(u().performance.max),S.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:y},setEvents:S=>c(R=>({...R,events:{...R.events,...S}})),setSize:(S,R,B=0,D=0)=>{const U=u().camera,N={width:S,height:R,top:B,left:D};c(F=>({size:N,viewport:{...F.viewport,...y(U,m,N)}}))},setDpr:S=>c(R=>{const B=d4(S);return{viewport:{...R.viewport,dpr:B,initialDpr:R.viewport.initialDpr||B}}}),setFrameloop:(S="always")=>{const R=u().clock;R.stop(),R.elapsedTime=0,S!=="never"&&(R.start(),R.elapsedTime=0),c(()=>({frameloop:S}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:J.createRef(),active:!1,frames:0,priority:0,subscribe:(S,R,B)=>{const D=u().internal;return D.priority=D.priority+(R>0?1:0),D.subscribers.push({ref:S,priority:R,store:B}),D.subscribers=D.subscribers.sort((U,N)=>U.priority-N.priority),()=>{const U=u().internal;U!=null&&U.subscribers&&(U.priority=U.priority-(R>0?1:0),U.subscribers=U.subscribers.filter(N=>N.ref!==S))}}}}}),i=e.getState();let s=i.size,a=i.viewport.dpr,o=i.camera;return e.subscribe(()=>{const{camera:c,size:u,viewport:d,gl:m,set:g}=e.getState();if(u.width!==s.width||u.height!==s.height||d.dpr!==a){s=u,a=d.dpr,jq(c,u),d.dpr>0&&m.setPixelRatio(d.dpr);const y=typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(u.width,u.height,y)}c!==o&&(o=c,g(y=>({viewport:{...y.viewport,...y.viewport.getCurrentViewport(c)}})))}),e.subscribe(c=>n(c)),e};function v4(){const n=J.useContext(g4);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function qq(n=e=>e,t){return v4()(n,t)}function Lv(n,t=0){const e=v4(),i=e.getState().internal.subscribe,s=h4(n);return Dv(()=>i(s,t,e),[t,i,e]),null}const C3=new WeakMap,Kq=n=>{var t;return typeof n=="function"&&(n==null||(t=n.prototype)==null?void 0:t.constructor)===n};function y4(n,t){return function(e,...i){let s;return Kq(e)?(s=C3.get(e),s||(s=new e,C3.set(e,s))):s=e,n&&n(s),Promise.all(i.map(a=>new Promise((o,c)=>s.load(a,u=>{_a(u==null?void 0:u.scene)&&Object.assign(u,Iq(u.scene)),o(u)},t,u=>c(new Error(`Could not load ${a}: ${u==null?void 0:u.message}`))))))}}function Nv(n,t,e,i){const s=Array.isArray(t)?t:[t],a=Eq(y4(e,i),[n,...s],{equal:ci.equ});return Array.isArray(t)?a:a[0]}Nv.preload=function(n,t,e){const i=Array.isArray(t)?t:[t];return Tq(y4(e),[n,...i])};Nv.clear=function(n,t){const e=Array.isArray(t)?t:[t];return Cq([n,...e])};function Jq(n){const t=bq(n);return t.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:J.version}),t}const x4=0,em={},Zq=/^three(?=[A-Z])/,V_=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let Qq=0;const $q=n=>typeof n=="function";function tK(n){if($q(n)){const t=`${Qq++}`;return em[t]=n,t}else Object.assign(em,n)}function A4(n,t){const e=V_(n),i=em[e];if(n!=="primitive"&&!i)throw new Error(`R3F: ${e} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!t.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(t.args!==void 0&&!Array.isArray(t.args))throw new Error("R3F: The args prop must be an array!")}function eK(n,t,e){var i;return n=V_(n)in em?n:n.replace(Zq,""),A4(n,t),n==="primitive"&&(i=t.object)!=null&&i.__r3f&&delete t.object.__r3f,FA(t.object,e,n,t)}function nK(n){if(!n.isHidden){var t;n.props.attach&&(t=n.parent)!=null&&t.object?HA(n.parent,n):_a(n.object)&&(n.object.visible=!1),n.isHidden=!0,xm(n)}}function _4(n){if(n.isHidden){var t;n.props.attach&&(t=n.parent)!=null&&t.object?zA(n.parent,n):_a(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,xm(n)}}function RC(n,t,e){const i=t.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!t.object){var s,a;const o=em[V_(t.type)];t.object=(s=t.props.object)!=null?s:new o(...(a=t.props.args)!=null?a:[]),t.object.__r3f=t}if(ku(t.object,t.props),t.props.attach)zA(n,t);else if(_a(t.object)&&_a(n.object)){const o=n.object.children.indexOf(e==null?void 0:e.object);e&&o!==-1?(t.object.parent=n.object,n.object.children.splice(o,0,t.object),t.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:t.object})):n.object.add(t.object)}for(const o of t.children)RC(t,o);xm(t)}}function Zb(n,t){t&&(t.parent=n,n.children.push(t),RC(n,t))}function w3(n,t,e){if(!t||!e)return;t.parent=n;const i=n.children.indexOf(e);i!==-1?n.children.splice(i,0,t):n.children.push(t),RC(n,t,e)}function S4(n){if(typeof n.dispose=="function"){const t=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?t():b3.unstable_scheduleCallback(b3.unstable_IdlePriority,t)}}function pE(n,t,e){if(!t)return;t.parent=null;const i=n.children.indexOf(t);i!==-1&&n.children.splice(i,1),t.props.attach?HA(n,t):_a(t.object)&&_a(n.object)&&(n.object.remove(t.object),Xq(u4(t),t.object));const s=t.props.dispose!==null&&e!==!1;for(let a=t.children.length-1;a>=0;a--){const o=t.children[a];pE(t,o,s)}t.children.length=0,delete t.object.__r3f,s&&t.type!=="primitive"&&t.object.type!=="Scene"&&S4(t.object),e===void 0&&xm(t)}function iK(n,t){for(const e of[n,n.alternate])if(e!==null)if(typeof e.ref=="function"){e.refCleanup==null||e.refCleanup();const i=e.ref(t);typeof i=="function"&&(e.refCleanup=i)}else e.ref&&(e.ref.current=t)}const Ux=[];function sK(){for(const[e]of Ux){const i=e.parent;if(i){e.props.attach?HA(i,e):_a(e.object)&&_a(i.object)&&i.object.remove(e.object);for(const s of e.children)s.props.attach?HA(e,s):_a(s.object)&&_a(e.object)&&e.object.remove(s.object)}e.isHidden&&_4(e),e.object.__r3f&&delete e.object.__r3f,e.type!=="primitive"&&S4(e.object)}for(const[e,i,s]of Ux){e.props=i;const a=e.parent;if(a){var n,t;const o=em[V_(e.type)];e.object=(n=e.props.object)!=null?n:new o(...(t=e.props.args)!=null?t:[]),e.object.__r3f=e,iK(s,e.object),ku(e.object,e.props),e.props.attach?zA(a,e):_a(e.object)&&_a(a.object)&&a.object.add(e.object);for(const c of e.children)c.props.attach?zA(e,c):_a(c.object)&&_a(e.object)&&e.object.add(c.object);xm(e)}}Ux.length=0}const Qb=()=>{},R3={};let dx=x4;const aK=0,rK=4,mE=Jq({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:eK,removeChild:pE,appendChild:Zb,appendInitialChild:Zb,insertBefore:w3,appendChildToContainer(n,t){const e=n.getState().scene.__r3f;!t||!e||Zb(e,t)},removeChildFromContainer(n,t){const e=n.getState().scene.__r3f;!t||!e||pE(e,t)},insertInContainerBefore(n,t,e){const i=n.getState().scene.__r3f;!t||!e||!i||w3(i,t,e)},getRootHostContext:()=>R3,getChildHostContext:()=>R3,commitUpdate(n,t,e,i,s){var a,o,c;A4(t,i);let u=!1;if((n.type==="primitive"&&e.object!==i.object||((a=i.args)==null?void 0:a.length)!==((o=e.args)==null?void 0:o.length)||(c=i.args)!=null&&c.some((m,g)=>{var y;return m!==((y=e.args)==null?void 0:y[g])}))&&(u=!0),u)Ux.push([n,{...i},s]);else{const m=Gq(n,i);Object.keys(m).length&&(Object.assign(n.props,m),ku(n.object,m))}(s.sibling===null||(s.flags&rK)===aK)&&sK()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n==null?void 0:n.object,prepareForCommit:()=>null,preparePortalMount:n=>FA(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:nK,unhideInstance:_4,createTextInstance:Qb,hideTextInstance:Qb,unhideTextInstance:Qb,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:J.createContext(null),setCurrentUpdatePriority(n){dx=n},getCurrentUpdatePriority(){return dx},resolveUpdatePriority(){var n;if(dx!==x4)return dx;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Nx.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Nx.ContinuousEventPriority;default:return Nx.DefaultEventPriority}},resetFormInstance(){}}),Wh=new Map,gp={objects:"shallow",strict:!1};function oK(n,t){if(!t&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:e,height:i,top:s,left:a}=n.parentElement.getBoundingClientRect();return{width:e,height:i,top:s,left:a}}else if(!t&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...t}}function lK(n){const t=Wh.get(n),e=t==null?void 0:t.fiber,i=t==null?void 0:t.store;t&&console.warn("R3F.createRoot should only be called once!");const s=typeof reportError=="function"?reportError:console.error,a=i||Wq(yE,D3),o=e||mE.createContainer(a,Nx.ConcurrentRoot,null,!1,null,"",s,s,s,null);t||Wh.set(n,{fiber:o,store:a});let c,u,d=!1,m=null;return{async configure(g={}){let y;m=new Promise(it=>y=it);let{gl:A,size:b,scene:T,events:E,onCreated:S,shadows:R=!1,linear:B=!1,flat:D=!1,legacy:U=!1,orthographic:N=!1,frameloop:F="always",dpr:z=[1,2],performance:O,raycaster:I,camera:Y,onPointerMissed:dt}=g,at=a.getState(),Q=at.gl;if(!at.gl){const it={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},Mt=typeof A=="function"?await A(it):A;T3(Mt)?Q=Mt:Q=new i4({...it,...A}),at.set({gl:Q})}let lt=at.raycaster;lt||at.set({raycaster:lt=new qP});const{params:tt,...et}=I||{};if(ci.equ(et,lt,gp)||ku(lt,{...et}),ci.equ(tt,lt.params,gp)||ku(lt,{params:{...lt.params,...tt}}),!at.camera||at.camera===u&&!ci.equ(u,Y,gp)){u=Y;const it=Y==null?void 0:Y.isCamera,Mt=it?Y:N?new sf(0,0,0,0,.1,1e3):new Vi(75,0,.1,1e3);it||(Mt.position.z=5,Y&&(ku(Mt,Y),Mt.manual||("aspect"in Y||"left"in Y||"right"in Y||"bottom"in Y||"top"in Y)&&(Mt.manual=!0,Mt.updateProjectionMatrix())),!at.camera&&!(Y!=null&&Y.rotation)&&Mt.lookAt(0,0,0)),at.set({camera:Mt}),lt.camera=Mt}if(!at.scene){let it;T!=null&&T.isScene?(it=T,FA(it,a,"",{})):(it=new ZT,FA(it,a,"",{}),T&&ku(it,T)),at.set({scene:it})}E&&!at.events.handlers&&at.set({events:E(a)});const Z=oK(n,b);if(ci.equ(Z,at.size,gp)||at.setSize(Z.width,Z.height,Z.top,Z.left),z&&at.viewport.dpr!==d4(z)&&at.setDpr(z),at.frameloop!==F&&at.setFrameloop(F),at.onPointerMissed||at.set({onPointerMissed:dt}),O&&!ci.equ(O,at.performance,gp)&&at.set(it=>({performance:{...it.performance,...O}})),!at.xr){var vt;const it=(st,Et)=>{const Bt=a.getState();Bt.frameloop!=="never"&&D3(st,!0,Bt,Et)},Mt=()=>{const st=a.getState();st.gl.xr.enabled=st.gl.xr.isPresenting,st.gl.xr.setAnimationLoop(st.gl.xr.isPresenting?it:null),st.gl.xr.isPresenting||yE(st)},Ot={connect(){const st=a.getState().gl;st.xr.addEventListener("sessionstart",Mt),st.xr.addEventListener("sessionend",Mt)},disconnect(){const st=a.getState().gl;st.xr.removeEventListener("sessionstart",Mt),st.xr.removeEventListener("sessionend",Mt)}};typeof((vt=Q.xr)==null?void 0:vt.addEventListener)=="function"&&Ot.connect(),at.set({xr:Ot})}if(Q.shadowMap){const it=Q.shadowMap.enabled,Mt=Q.shadowMap.type;if(Q.shadowMap.enabled=!!R,ci.boo(R))Q.shadowMap.type=S0;else if(ci.str(R)){var X;const Ot={basic:uO,percentage:l_,soft:S0,variance:Ro};Q.shadowMap.type=(X=Ot[R])!=null?X:S0}else ci.obj(R)&&Object.assign(Q.shadowMap,R);(it!==Q.shadowMap.enabled||Mt!==Q.shadowMap.type)&&(Q.shadowMap.needsUpdate=!0)}return Sn.enabled=!U,d||(Q.outputColorSpace=B?Ku:ea,Q.toneMapping=D?wl:UT),at.legacy!==U&&at.set(()=>({legacy:U})),at.linear!==B&&at.set(()=>({linear:B})),at.flat!==D&&at.set(()=>({flat:D})),A&&!ci.fun(A)&&!T3(A)&&!ci.equ(A,Q,gp)&&ku(Q,A),c=S,d=!0,y(),this},render(g){return!d&&!m&&this.configure(),m.then(()=>{mE.updateContainer(G.jsx(cK,{store:a,children:g,onCreated:c,rootElement:n}),o,null,()=>{})}),a},unmount(){b4(n)}}}function cK({store:n,children:t,onCreated:e,rootElement:i}){return Dv(()=>{const s=n.getState();s.set(a=>({internal:{...a.internal,active:!0}})),e&&e(s),n.getState().events.connected||s.events.connect==null||s.events.connect(i)},[]),G.jsx(g4.Provider,{value:n,children:t})}function b4(n,t){const e=Wh.get(n),i=e==null?void 0:e.fiber;if(i){const s=e==null?void 0:e.store.getState();s&&(s.internal.active=!1),mE.updateContainer(null,i,null,()=>{s&&setTimeout(()=>{try{var a,o,c,u;s.events.disconnect==null||s.events.disconnect(),(a=s.gl)==null||(o=a.renderLists)==null||o.dispose==null||o.dispose(),(c=s.gl)==null||c.forceContextLoss==null||c.forceContextLoss(),(u=s.gl)!=null&&u.xr&&s.xr.disconnect(),Fq(s.scene),Wh.delete(n)}catch{}},500)})}}const uK=new Set,fK=new Set,hK=new Set;function $b(n,t){if(n.size)for(const{callback:e}of n.values())e(t)}function D0(n,t){switch(n){case"before":return $b(uK,t);case"after":return $b(fK,t);case"tail":return $b(hK,t)}}let tM,eM;function gE(n,t,e){let i=t.clock.getDelta();t.frameloop==="never"&&typeof n=="number"&&(i=n-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=n),tM=t.internal.subscribers;for(let s=0;s<tM.length;s++)eM=tM[s],eM.ref.current(eM.store.getState(),i,e);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),t.frameloop==="always"?1:t.internal.frames}let GA=!1,vE=!1,nM,B3,vp;function M4(n){B3=requestAnimationFrame(M4),GA=!0,nM=0,D0("before",n),vE=!0;for(const e of Wh.values()){var t;vp=e.store.getState(),vp.internal.active&&(vp.frameloop==="always"||vp.internal.frames>0)&&!((t=vp.gl.xr)!=null&&t.isPresenting)&&(nM+=gE(n,vp))}if(vE=!1,D0("after",n),nM===0)return D0("tail",n),GA=!1,cancelAnimationFrame(B3)}function yE(n,t=1){var e;if(!n)return Wh.forEach(i=>yE(i.store.getState(),t));(e=n.gl.xr)!=null&&e.isPresenting||!n.internal.active||n.frameloop==="never"||(t>1?n.internal.frames=Math.min(60,n.internal.frames+t):vE?n.internal.frames=2:n.internal.frames=1,GA||(GA=!0,requestAnimationFrame(M4)))}function D3(n,t=!0,e,i){if(t&&D0("before",n),e)gE(n,e,i);else for(const s of Wh.values())gE(n,s.store.getState());t&&D0("after",n)}const iM={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function dK(n){const{handlePointer:t}=Yq(n);return{priority:1,enabled:!0,compute(e,i,s){i.pointer.set(e.offsetX/i.size.width*2-1,-(e.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(iM).reduce((e,i)=>({...e,[i]:t(i)}),{}),update:()=>{var e;const{events:i,internal:s}=n.getState();(e=s.lastEvent)!=null&&e.current&&i.handlers&&i.handlers.onPointerMove(s.lastEvent.current)},connect:e=>{const{set:i,events:s}=n.getState();if(s.disconnect==null||s.disconnect(),i(a=>({events:{...a.events,connected:e}})),s.handlers)for(const a in s.handlers){const o=s.handlers[a],[c,u]=iM[a];e.addEventListener(c,o,{passive:u})}},disconnect:()=>{const{set:e,events:i}=n.getState();if(i.connected){if(i.handlers)for(const s in i.handlers){const a=i.handlers[s],[o]=iM[s];i.connected.removeEventListener(o,a)}e(s=>({events:{...s.events,connected:void 0}}))}}}}function L3(n,t){let e;return(...i)=>{window.clearTimeout(e),e=window.setTimeout(()=>n(...i),t)}}function pK({debounce:n,scroll:t,polyfill:e,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const s=e||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,o]=J.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),c=J.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),u=n?typeof n=="number"?n:n.scroll:null,d=n?typeof n=="number"?n:n.resize:null,m=J.useRef(!1);J.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[g,y,A]=J.useMemo(()=>{const S=()=>{if(!c.current.element)return;const{left:R,top:B,width:D,height:U,bottom:N,right:F,x:z,y:O}=c.current.element.getBoundingClientRect(),I={left:R,top:B,width:D,height:U,bottom:N,right:F,x:z,y:O};c.current.element instanceof HTMLElement&&i&&(I.height=c.current.element.offsetHeight,I.width=c.current.element.offsetWidth),Object.freeze(I),m.current&&!yK(c.current.lastBounds,I)&&o(c.current.lastBounds=I)};return[S,d?L3(S,d):S,u?L3(S,u):S]},[o,i,u,d]);function b(){c.current.scrollContainers&&(c.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",A,!0)),c.current.scrollContainers=null),c.current.resizeObserver&&(c.current.resizeObserver.disconnect(),c.current.resizeObserver=null),c.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",c.current.orientationHandler))}function T(){c.current.element&&(c.current.resizeObserver=new s(A),c.current.resizeObserver.observe(c.current.element),t&&c.current.scrollContainers&&c.current.scrollContainers.forEach(S=>S.addEventListener("scroll",A,{capture:!0,passive:!0})),c.current.orientationHandler=()=>{A()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",c.current.orientationHandler))}const E=S=>{!S||S===c.current.element||(b(),c.current.element=S,c.current.scrollContainers=E4(S),T())};return gK(A,!!t),mK(y),J.useEffect(()=>{b(),T()},[t,A,y]),J.useEffect(()=>b,[]),[E,a,g]}function mK(n){J.useEffect(()=>{const t=n;return window.addEventListener("resize",t),()=>void window.removeEventListener("resize",t)},[n])}function gK(n,t){J.useEffect(()=>{if(t){const e=n;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",e,!0)}},[n,t])}function E4(n){const t=[];if(!n||n===document.body)return t;const{overflow:e,overflowX:i,overflowY:s}=window.getComputedStyle(n);return[e,i,s].some(a=>a==="auto"||a==="scroll")&&t.push(n),[...t,...E4(n.parentElement)]}const vK=["x","y","top","bottom","left","right","width","height"],yK=(n,t)=>vK.every(e=>n[e]===t[e]);function xK({ref:n,children:t,fallback:e,resize:i,style:s,gl:a,events:o=dK,eventSource:c,eventPrefix:u,shadows:d,linear:m,flat:g,legacy:y,orthographic:A,frameloop:b,dpr:T,performance:E,raycaster:S,camera:R,scene:B,onPointerMissed:D,onCreated:U,...N}){J.useMemo(()=>tK(oq),[]);const F=Uq(),[z,O]=pK({scroll:!0,debounce:{scroll:50,resize:0},...i}),I=J.useRef(null),Y=J.useRef(null);J.useImperativeHandle(n,()=>I.current);const dt=h4(D),[at,Q]=J.useState(!1),[lt,tt]=J.useState(!1);if(at)throw at;if(lt)throw lt;const et=J.useRef(null);Dv(()=>{const vt=I.current;if(O.width>0&&O.height>0&&vt){et.current||(et.current=lK(vt));async function X(){await et.current.configure({gl:a,scene:B,events:o,shadows:d,linear:m,flat:g,legacy:y,orthographic:A,frameloop:b,dpr:T,performance:E,raycaster:S,camera:R,size:O,onPointerMissed:(...it)=>dt.current==null?void 0:dt.current(...it),onCreated:it=>{it.events.connect==null||it.events.connect(c?Lq(c)?c.current:c:Y.current),u&&it.setEvents({compute:(Mt,Ot)=>{const st=Mt[u+"X"],Et=Mt[u+"Y"];Ot.pointer.set(st/Ot.size.width*2-1,-(Et/Ot.size.height)*2+1),Ot.raycaster.setFromCamera(Ot.pointer,Ot.camera)}}),U==null||U(it)}}),et.current.render(G.jsx(F,{children:G.jsx(Pq,{set:tt,children:G.jsx(J.Suspense,{fallback:G.jsx(Oq,{set:Q}),children:t??null})})}))}X()}}),J.useEffect(()=>{const vt=I.current;if(vt)return()=>b4(vt)},[]);const Z=c?"none":"auto";return G.jsx("div",{ref:Y,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Z,...s},...N,children:G.jsx("div",{ref:z,style:{width:"100%",height:"100%"},children:G.jsx("canvas",{ref:I,style:{display:"block"},children:e})})})}function AK(n){return G.jsx(l4,{children:G.jsx(xK,{...n})})}const BC=J.createContext({});function Am(n){const t=J.useRef(null);return t.current===null&&(t.current=n()),t.current}const k_=J.createContext(null),j_=J.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class _K extends J.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const i=e.offsetParent,s=i instanceof HTMLElement&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=e.offsetHeight||0,a.width=e.offsetWidth||0,a.top=e.offsetTop,a.left=e.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function SK({children:n,isPresent:t,anchorX:e}){const i=J.useId(),s=J.useRef(null),a=J.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=J.useContext(j_);return J.useInsertionEffect(()=>{const{width:c,height:u,top:d,left:m,right:g}=a.current;if(t||!s.current||!c||!u)return;const y=e==="left"?`left: ${m}`:`right: ${g}`;s.current.dataset.motionPopId=i;const A=document.createElement("style");return o&&(A.nonce=o),document.head.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${y}px !important;
            top: ${d}px !important;
          }
        `),()=>{document.head.removeChild(A)}},[t]),G.jsx(_K,{isPresent:t,childRef:s,sizeRef:a,children:J.cloneElement(n,{ref:s})})}const bK=({children:n,initial:t,isPresent:e,onExitComplete:i,custom:s,presenceAffectsLayout:a,mode:o,anchorX:c})=>{const u=Am(MK),d=J.useId(),m=J.useCallback(y=>{u.set(y,!0);for(const A of u.values())if(!A)return;i&&i()},[u,i]),g=J.useMemo(()=>({id:d,initial:t,isPresent:e,custom:s,onExitComplete:m,register:y=>(u.set(y,!1),()=>u.delete(y))}),a?[Math.random(),m]:[e,m]);return J.useMemo(()=>{u.forEach((y,A)=>u.set(A,!1))},[e]),J.useEffect(()=>{!e&&!u.size&&i&&i()},[e]),o==="popLayout"&&(n=G.jsx(SK,{isPresent:e,anchorX:c,children:n})),G.jsx(k_.Provider,{value:g,children:n})};function MK(){return new Map}function T4(n=!0){const t=J.useContext(k_);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:s}=t,a=J.useId();J.useEffect(()=>{n&&s(a)},[n]);const o=J.useCallback(()=>n&&i&&i(a),[a,i,n]);return!e&&i?[!1,o]:[!0]}const px=n=>n.key||"";function N3(n){const t=[];return J.Children.forEach(n,e=>{J.isValidElement(e)&&t.push(e)}),t}const DC=typeof window<"u",X_=DC?J.useLayoutEffect:J.useEffect,EK=({children:n,custom:t,initial:e=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:a="sync",propagate:o=!1,anchorX:c="left"})=>{const[u,d]=T4(o),m=J.useMemo(()=>N3(n),[n]),g=o&&!u?[]:m.map(px),y=J.useRef(!0),A=J.useRef(m),b=Am(()=>new Map),[T,E]=J.useState(m),[S,R]=J.useState(m);X_(()=>{y.current=!1,A.current=m;for(let U=0;U<S.length;U++){const N=px(S[U]);g.includes(N)?b.delete(N):b.get(N)!==!0&&b.set(N,!1)}},[S,g.length,g.join("-")]);const B=[];if(m!==T){let U=[...m];for(let N=0;N<S.length;N++){const F=S[N],z=px(F);g.includes(z)||(U.splice(N,0,F),B.push(F))}return a==="wait"&&B.length&&(U=B),R(N3(U)),E(m),null}const{forceRender:D}=J.useContext(BC);return G.jsx(G.Fragment,{children:S.map(U=>{const N=px(U),F=o&&!u?!1:m===S||g.includes(N),z=()=>{if(b.has(N))b.set(N,!0);else return;let O=!0;b.forEach(I=>{I||(O=!1)}),O&&(D==null||D(),R(A.current),o&&(d==null||d()),i&&i())};return G.jsx(bK,{isPresent:F,initial:!y.current||e?void 0:!1,custom:t,presenceAffectsLayout:s,mode:a,onExitComplete:F?void 0:z,anchorX:c,children:U},N)})})},Ta=n=>n;let TK=Ta,C4=Ta;function LC(n){let t;return()=>(t===void 0&&(t=n()),t)}const qh=(n,t,e)=>{const i=t-n;return i===0?1:(e-n)/i},Nc=n=>n*1e3,Uc=n=>n/1e3,CK={useManualTiming:!1},mx=["read","resolveKeyframes","update","preRender","render","postRender"];function wK(n,t){let e=new Set,i=new Set,s=!1,a=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(m){o.has(m)&&(d.schedule(m),n()),m(c)}const d={schedule:(m,g=!1,y=!1)=>{const b=y&&s?e:i;return g&&o.add(m),b.has(m)||b.add(m),m},cancel:m=>{i.delete(m),o.delete(m)},process:m=>{if(c=m,s){a=!0;return}s=!0,[e,i]=[i,e],e.forEach(u),e.clear(),s=!1,a&&(a=!1,d.process(m))}};return d}const RK=40;function w4(n,t){let e=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>e=!0,o=mx.reduce((S,R)=>(S[R]=wK(a),S),{}),{read:c,resolveKeyframes:u,update:d,preRender:m,render:g,postRender:y}=o,A=()=>{const S=performance.now();e=!1,s.delta=i?1e3/60:Math.max(Math.min(S-s.timestamp,RK),1),s.timestamp=S,s.isProcessing=!0,c.process(s),u.process(s),d.process(s),m.process(s),g.process(s),y.process(s),s.isProcessing=!1,e&&t&&(i=!1,n(A))},b=()=>{e=!0,i=!0,s.isProcessing||n(A)};return{schedule:mx.reduce((S,R)=>{const B=o[R];return S[R]=(D,U=!1,N=!1)=>(e||b(),B.schedule(D,U,N)),S},{}),cancel:S=>{for(let R=0;R<mx.length;R++)o[mx[R]].cancel(S)},state:s,steps:o}}const{schedule:Dn,cancel:Po,state:bs,steps:sM}=w4(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ta,!0),R4=J.createContext({strict:!1}),U3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},nm={};for(const n in U3)nm[n]={isEnabled:t=>U3[n].some(e=>!!t[e])};function BK(n){for(const t in n)nm[t]={...nm[t],...n[t]}}const DK=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function VA(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||DK.has(n)}let B4=n=>!VA(n);function LK(n){n&&(B4=t=>t.startsWith("on")?!VA(t):n(t))}try{LK(require("@emotion/is-prop-valid").default)}catch{}function NK(n,t,e){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(B4(s)||e===!0&&VA(s)||!t&&!VA(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}function UK(n){if(typeof Proxy>"u")return n;const t=new Map,e=(...i)=>n(...i);return new Proxy(e,{get:(i,s)=>s==="create"?n:(t.has(s)||t.set(s,n(s)),t.get(s))})}const Y_=J.createContext({});function W_(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function av(n){return typeof n=="string"||Array.isArray(n)}const NC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],UC=["initial",...NC];function q_(n){return W_(n.animate)||UC.some(t=>av(n[t]))}function D4(n){return!!(q_(n)||n.variants)}function OK(n,t){if(q_(n)){const{initial:e,animate:i}=n;return{initial:e===!1||av(e)?e:void 0,animate:av(i)?i:void 0}}return n.inherit!==!1?t:{}}function PK(n){const{initial:t,animate:e}=OK(n,J.useContext(Y_));return J.useMemo(()=>({initial:t,animate:e}),[O3(t),O3(e)])}function O3(n){return Array.isArray(n)?n.join(" "):n}const IK=Symbol.for("motionComponentSymbol");function Np(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function FK(n,t,e){return J.useCallback(i=>{i&&n.onMount&&n.onMount(i),t&&(i?t.mount(i):t.unmount()),e&&(typeof e=="function"?e(i):Np(e)&&(e.current=i))},[t])}const OC=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),zK="framerAppearId",L4="data-"+OC(zK),{schedule:PC}=w4(queueMicrotask,!1),N4=J.createContext({});function HK(n,t,e,i,s){var a,o;const{visualElement:c}=J.useContext(Y_),u=J.useContext(R4),d=J.useContext(k_),m=J.useContext(j_).reducedMotion,g=J.useRef(null);i=i||u.renderer,!g.current&&i&&(g.current=i(n,{visualState:t,parent:c,props:e,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const y=g.current,A=J.useContext(N4);y&&!y.projection&&s&&(y.type==="html"||y.type==="svg")&&GK(g.current,e,s,A);const b=J.useRef(!1);J.useInsertionEffect(()=>{y&&b.current&&y.update(e,d)});const T=e[L4],E=J.useRef(!!T&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,T))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,T)));return X_(()=>{y&&(b.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),PC.render(y.render),E.current&&y.animationState&&y.animationState.animateChanges())}),J.useEffect(()=>{y&&(!E.current&&y.animationState&&y.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)===null||S===void 0||S.call(window,T)}),E.current=!1))}),y}function GK(n,t,e,i){const{layoutId:s,layout:a,drag:o,dragConstraints:c,layoutScroll:u,layoutRoot:d}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:U4(n.parent)),n.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!o||c&&Np(c),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,layoutScroll:u,layoutRoot:d})}function U4(n){if(n)return n.options.allowProjection!==!1?n.projection:U4(n.parent)}function VK({preloadedFeatures:n,createVisualElement:t,useRender:e,useVisualState:i,Component:s}){var a,o;n&&BK(n);function c(d,m){let g;const y={...J.useContext(j_),...d,layoutId:kK(d)},{isStatic:A}=y,b=PK(d),T=i(d,A);if(!A&&DC){jK();const E=XK(y);g=E.MeasureLayout,b.visualElement=HK(s,T,y,t,E.ProjectionNode)}return G.jsxs(Y_.Provider,{value:b,children:[g&&b.visualElement?G.jsx(g,{visualElement:b.visualElement,...y}):null,e(s,d,FK(T,b.visualElement,m),T,A,b.visualElement)]})}c.displayName=`motion.${typeof s=="string"?s:`create(${(o=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&o!==void 0?o:""})`}`;const u=J.forwardRef(c);return u[IK]=s,u}function kK({layoutId:n}){const t=J.useContext(BC).id;return t&&n!==void 0?t+"-"+n:n}function jK(n,t){J.useContext(R4).strict}function XK(n){const{drag:t,layout:e}=nm;if(!t&&!e)return{};const i={...t,...e};return{MeasureLayout:t!=null&&t.isEnabled(n)||e!=null&&e.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const O4=n=>t=>typeof t=="string"&&t.startsWith(n),IC=O4("--"),YK=O4("var(--"),FC=n=>YK(n)?WK.test(n.split("/*")[0].trim()):!1,WK=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,rv={};function qK(n){for(const t in n)rv[t]=n[t],IC(t)&&(rv[t].isCSSVariable=!0)}const _m=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$h=new Set(_m);function P4(n,{layout:t,layoutId:e}){return $h.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!rv[n]||n==="opacity")}const ia=n=>!!(n&&n.getVelocity),I4=(n,t)=>t&&typeof n=="number"?t.transform(n):n,Il=(n,t,e)=>e>t?t:e<n?n:e,Sm={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ov={...Sm,transform:n=>Il(0,1,n)},gx={...Sm,default:1},Uv=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Fu=Uv("deg"),Dl=Uv("%"),Fe=Uv("px"),KK=Uv("vh"),JK=Uv("vw"),P3={...Dl,parse:n=>Dl.parse(n)/100,transform:n=>Dl.transform(n*100)},ZK={borderWidth:Fe,borderTopWidth:Fe,borderRightWidth:Fe,borderBottomWidth:Fe,borderLeftWidth:Fe,borderRadius:Fe,radius:Fe,borderTopLeftRadius:Fe,borderTopRightRadius:Fe,borderBottomRightRadius:Fe,borderBottomLeftRadius:Fe,width:Fe,maxWidth:Fe,height:Fe,maxHeight:Fe,top:Fe,right:Fe,bottom:Fe,left:Fe,padding:Fe,paddingTop:Fe,paddingRight:Fe,paddingBottom:Fe,paddingLeft:Fe,margin:Fe,marginTop:Fe,marginRight:Fe,marginBottom:Fe,marginLeft:Fe,backgroundPositionX:Fe,backgroundPositionY:Fe},QK={rotate:Fu,rotateX:Fu,rotateY:Fu,rotateZ:Fu,scale:gx,scaleX:gx,scaleY:gx,scaleZ:gx,skew:Fu,skewX:Fu,skewY:Fu,distance:Fe,translateX:Fe,translateY:Fe,translateZ:Fe,x:Fe,y:Fe,z:Fe,perspective:Fe,transformPerspective:Fe,opacity:ov,originX:P3,originY:P3,originZ:Fe},I3={...Sm,transform:Math.round},zC={...ZK,...QK,zIndex:I3,size:Fe,fillOpacity:ov,strokeOpacity:ov,numOctaves:I3},$K={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tJ=_m.length;function eJ(n,t,e){let i="",s=!0;for(let a=0;a<tJ;a++){const o=_m[a],c=n[o];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(o.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||e){const d=I4(c,zC[o]);if(!u){s=!1;const m=$K[o]||o;i+=`${m}(${d}) `}e&&(t[o]=d)}}return i=i.trim(),e?i=e(t,s?"":i):s&&(i="none"),i}function HC(n,t,e){const{style:i,vars:s,transformOrigin:a}=n;let o=!1,c=!1;for(const u in t){const d=t[u];if($h.has(u)){o=!0;continue}else if(IC(u)){s[u]=d;continue}else{const m=I4(d,zC[u]);u.startsWith("origin")?(c=!0,a[u]=m):i[u]=m}}if(t.transform||(o||e?i.transform=eJ(t,n.transform,e):i.transform&&(i.transform="none")),c){const{originX:u="50%",originY:d="50%",originZ:m=0}=a;i.transformOrigin=`${u} ${d} ${m}`}}const GC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function F4(n,t,e){for(const i in t)!ia(t[i])&&!P4(i,e)&&(n[i]=t[i])}function nJ({transformTemplate:n},t){return J.useMemo(()=>{const e=GC();return HC(e,t,n),Object.assign({},e.vars,e.style)},[t])}function iJ(n,t){const e=n.style||{},i={};return F4(i,e,n),Object.assign(i,nJ(n,t)),i}function sJ(n,t){const e={},i=iJ(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=i,e}const aJ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function VC(n){return typeof n!="string"||n.includes("-")?!1:!!(aJ.indexOf(n)>-1||/[A-Z]/u.test(n))}const rJ={offset:"stroke-dashoffset",array:"stroke-dasharray"},oJ={offset:"strokeDashoffset",array:"strokeDasharray"};function lJ(n,t,e=1,i=0,s=!0){n.pathLength=1;const a=s?rJ:oJ;n[a.offset]=Fe.transform(-i);const o=Fe.transform(t),c=Fe.transform(e);n[a.array]=`${o} ${c}`}function F3(n,t,e){return typeof n=="string"?n:Fe.transform(t+e*n)}function cJ(n,t,e){const i=F3(t,n.x,n.width),s=F3(e,n.y,n.height);return`${i} ${s}`}function kC(n,{attrX:t,attrY:e,attrScale:i,originX:s,originY:a,pathLength:o,pathSpacing:c=1,pathOffset:u=0,...d},m,g){if(HC(n,d,g),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:y,style:A,dimensions:b}=n;y.transform&&(b&&(A.transform=y.transform),delete y.transform),b&&(s!==void 0||a!==void 0||A.transform)&&(A.transformOrigin=cJ(b,s!==void 0?s:.5,a!==void 0?a:.5)),t!==void 0&&(y.x=t),e!==void 0&&(y.y=e),i!==void 0&&(y.scale=i),o!==void 0&&lJ(y,o,c,u,!1)}const z4=()=>({...GC(),attrs:{}}),jC=n=>typeof n=="string"&&n.toLowerCase()==="svg";function uJ(n,t,e,i){const s=J.useMemo(()=>{const a=z4();return kC(a,t,jC(i),n.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(n.style){const a={};F4(a,n.style,n),s.style={...a,...s.style}}return s}function fJ(n=!1){return(e,i,s,{latestValues:a},o)=>{const u=(VC(e)?uJ:sJ)(i,a,o,e),d=NK(i,typeof e=="string",n),m=e!==J.Fragment?{...d,...u,ref:s}:{},{children:g}=i,y=J.useMemo(()=>ia(g)?g.get():g,[g]);return J.createElement(e,{...m,children:y})}}function z3(n){const t=[{},{}];return n==null||n.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function XC(n,t,e,i){if(typeof t=="function"){const[s,a]=z3(i);t=t(e!==void 0?e:n.custom,s,a)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[s,a]=z3(i);t=t(e!==void 0?e:n.custom,s,a)}return t}const xE=n=>Array.isArray(n),hJ=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),dJ=n=>xE(n)?n[n.length-1]||0:n;function Ox(n){const t=ia(n)?n.get():n;return hJ(t)?t.toValue():t}function pJ({scrapeMotionValuesFromProps:n,createRenderState:t,onUpdate:e},i,s,a){const o={latestValues:mJ(i,s,a,n),renderState:t()};return e&&(o.onMount=c=>e({props:i,current:c,...o}),o.onUpdate=c=>e(c)),o}const H4=n=>(t,e)=>{const i=J.useContext(Y_),s=J.useContext(k_),a=()=>pJ(n,t,i,s);return e?a():Am(a)};function mJ(n,t,e,i){const s={},a=i(n,{});for(const y in a)s[y]=Ox(a[y]);let{initial:o,animate:c}=n;const u=q_(n),d=D4(n);t&&d&&!u&&n.inherit!==!1&&(o===void 0&&(o=t.initial),c===void 0&&(c=t.animate));let m=e?e.initial===!1:!1;m=m||o===!1;const g=m?c:o;if(g&&typeof g!="boolean"&&!W_(g)){const y=Array.isArray(g)?g:[g];for(let A=0;A<y.length;A++){const b=XC(n,y[A]);if(b){const{transitionEnd:T,transition:E,...S}=b;for(const R in S){let B=S[R];if(Array.isArray(B)){const D=m?B.length-1:0;B=B[D]}B!==null&&(s[R]=B)}for(const R in T)s[R]=T[R]}}}return s}function YC(n,t,e){var i;const{style:s}=n,a={};for(const o in s)(ia(s[o])||t.style&&ia(t.style[o])||P4(o,n)||((i=e==null?void 0:e.getValue(o))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(a[o]=s[o]);return a}const gJ={useVisualState:H4({scrapeMotionValuesFromProps:YC,createRenderState:GC})};function G4(n,t){try{t.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function V4(n,{style:t,vars:e},i,s){Object.assign(n.style,t,s&&s.getProjectionStyles(i));for(const a in e)n.style.setProperty(a,e[a])}const k4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function j4(n,t,e,i){V4(n,t,void 0,i);for(const s in t.attrs)n.setAttribute(k4.has(s)?s:OC(s),t.attrs[s])}function X4(n,t,e){const i=YC(n,t,e);for(const s in n)if(ia(n[s])||ia(t[s])){const a=_m.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[a]=n[s]}return i}const H3=["x","y","width","height","cx","cy","r"],vJ={useVisualState:H4({scrapeMotionValuesFromProps:X4,createRenderState:z4,onUpdate:({props:n,prevProps:t,current:e,renderState:i,latestValues:s})=>{if(!e)return;let a=!!n.drag;if(!a){for(const c in s)if($h.has(c)){a=!0;break}}if(!a)return;let o=!t;if(t)for(let c=0;c<H3.length;c++){const u=H3[c];n[u]!==t[u]&&(o=!0)}o&&Dn.read(()=>{G4(e,i),Dn.render(()=>{kC(i,s,jC(e.tagName),n.transformTemplate),j4(e,i)})})}})};function yJ(n,t){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...VC(i)?vJ:gJ,preloadedFeatures:n,useRender:fJ(s),createVisualElement:t,Component:i};return VK(o)}}function lv(n,t,e){const i=n.getProps();return XC(i,t,e!==void 0?e:i.custom,n)}const Y4=LC(()=>window.ScrollTimeline!==void 0);class xJ{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,e){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=e}attachTimeline(t,e){const i=this.animations.map(s=>{if(Y4()&&s.attachTimeline)return s.attachTimeline(t);if(typeof e=="function")return e(s)});return()=>{i.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach(e=>e[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class AJ extends xJ{then(t,e){return Promise.all(this.animations).then(t).catch(e)}}function WC(n,t){return n?n[t]||n.default||n:void 0}const AE=2e4;function W4(n){let t=0;const e=50;let i=n.next(t);for(;!i.done&&t<AE;)t+=e,i=n.next(t);return t>=AE?1/0:t}function qC(n){return typeof n=="function"}function G3(n,t){n.timeline=t,n.onfinish=null}const KC=n=>Array.isArray(n)&&typeof n[0]=="number",_J={linearEasing:void 0};function SJ(n,t){const e=LC(n);return()=>{var i;return(i=_J[t])!==null&&i!==void 0?i:e()}}const kA=SJ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),q4=(n,t,e=10)=>{let i="";const s=Math.max(Math.round(t/e),2);for(let a=0;a<s;a++)i+=n(qh(0,s-1,a))+", ";return`linear(${i.substring(0,i.length-2)})`};function K4(n){return!!(typeof n=="function"&&kA()||!n||typeof n=="string"&&(n in _E||kA())||KC(n)||Array.isArray(n)&&n.every(K4))}const p0=([n,t,e,i])=>`cubic-bezier(${n}, ${t}, ${e}, ${i})`,_E={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:p0([0,.65,.55,1]),circOut:p0([.55,0,1,.45]),backIn:p0([.31,.01,.66,-.59]),backOut:p0([.33,1.53,.69,.99])};function J4(n,t){if(n)return typeof n=="function"&&kA()?q4(n,t):KC(n)?p0(n):Array.isArray(n)?n.map(e=>J4(e,t)||_E.easeOut):_E[n]}const wo={x:!1,y:!1};function Z4(){return wo.x||wo.y}function Q4(n,t,e){var i;if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const a=(i=void 0)!==null&&i!==void 0?i:s.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}function $4(n,t){const e=Q4(n),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[e,s,()=>i.abort()]}function V3(n){return!(n.pointerType==="touch"||Z4())}function bJ(n,t,e={}){const[i,s,a]=$4(n,e),o=c=>{if(!V3(c))return;const{target:u}=c,d=t(u,c);if(typeof d!="function"||!u)return;const m=g=>{V3(g)&&(d(g),u.removeEventListener("pointerleave",m))};u.addEventListener("pointerleave",m,s)};return i.forEach(c=>{c.addEventListener("pointerenter",o,s)}),a}function jA(n,t){const e=`${t}PointerCapture`;if(n.target instanceof Element&&e in n.target&&n.pointerId!==void 0)try{n.target[e](n.pointerId)}catch{}}const t5=(n,t)=>t?n===t?!0:t5(n,t.parentElement):!1,JC=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,MJ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function EJ(n){return MJ.has(n.tagName)||n.tabIndex!==-1}const m0=new WeakSet;function k3(n){return t=>{t.key==="Enter"&&n(t)}}function aM(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const TJ=(n,t)=>{const e=n.currentTarget;if(!e)return;const i=k3(()=>{if(m0.has(e))return;aM(e,"down");const s=k3(()=>{aM(e,"up")}),a=()=>aM(e,"cancel");e.addEventListener("keyup",s,t),e.addEventListener("blur",a,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function j3(n){return JC(n)&&!Z4()}function CJ(n,t,e={}){const[i,s,a]=$4(n,e),o=c=>{const u=c.currentTarget;if(!u||!j3(c)||m0.has(u))return;m0.add(u),jA(c,"set");const d=t(u,c),m=(A,b)=>{u.removeEventListener("pointerup",g),u.removeEventListener("pointercancel",y),jA(A,"release"),!(!j3(A)||!m0.has(u))&&(m0.delete(u),typeof d=="function"&&d(A,{success:b}))},g=A=>{(A.isTrusted?wJ(A,u instanceof Element?u.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?m(A,!1):m(A,!(u instanceof Element)||t5(u,A.target))},y=A=>{m(A,!1)};u.addEventListener("pointerup",g,s),u.addEventListener("pointercancel",y,s),u.addEventListener("lostpointercapture",y,s)};return i.forEach(c=>{c=e.useGlobalTarget?window:c;let u=!1;c instanceof HTMLElement&&(u=!0,!EJ(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0)),c.addEventListener("pointerdown",o,s),u&&c.addEventListener("focus",d=>TJ(d,s),s)}),a}function wJ(n,t){return n.clientX<t.left||n.clientX>t.right||n.clientY<t.top||n.clientY>t.bottom}function RJ(n){return n==="x"||n==="y"?wo[n]?null:(wo[n]=!0,()=>{wo[n]=!1}):wo.x||wo.y?null:(wo.x=wo.y=!0,()=>{wo.x=wo.y=!1})}const e5=new Set(["width","height","top","left","right","bottom",..._m]);let Px;function BJ(){Px=void 0}const Ll={now:()=>(Px===void 0&&Ll.set(bs.isProcessing||CK.useManualTiming?bs.timestamp:performance.now()),Px),set:n=>{Px=n,queueMicrotask(BJ)}};function ZC(n,t){n.indexOf(t)===-1&&n.push(t)}function QC(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}class $C{constructor(){this.subscriptions=[]}add(t){return ZC(this.subscriptions,t),()=>QC(this.subscriptions,t)}notify(t,e,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,e,i);else for(let a=0;a<s;a++){const o=this.subscriptions[a];o&&o(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function tw(n,t){return t?n*(1e3/t):0}const X3=30,DJ=n=>!isNaN(parseFloat(n)),L0={current:void 0};class LJ{constructor(t,e={}){this.version="12.4.5",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{const a=Ll.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Ll.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=DJ(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new $C);const i=this.events[t].add(e);return t==="change"?()=>{i(),Dn.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){!e||!this.passiveEffect?this.updateAndNotify(t,e):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return L0.current&&L0.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Ll.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>X3)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,X3);return tw(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function El(n,t){return new LJ(n,t)}function NJ(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,El(e))}function UJ(n,t){const e=lv(n,t);let{transitionEnd:i={},transition:s={},...a}=e||{};a={...a,...i};for(const o in a){const c=dJ(a[o]);NJ(n,o,c)}}function OJ(n){return!!(ia(n)&&n.add)}function SE(n,t){const e=n.getValue("willChange");if(OJ(e))return e.add(t)}function n5(n){return n.props[L4]}const i5=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,PJ=1e-7,IJ=12;function FJ(n,t,e,i,s){let a,o,c=0;do o=t+(e-t)/2,a=i5(o,i,s)-n,a>0?e=o:t=o;while(Math.abs(a)>PJ&&++c<IJ);return o}function Ov(n,t,e,i){if(n===t&&e===i)return Ta;const s=a=>FJ(a,0,1,n,e);return a=>a===0||a===1?a:i5(s(a),t,i)}const s5=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,a5=n=>t=>1-n(1-t),r5=Ov(.33,1.53,.69,.99),ew=a5(r5),o5=s5(ew),l5=n=>(n*=2)<1?.5*ew(n):.5*(2-Math.pow(2,-10*(n-1))),nw=n=>1-Math.sin(Math.acos(n)),c5=a5(nw),u5=s5(nw),f5=n=>/^0[^.\s]+$/u.test(n);function zJ(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||f5(n):!0}const N0=n=>Math.round(n*1e5)/1e5,iw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function HJ(n){return n==null}const GJ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,sw=(n,t)=>e=>!!(typeof e=="string"&&GJ.test(e)&&e.startsWith(n)||t&&!HJ(e)&&Object.prototype.hasOwnProperty.call(e,t)),h5=(n,t,e)=>i=>{if(typeof i!="string")return i;const[s,a,o,c]=i.match(iw);return{[n]:parseFloat(s),[t]:parseFloat(a),[e]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},VJ=n=>Il(0,255,n),rM={...Sm,transform:n=>Math.round(VJ(n))},Ch={test:sw("rgb","red"),parse:h5("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:i=1})=>"rgba("+rM.transform(n)+", "+rM.transform(t)+", "+rM.transform(e)+", "+N0(ov.transform(i))+")"};function kJ(n){let t="",e="",i="",s="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),t+=t,e+=e,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const bE={test:sw("#"),parse:kJ,transform:Ch.transform},Up={test:sw("hsl","hue"),parse:h5("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(n)+", "+Dl.transform(N0(t))+", "+Dl.transform(N0(e))+", "+N0(ov.transform(i))+")"},ta={test:n=>Ch.test(n)||bE.test(n)||Up.test(n),parse:n=>Ch.test(n)?Ch.parse(n):Up.test(n)?Up.parse(n):bE.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ch.transform(n):Up.transform(n)},jJ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function XJ(n){var t,e;return isNaN(n)&&typeof n=="string"&&(((t=n.match(iw))===null||t===void 0?void 0:t.length)||0)+(((e=n.match(jJ))===null||e===void 0?void 0:e.length)||0)>0}const d5="number",p5="color",YJ="var",WJ="var(",Y3="${}",qJ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function cv(n){const t=n.toString(),e=[],i={color:[],number:[],var:[]},s=[];let a=0;const c=t.replace(qJ,u=>(ta.test(u)?(i.color.push(a),s.push(p5),e.push(ta.parse(u))):u.startsWith(WJ)?(i.var.push(a),s.push(YJ),e.push(u)):(i.number.push(a),s.push(d5),e.push(parseFloat(u))),++a,Y3)).split(Y3);return{values:e,split:c,indexes:i,types:s}}function m5(n){return cv(n).values}function g5(n){const{split:t,types:e}=cv(n),i=t.length;return s=>{let a="";for(let o=0;o<i;o++)if(a+=t[o],s[o]!==void 0){const c=e[o];c===d5?a+=N0(s[o]):c===p5?a+=ta.transform(s[o]):a+=s[o]}return a}}const KJ=n=>typeof n=="number"?0:n;function JJ(n){const t=m5(n);return g5(n)(t.map(KJ))}const Zu={test:XJ,parse:m5,createTransformer:g5,getAnimatableNone:JJ},ZJ=new Set(["brightness","contrast","saturate","opacity"]);function QJ(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=e.match(iw)||[];if(!i)return n;const s=e.replace(i,"");let a=ZJ.has(t)?1:0;return i!==e&&(a*=100),t+"("+a+s+")"}const $J=/\b([a-z-]*)\(.*?\)/gu,ME={...Zu,getAnimatableNone:n=>{const t=n.match($J);return t?t.map(QJ).join(" "):n}},tZ={...zC,color:ta,backgroundColor:ta,outlineColor:ta,fill:ta,stroke:ta,borderColor:ta,borderTopColor:ta,borderRightColor:ta,borderBottomColor:ta,borderLeftColor:ta,filter:ME,WebkitFilter:ME},aw=n=>tZ[n];function v5(n,t){let e=aw(n);return e!==ME&&(e=Zu),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const eZ=new Set(["auto","none","0"]);function nZ(n,t,e){let i=0,s;for(;i<n.length&&!s;){const a=n[i];typeof a=="string"&&!eZ.has(a)&&cv(a).values.length&&(s=n[i]),i++}if(s&&e)for(const a of t)n[a]=v5(e,s)}const W3=n=>n===Sm||n===Fe,q3=(n,t)=>parseFloat(n.split(", ")[t]),K3=(n,t)=>(e,{transform:i})=>{if(i==="none"||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/u);if(s)return q3(s[1],t);{const a=i.match(/^matrix\((.+)\)$/u);return a?q3(a[1],n):0}},iZ=new Set(["x","y","z"]),sZ=_m.filter(n=>!iZ.has(n));function aZ(n){const t=[];return sZ.forEach(e=>{const i=n.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const im={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:K3(4,13),y:K3(5,14)};im.translateX=im.x;im.translateY=im.y;const Oh=new Set;let EE=!1,TE=!1;function y5(){if(TE){const n=Array.from(Oh).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),e=new Map;t.forEach(i=>{const s=aZ(i);s.length&&(e.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=e.get(i);s&&s.forEach(([a,o])=>{var c;(c=i.getValue(a))===null||c===void 0||c.set(o)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}TE=!1,EE=!1,Oh.forEach(n=>n.complete()),Oh.clear()}function x5(){Oh.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(TE=!0)})}function rZ(){x5(),y5()}class rw{constructor(t,e,i,s,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=s,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Oh.add(this),EE||(EE=!0,Dn.read(x5),Dn.resolveKeyframes(y5))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:s}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const o=s==null?void 0:s.get(),c=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&e){const u=i.readValue(e,c);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=c),s&&o===void 0&&s.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Oh.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Oh.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const A5=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),oZ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lZ(n){const t=oZ.exec(n);if(!t)return[,];const[,e,i,s]=t;return[`--${e??i}`,s]}function _5(n,t,e=1){const[i,s]=lZ(n);if(!i)return;const a=window.getComputedStyle(t).getPropertyValue(i);if(a){const o=a.trim();return A5(o)?parseFloat(o):o}return FC(s)?_5(s,t,e+1):s}const S5=n=>t=>t.test(n),cZ={test:n=>n==="auto",parse:n=>n},b5=[Sm,Fe,Dl,Fu,JK,KK,cZ],J3=n=>b5.find(S5(n));class M5 extends rw{constructor(t,e,i,s,a){super(t,e,i,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let d=t[u];if(typeof d=="string"&&(d=d.trim(),FC(d))){const m=_5(d,e.current);m!==void 0&&(t[u]=m),u===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!e5.has(i)||t.length!==2)return;const[s,a]=t,o=J3(s),c=J3(a);if(o!==c)if(W3(o)&&W3(c))for(let u=0;u<t.length;u++){const d=t[u];typeof d=="string"&&(t[u]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let s=0;s<t.length;s++)zJ(t[s])&&i.push(s);i.length&&nZ(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=im[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const s=e[e.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){var t;const{element:e,name:i,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(i);a&&a.jump(this.measuredOrigin,!1);const o=s.length-1,c=s[o];s[o]=im[i](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([u,d])=>{e.getValue(u).set(d)}),this.resolveNoneKeyframes()}}const Z3=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Zu.test(n)||n==="0")&&!n.startsWith("url("));function uZ(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function fZ(n,t,e,i){const s=n[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=n[n.length-1],o=Z3(s,t),c=Z3(a,t);return!o||!c?!1:uZ(n)||(e==="spring"||qC(e))&&i}const hZ=n=>n!==null;function K_(n,{repeat:t,repeatType:e="loop"},i){const s=n.filter(hZ),a=t&&e!=="loop"&&t%2===1?0:s.length-1;return!a||i===void 0?s[a]:i}const dZ=40;class E5{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ll.now(),this.options={autoplay:t,delay:e,type:i,repeat:s,repeatDelay:a,repeatType:o,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>dZ?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&rZ(),this._resolved}onKeyframesResolved(t,e){this.resolvedAt=Ll.now(),this.hasAttemptedResolve=!0;const{name:i,type:s,velocity:a,delay:o,onComplete:c,onUpdate:u,isGenerator:d}=this.options;if(!d&&!fZ(t,i,s,a))if(o)this.options.duration=0;else{u&&u(K_(t,this.options,e)),c&&c(),this.resolveFinishedPromise();return}const m=this.initPlayback(t,e);m!==!1&&(this._resolved={keyframes:t,finalKeyframe:e,...m},this.onPostResolved())}onPostResolved(){}then(t,e){return this.currentFinishedPromise.then(t,e)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const bi=(n,t,e)=>n+(t-n)*e;function oM(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function pZ({hue:n,saturation:t,lightness:e,alpha:i}){n/=360,t/=100,e/=100;let s=0,a=0,o=0;if(!t)s=a=o=e;else{const c=e<.5?e*(1+t):e+t-e*t,u=2*e-c;s=oM(u,c,n+1/3),a=oM(u,c,n),o=oM(u,c,n-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:i}}function XA(n,t){return e=>e>0?t:n}const lM=(n,t,e)=>{const i=n*n,s=e*(t*t-i)+i;return s<0?0:Math.sqrt(s)},mZ=[bE,Ch,Up],gZ=n=>mZ.find(t=>t.test(n));function Q3(n){const t=gZ(n);if(!t)return!1;let e=t.parse(n);return t===Up&&(e=pZ(e)),e}const $3=(n,t)=>{const e=Q3(n),i=Q3(t);if(!e||!i)return XA(n,t);const s={...e};return a=>(s.red=lM(e.red,i.red,a),s.green=lM(e.green,i.green,a),s.blue=lM(e.blue,i.blue,a),s.alpha=bi(e.alpha,i.alpha,a),Ch.transform(s))},vZ=(n,t)=>e=>t(n(e)),Pv=(...n)=>n.reduce(vZ),CE=new Set(["none","hidden"]);function yZ(n,t){return CE.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function xZ(n,t){return e=>bi(n,t,e)}function ow(n){return typeof n=="number"?xZ:typeof n=="string"?FC(n)?XA:ta.test(n)?$3:SZ:Array.isArray(n)?T5:typeof n=="object"?ta.test(n)?$3:AZ:XA}function T5(n,t){const e=[...n],i=e.length,s=n.map((a,o)=>ow(a)(a,t[o]));return a=>{for(let o=0;o<i;o++)e[o]=s[o](a);return e}}function AZ(n,t){const e={...n,...t},i={};for(const s in e)n[s]!==void 0&&t[s]!==void 0&&(i[s]=ow(n[s])(n[s],t[s]));return s=>{for(const a in i)e[a]=i[a](s);return e}}function _Z(n,t){var e;const i=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],c=n.indexes[o][s[o]],u=(e=n.values[c])!==null&&e!==void 0?e:0;i[a]=u,s[o]++}return i}const SZ=(n,t)=>{const e=Zu.createTransformer(t),i=cv(n),s=cv(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?CE.has(n)&&!s.values.length||CE.has(t)&&!i.values.length?yZ(n,t):Pv(T5(_Z(i,s),s.values),e):XA(n,t)};function C5(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?bi(n,t,e):ow(n)(n,t)}const bZ=5;function w5(n,t,e){const i=Math.max(t-bZ,0);return tw(e-n(i),t-i)}const Oi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},tD=.001;function MZ({duration:n=Oi.duration,bounce:t=Oi.bounce,velocity:e=Oi.velocity,mass:i=Oi.mass}){let s,a,o=1-t;o=Il(Oi.minDamping,Oi.maxDamping,o),n=Il(Oi.minDuration,Oi.maxDuration,Uc(n)),o<1?(s=d=>{const m=d*o,g=m*n,y=m-e,A=wE(d,o),b=Math.exp(-g);return tD-y/A*b},a=d=>{const g=d*o*n,y=g*e+e,A=Math.pow(o,2)*Math.pow(d,2)*n,b=Math.exp(-g),T=wE(Math.pow(d,2),o);return(-s(d)+tD>0?-1:1)*((y-A)*b)/T}):(s=d=>{const m=Math.exp(-d*n),g=(d-e)*n+1;return-.001+m*g},a=d=>{const m=Math.exp(-d*n),g=(e-d)*(n*n);return m*g});const c=5/n,u=TZ(s,a,c);if(n=Nc(n),isNaN(u))return{stiffness:Oi.stiffness,damping:Oi.damping,duration:n};{const d=Math.pow(u,2)*i;return{stiffness:d,damping:o*2*Math.sqrt(i*d),duration:n}}}const EZ=12;function TZ(n,t,e){let i=e;for(let s=1;s<EZ;s++)i=i-n(i)/t(i);return i}function wE(n,t){return n*Math.sqrt(1-t*t)}const CZ=["duration","bounce"],wZ=["stiffness","damping","mass"];function eD(n,t){return t.some(e=>n[e]!==void 0)}function RZ(n){let t={velocity:Oi.velocity,stiffness:Oi.stiffness,damping:Oi.damping,mass:Oi.mass,isResolvedFromDuration:!1,...n};if(!eD(n,wZ)&&eD(n,CZ))if(n.visualDuration){const e=n.visualDuration,i=2*Math.PI/(e*1.2),s=i*i,a=2*Il(.05,1,1-(n.bounce||0))*Math.sqrt(s);t={...t,mass:Oi.mass,stiffness:s,damping:a}}else{const e=MZ(n);t={...t,...e,mass:Oi.mass},t.isResolvedFromDuration=!0}return t}function R5(n=Oi.visualDuration,t=Oi.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:i,restDelta:s}=e;const a=e.keyframes[0],o=e.keyframes[e.keyframes.length-1],c={done:!1,value:a},{stiffness:u,damping:d,mass:m,duration:g,velocity:y,isResolvedFromDuration:A}=RZ({...e,velocity:-Uc(e.velocity||0)}),b=y||0,T=d/(2*Math.sqrt(u*m)),E=o-a,S=Uc(Math.sqrt(u/m)),R=Math.abs(E)<5;i||(i=R?Oi.restSpeed.granular:Oi.restSpeed.default),s||(s=R?Oi.restDelta.granular:Oi.restDelta.default);let B;if(T<1){const U=wE(S,T);B=N=>{const F=Math.exp(-T*S*N);return o-F*((b+T*S*E)/U*Math.sin(U*N)+E*Math.cos(U*N))}}else if(T===1)B=U=>o-Math.exp(-S*U)*(E+(b+S*E)*U);else{const U=S*Math.sqrt(T*T-1);B=N=>{const F=Math.exp(-T*S*N),z=Math.min(U*N,300);return o-F*((b+T*S*E)*Math.sinh(z)+U*E*Math.cosh(z))/U}}const D={calculatedDuration:A&&g||null,next:U=>{const N=B(U);if(A)c.done=U>=g;else{let F=0;T<1&&(F=U===0?Nc(b):w5(B,U,N));const z=Math.abs(F)<=i,O=Math.abs(o-N)<=s;c.done=z&&O}return c.value=c.done?o:N,c},toString:()=>{const U=Math.min(W4(D),AE),N=q4(F=>D.next(U*F).value,U,30);return U+"ms "+N}};return D}function nD({keyframes:n,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:c,max:u,restDelta:d=.5,restSpeed:m}){const g=n[0],y={done:!1,value:g},A=z=>c!==void 0&&z<c||u!==void 0&&z>u,b=z=>c===void 0?u:u===void 0||Math.abs(c-z)<Math.abs(u-z)?c:u;let T=e*t;const E=g+T,S=o===void 0?E:o(E);S!==E&&(T=S-g);const R=z=>-T*Math.exp(-z/i),B=z=>S+R(z),D=z=>{const O=R(z),I=B(z);y.done=Math.abs(O)<=d,y.value=y.done?S:I};let U,N;const F=z=>{A(y.value)&&(U=z,N=R5({keyframes:[y.value,b(y.value)],velocity:w5(B,z,y.value),damping:s,stiffness:a,restDelta:d,restSpeed:m}))};return F(0),{calculatedDuration:null,next:z=>{let O=!1;return!N&&U===void 0&&(O=!0,D(z),F(z)),U!==void 0&&z>=U?N.next(z-U):(!O&&D(z),y)}}}const BZ=Ov(.42,0,1,1),DZ=Ov(0,0,.58,1),B5=Ov(.42,0,.58,1),LZ=n=>Array.isArray(n)&&typeof n[0]!="number",NZ={linear:Ta,easeIn:BZ,easeInOut:B5,easeOut:DZ,circIn:nw,circInOut:u5,circOut:c5,backIn:ew,backInOut:o5,backOut:r5,anticipate:l5},iD=n=>{if(KC(n)){C4(n.length===4);const[t,e,i,s]=n;return Ov(t,e,i,s)}else if(typeof n=="string")return NZ[n];return n};function UZ(n,t,e){const i=[],s=e||C5,a=n.length-1;for(let o=0;o<a;o++){let c=s(n[o],n[o+1]);if(t){const u=Array.isArray(t)?t[o]||Ta:t;c=Pv(u,c)}i.push(c)}return i}function lw(n,t,{clamp:e=!0,ease:i,mixer:s}={}){const a=n.length;if(C4(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),t=[...t].reverse());const c=UZ(t,i,s),u=c.length,d=m=>{if(o&&m<n[0])return t[0];let g=0;if(u>1)for(;g<n.length-2&&!(m<n[g+1]);g++);const y=qh(n[g],n[g+1],m);return c[g](y)};return e?m=>d(Il(n[0],n[a-1],m)):d}function OZ(n,t){const e=n[n.length-1];for(let i=1;i<=t;i++){const s=qh(0,t,i);n.push(bi(e,1,s))}}function D5(n){const t=[0];return OZ(t,n.length-1),t}function PZ(n,t){return n.map(e=>e*t)}function IZ(n,t){return n.map(()=>t||B5).splice(0,n.length-1)}function YA({duration:n=300,keyframes:t,times:e,ease:i="easeInOut"}){const s=LZ(i)?i.map(iD):iD(i),a={done:!1,value:t[0]},o=PZ(e&&e.length===t.length?e:D5(t),n),c=lw(o,t,{ease:Array.isArray(s)?s:IZ(t,s)});return{calculatedDuration:n,next:u=>(a.value=c(u),a.done=u>=n,a)}}const FZ=n=>{const t=({timestamp:e})=>n(e);return{start:()=>Dn.update(t,!0),stop:()=>Po(t),now:()=>bs.isProcessing?bs.timestamp:Ll.now()}},zZ={decay:nD,inertia:nD,tween:YA,keyframes:YA,spring:R5},HZ=n=>n/100;class cw extends E5{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:e,motionValue:i,element:s,keyframes:a}=this.options,o=(s==null?void 0:s.KeyframeResolver)||rw,c=(u,d)=>this.onKeyframesResolved(u,d);this.resolver=new o(a,c,e,i,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:e="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a,velocity:o=0}=this.options,c=qC(e)?e:zZ[e]||YA;let u,d;c!==YA&&typeof t[0]!="number"&&(u=Pv(HZ,C5(t[0],t[1])),t=[0,100]);const m=c({...this.options,keyframes:t});a==="mirror"&&(d=c({...this.options,keyframes:[...t].reverse(),velocity:-o})),m.calculatedDuration===null&&(m.calculatedDuration=W4(m));const{calculatedDuration:g}=m,y=g+s,A=y*(i+1)-s;return{generator:m,mirroredGenerator:d,mapPercentToKeyframes:u,calculatedDuration:g,resolvedDuration:y,totalDuration:A}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,e=!1){const{resolved:i}=this;if(!i){const{keyframes:z}=this.options;return{done:!0,value:z[z.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:o,mapPercentToKeyframes:c,keyframes:u,calculatedDuration:d,totalDuration:m,resolvedDuration:g}=i;if(this.startTime===null)return a.next(0);const{delay:y,repeat:A,repeatType:b,repeatDelay:T,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-m/this.speed,this.startTime)),e?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const S=this.currentTime-y*(this.speed>=0?1:-1),R=this.speed>=0?S<0:S>m;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let B=this.currentTime,D=a;if(A){const z=Math.min(this.currentTime,m)/g;let O=Math.floor(z),I=z%1;!I&&z>=1&&(I=1),I===1&&O--,O=Math.min(O,A+1),!!(O%2)&&(b==="reverse"?(I=1-I,T&&(I-=T/g)):b==="mirror"&&(D=o)),B=Il(0,1,I)*g}const U=R?{done:!1,value:u[0]}:D.next(B);c&&(U.value=c(U.value));let{done:N}=U;!R&&d!==null&&(N=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return F&&s!==void 0&&(U.value=K_(u,this.options,s)),E&&E(U.value),F&&this.finish(),U}get duration(){const{resolved:t}=this;return t?Uc(t.calculatedDuration):0}get time(){return Uc(this.currentTime)}set time(t){t=Nc(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Uc(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=FZ,onPlay:e,startTime:i}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),e&&e();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const GZ=new Set(["opacity","clipPath","filter","transform"]);function VZ(n,t,e,{delay:i=0,duration:s=300,repeat:a=0,repeatType:o="loop",ease:c="easeInOut",times:u}={}){const d={[t]:e};u&&(d.offset=u);const m=J4(c,s);return Array.isArray(m)&&(d.easing=m),n.animate(d,{delay:i,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const kZ=LC(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),WA=10,jZ=2e4;function XZ(n){return qC(n.type)||n.type==="spring"||!K4(n.ease)}function YZ(n,t){const e=new cw({...t,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const s=[];let a=0;for(;!i.done&&a<jZ;)i=e.sample(a),s.push(i.value),a+=WA;return{times:void 0,keyframes:s,duration:a-WA,ease:"linear"}}const L5={anticipate:l5,backInOut:o5,circInOut:u5};function WZ(n){return n in L5}class sD extends E5{constructor(t){super(t);const{name:e,motionValue:i,element:s,keyframes:a}=this.options;this.resolver=new M5(a,(o,c)=>this.onKeyframesResolved(o,c),e,i,s),this.resolver.scheduleResolve()}initPlayback(t,e){let{duration:i=300,times:s,ease:a,type:o,motionValue:c,name:u,startTime:d}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof a=="string"&&kA()&&WZ(a)&&(a=L5[a]),XZ(this.options)){const{onComplete:g,onUpdate:y,motionValue:A,element:b,...T}=this.options,E=YZ(t,T);t=E.keyframes,t.length===1&&(t[1]=t[0]),i=E.duration,s=E.times,a=E.ease,o="keyframes"}const m=VZ(c.owner.current,u,t,{...this.options,duration:i,times:s,ease:a});return m.startTime=d??this.calcStartTime(),this.pendingTimeline?(G3(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:g}=this.options;c.set(K_(t,this.options,e)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:i,times:s,type:o,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:e}=t;return Uc(e)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:e}=t;return Uc(e.currentTime||0)}set time(t){const{resolved:e}=this;if(!e)return;const{animation:i}=e;i.currentTime=Nc(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:e}=t;return e.playbackRate}set speed(t){const{resolved:e}=this;if(!e)return;const{animation:i}=e;i.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:e}=t;return e.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:e}=t;return e.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:e}=this;if(!e)return Ta;const{animation:i}=e;G3(i,t)}return Ta}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.playState==="finished"&&this.updateFinishedPromise(),e.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:e,keyframes:i,duration:s,type:a,ease:o,times:c}=t;if(e.playState==="idle"||e.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:m,onComplete:g,element:y,...A}=this.options,b=new cw({...A,keyframes:i,duration:s,type:a,ease:o,times:c,isGenerator:!0}),T=Nc(this.time);d.setWithVelocity(b.sample(T-WA).value,b.sample(T).value,WA)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:e,name:i,repeatDelay:s,repeatType:a,damping:o,type:c}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=e.owner.getProps();return kZ()&&i&&GZ.has(i)&&!u&&!d&&!s&&a!=="mirror"&&o!==0&&c!=="inertia"}}const qZ={type:"spring",stiffness:500,damping:25,restSpeed:10},KZ=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),JZ={type:"keyframes",duration:.8},ZZ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},QZ=(n,{keyframes:t})=>t.length>2?JZ:$h.has(n)?n.startsWith("scale")?KZ(t[1]):qZ:ZZ;function $Z({when:n,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:c,from:u,elapsed:d,...m}){return!!Object.keys(m).length}const uw=(n,t,e,i={},s,a)=>o=>{const c=WC(i,n)||{},u=c.delay||i.delay||0;let{elapsed:d=0}=i;d=d-Nc(u);let m={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-d,onUpdate:y=>{t.set(y),c.onUpdate&&c.onUpdate(y)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:n,motionValue:t,element:a?void 0:s};$Z(c)||(m={...m,...QZ(n,m)}),m.duration&&(m.duration=Nc(m.duration)),m.repeatDelay&&(m.repeatDelay=Nc(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(g=!0)),g&&!a&&t.get()!==void 0){const y=K_(m.keyframes,c);if(y!==void 0)return Dn.update(()=>{m.onUpdate(y),m.onComplete()}),new AJ([])}return!a&&sD.supports(m)?new sD(m):new cw(m)};function tQ({protectedKeys:n,needsAnimating:t},e){const i=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function N5(n,t,{delay:e=0,transitionOverride:i,type:s}={}){var a;let{transition:o=n.getDefaultTransition(),transitionEnd:c,...u}=t;i&&(o=i);const d=[],m=s&&n.animationState&&n.animationState.getState()[s];for(const g in u){const y=n.getValue(g,(a=n.latestValues[g])!==null&&a!==void 0?a:null),A=u[g];if(A===void 0||m&&tQ(m,g))continue;const b={delay:e,...WC(o||{},g)};let T=!1;if(window.MotionHandoffAnimation){const S=n5(n);if(S){const R=window.MotionHandoffAnimation(S,g,Dn);R!==null&&(b.startTime=R,T=!0)}}SE(n,g),y.start(uw(g,y,A,n.shouldReduceMotion&&e5.has(g)?{type:!1}:b,n,T));const E=y.animation;E&&d.push(E)}return c&&Promise.all(d).then(()=>{Dn.update(()=>{c&&UJ(n,c)})}),d}function RE(n,t,e={}){var i;const s=lv(n,t,e.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=s||{};e.transitionOverride&&(a=e.transitionOverride);const o=s?()=>Promise.all(N5(n,s,e)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:y}=a;return eQ(n,t,m+d,g,y,e)}:()=>Promise.resolve(),{when:u}=a;if(u){const[d,m]=u==="beforeChildren"?[o,c]:[c,o];return d().then(()=>m())}else return Promise.all([o(),c(e.delay)])}function eQ(n,t,e=0,i=0,s=1,a){const o=[],c=(n.variantChildren.size-1)*i,u=s===1?(d=0)=>d*i:(d=0)=>c-d*i;return Array.from(n.variantChildren).sort(nQ).forEach((d,m)=>{d.notify("AnimationStart",t),o.push(RE(d,t,{...a,delay:e+u(m)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function nQ(n,t){return n.sortNodePosition(t)}function iQ(n,t,e={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(a=>RE(n,a,e));i=Promise.all(s)}else if(typeof t=="string")i=RE(n,t,e);else{const s=typeof t=="function"?lv(n,t,e.custom):t;i=Promise.all(N5(n,s,e))}return i.then(()=>{n.notify("AnimationComplete",t)})}function U5(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0}const sQ=UC.length;function O5(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?O5(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<sQ;e++){const i=UC[e],s=n.props[i];(av(s)||s===!1)&&(t[i]=s)}return t}const aQ=[...NC].reverse(),rQ=NC.length;function oQ(n){return t=>Promise.all(t.map(({animation:e,options:i})=>iQ(n,e,i)))}function lQ(n){let t=oQ(n),e=aD(),i=!0;const s=u=>(d,m)=>{var g;const y=lv(n,m,u==="exit"?(g=n.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(y){const{transition:A,transitionEnd:b,...T}=y;d={...d,...T,...b}}return d};function a(u){t=u(n)}function o(u){const{props:d}=n,m=O5(n.parent)||{},g=[],y=new Set;let A={},b=1/0;for(let E=0;E<rQ;E++){const S=aQ[E],R=e[S],B=d[S]!==void 0?d[S]:m[S],D=av(B),U=S===u?R.isActive:null;U===!1&&(b=E);let N=B===m[S]&&B!==d[S]&&D;if(N&&i&&n.manuallyAnimateOnMount&&(N=!1),R.protectedKeys={...A},!R.isActive&&U===null||!B&&!R.prevProp||W_(B)||typeof B=="boolean")continue;const F=cQ(R.prevProp,B);let z=F||S===u&&R.isActive&&!N&&D||E>b&&D,O=!1;const I=Array.isArray(B)?B:[B];let Y=I.reduce(s(S),{});U===!1&&(Y={});const{prevResolvedValues:dt={}}=R,at={...dt,...Y},Q=et=>{z=!0,y.has(et)&&(O=!0,y.delete(et)),R.needsAnimating[et]=!0;const Z=n.getValue(et);Z&&(Z.liveStyle=!1)};for(const et in at){const Z=Y[et],vt=dt[et];if(A.hasOwnProperty(et))continue;let X=!1;xE(Z)&&xE(vt)?X=!U5(Z,vt):X=Z!==vt,X?Z!=null?Q(et):y.add(et):Z!==void 0&&y.has(et)?Q(et):R.protectedKeys[et]=!0}R.prevProp=B,R.prevResolvedValues=Y,R.isActive&&(A={...A,...Y}),i&&n.blockInitialAnimation&&(z=!1),z&&(!(N&&F)||O)&&g.push(...I.map(et=>({animation:et,options:{type:S}})))}if(y.size){const E={};if(typeof d.initial!="boolean"){const S=lv(n,Array.isArray(d.initial)?d.initial[0]:d.initial);S&&S.transition&&(E.transition=S.transition)}y.forEach(S=>{const R=n.getBaseTarget(S),B=n.getValue(S);B&&(B.liveStyle=!0),E[S]=R??null}),g.push({animation:E})}let T=!!g.length;return i&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(T=!1),i=!1,T?t(g):Promise.resolve()}function c(u,d){var m;if(e[u].isActive===d)return Promise.resolve();(m=n.variantChildren)===null||m===void 0||m.forEach(y=>{var A;return(A=y.animationState)===null||A===void 0?void 0:A.setActive(u,d)}),e[u].isActive=d;const g=o(u);for(const y in e)e[y].protectedKeys={};return g}return{animateChanges:o,setActive:c,setAnimateFunction:a,getState:()=>e,reset:()=>{e=aD(),i=!0}}}function cQ(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!U5(t,n):!1}function ch(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function aD(){return{animate:ch(!0),whileInView:ch(),whileHover:ch(),whileTap:ch(),whileDrag:ch(),whileFocus:ch(),exit:ch()}}class af{constructor(t){this.isMounted=!1,this.node=t}update(){}}class uQ extends af{constructor(t){super(t),t.animationState||(t.animationState=lQ(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();W_(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let fQ=0;class hQ extends af{constructor(){super(...arguments),this.id=fQ++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);e&&!t&&s.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const dQ={animation:{Feature:uQ},exit:{Feature:hQ}};function uv(n,t,e,i={passive:!0}){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e)}function Iv(n){return{point:{x:n.pageX,y:n.pageY}}}const pQ=n=>t=>JC(t)&&n(t,Iv(t));function Op(n,t,e,i){return uv(n,t,pQ(e),i)}function P5({top:n,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:n,max:i}}}function mQ({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function gQ(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}const I5=1e-4,vQ=1-I5,yQ=1+I5,F5=.01,xQ=0-F5,AQ=0+F5;function Ma(n){return n.max-n.min}function _Q(n,t,e){return Math.abs(n-t)<=e}function rD(n,t,e,i=.5){n.origin=i,n.originPoint=bi(t.min,t.max,n.origin),n.scale=Ma(e)/Ma(t),n.translate=bi(e.min,e.max,n.origin)-n.originPoint,(n.scale>=vQ&&n.scale<=yQ||isNaN(n.scale))&&(n.scale=1),(n.translate>=xQ&&n.translate<=AQ||isNaN(n.translate))&&(n.translate=0)}function U0(n,t,e,i){rD(n.x,t.x,e.x,i?i.originX:void 0),rD(n.y,t.y,e.y,i?i.originY:void 0)}function oD(n,t,e){n.min=e.min+t.min,n.max=n.min+Ma(t)}function SQ(n,t,e){oD(n.x,t.x,e.x),oD(n.y,t.y,e.y)}function lD(n,t,e){n.min=t.min-e.min,n.max=n.min+Ma(t)}function O0(n,t,e){lD(n.x,t.x,e.x),lD(n.y,t.y,e.y)}const cD=()=>({translate:0,scale:1,origin:0,originPoint:0}),Pp=()=>({x:cD(),y:cD()}),uD=()=>({min:0,max:0}),Gi=()=>({x:uD(),y:uD()});function Ir(n){return[n("x"),n("y")]}function cM(n){return n===void 0||n===1}function BE({scale:n,scaleX:t,scaleY:e}){return!cM(n)||!cM(t)||!cM(e)}function vh(n){return BE(n)||z5(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function z5(n){return fD(n.x)||fD(n.y)}function fD(n){return n&&n!=="0%"}function qA(n,t,e){const i=n-e,s=t*i;return e+s}function hD(n,t,e,i,s){return s!==void 0&&(n=qA(n,s,i)),qA(n,e,i)+t}function DE(n,t=0,e=1,i,s){n.min=hD(n.min,t,e,i,s),n.max=hD(n.max,t,e,i,s)}function H5(n,{x:t,y:e}){DE(n.x,t.translate,t.scale,t.originPoint),DE(n.y,e.translate,e.scale,e.originPoint)}const dD=.999999999999,pD=1.0000000000001;function bQ(n,t,e,i=!1){const s=e.length;if(!s)return;t.x=t.y=1;let a,o;for(let c=0;c<s;c++){a=e[c],o=a.projectionDelta;const{visualElement:u}=a.options;u&&u.props.style&&u.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Fp(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,H5(n,o)),i&&vh(a.latestValues)&&Fp(n,a.latestValues))}t.x<pD&&t.x>dD&&(t.x=1),t.y<pD&&t.y>dD&&(t.y=1)}function Ip(n,t){n.min=n.min+t,n.max=n.max+t}function mD(n,t,e,i,s=.5){const a=bi(n.min,n.max,s);DE(n,t,e,a,i)}function Fp(n,t){mD(n.x,t.x,t.scaleX,t.scale,t.originX),mD(n.y,t.y,t.scaleY,t.scale,t.originY)}function G5(n,t){return P5(gQ(n.getBoundingClientRect(),t))}function MQ(n,t,e){const i=G5(n,e),{scroll:s}=t;return s&&(Ip(i.x,s.offset.x),Ip(i.y,s.offset.y)),i}const gD=(n,t)=>Math.abs(n-t);function EQ(n,t){const e=gD(n.x,t.x),i=gD(n.y,t.y);return Math.sqrt(e**2+i**2)}class V5{constructor(t,e,{transformPagePoint:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=fM(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,y=EQ(m.offset,{x:0,y:0})>=3;if(!g&&!y)return;const{point:A}=m,{timestamp:b}=bs;this.history.push({...A,timestamp:b});const{onStart:T,onMove:E}=this.handlers;g||(T&&T(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,m)},this.handlePointerMove=(m,g)=>{if(m.currentTarget instanceof Element&&m.currentTarget.hasPointerCapture&&m.pointerId!==void 0)try{if(!m.currentTarget.hasPointerCapture(m.pointerId))return}catch{}this.lastMoveEvent=m,this.lastMoveEventInfo=uM(g,this.transformPagePoint),Dn.update(this.updatePoint,!0)},this.handlePointerUp=(m,g)=>{jA(m,"release"),this.end();const{onEnd:y,onSessionEnd:A,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=fM(m.type==="pointercancel"||m.type==="lostpointercapture"?this.lastMoveEventInfo:uM(g,this.transformPagePoint),this.history);this.startEvent&&y&&y(m,T),A&&A(m,T)},!JC(t))return;this.dragSnapToOrigin=s,this.handlers=e,this.transformPagePoint=i;const a=Iv(t),o=uM(a,this.transformPagePoint),{point:c}=o,{timestamp:u}=bs;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=e;d&&d(t,fM(o,this.history)),jA(t,"set"),this.removeListeners=Pv(Op(t.currentTarget,"pointermove",this.handlePointerMove),Op(t.currentTarget,"pointerup",this.handlePointerUp),Op(t.currentTarget,"pointercancel",this.handlePointerUp),Op(t.currentTarget,"lostpointercapture",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Po(this.updatePoint)}}function uM(n,t){return t?{point:t(n.point)}:n}function vD(n,t){return{x:n.x-t.x,y:n.y-t.y}}function fM({point:n},t){return{point:n,delta:vD(n,k5(t)),offset:vD(n,TQ(t)),velocity:CQ(t,.1)}}function TQ(n){return n[0]}function k5(n){return n[n.length-1]}function CQ(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,i=null;const s=k5(n);for(;e>=0&&(i=n[e],!(s.timestamp-i.timestamp>Nc(t)));)e--;if(!i)return{x:0,y:0};const a=Uc(s.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const o={x:(s.x-i.x)/a,y:(s.y-i.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function wQ(n,{min:t,max:e},i){return t!==void 0&&n<t?n=i?bi(t,n,i.min):Math.max(n,t):e!==void 0&&n>e&&(n=i?bi(e,n,i.max):Math.min(n,e)),n}function yD(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function RQ(n,{top:t,left:e,bottom:i,right:s}){return{x:yD(n.x,e,s),y:yD(n.y,t,i)}}function xD(n,t){let e=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,i]=[i,e]),{min:e,max:i}}function BQ(n,t){return{x:xD(n.x,t.x),y:xD(n.y,t.y)}}function DQ(n,t){let e=.5;const i=Ma(n),s=Ma(t);return s>i?e=qh(t.min,t.max-i,n.min):i>s&&(e=qh(n.min,n.max-s,t.min)),Il(0,1,e)}function LQ(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const LE=.35;function NQ(n=LE){return n===!1?n=0:n===!0&&(n=LE),{x:AD(n,"left","right"),y:AD(n,"top","bottom")}}function AD(n,t,e){return{min:_D(n,t),max:_D(n,e)}}function _D(n,t){return typeof n=="number"?n:n[t]||0}const UQ=new WeakMap;class OQ{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Gi(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(Iv(m).point)},a=(m,g)=>{const{drag:y,dragPropagation:A,onDragStart:b}=this.getProps();if(y&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=RJ(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ir(E=>{let S=this.getAxisMotionValue(E).get()||0;if(Dl.test(S)){const{projection:R}=this.visualElement;if(R&&R.layout){const B=R.layout.layoutBox[E];B&&(S=Ma(B)*(parseFloat(S)/100))}}this.originPoint[E]=S}),b&&Dn.postRender(()=>b(m,g)),SE(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},o=(m,g)=>{const{dragPropagation:y,dragDirectionLock:A,onDirectionLock:b,onDrag:T}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:E}=g;if(A&&this.currentDirection===null){this.currentDirection=PQ(E),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",g.point,E),this.updateAxis("y",g.point,E),this.visualElement.render(),T&&T(m,g)},c=(m,g)=>this.stop(m,g),u=()=>Ir(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new V5(t,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d})}stop(t,e){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=e;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Dn.postRender(()=>a(t,e))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,i){const{drag:s}=this.getProps();if(!i||!vx(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(o=wQ(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:e,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;e&&Np(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=RQ(s.layoutBox,e):this.constraints=!1,this.elastic=NQ(i),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ir(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=LQ(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Np(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=MQ(i,s.root,this.visualElement.getTransformPagePoint());let o=BQ(s.layout.layoutBox,a);if(e){const c=e(mQ(o));this.hasMutatedConstraints=!!c,c&&(o=P5(c))}return o}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:s,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},d=Ir(m=>{if(!vx(m,e,this.currentDirection))return;let g=u&&u[m]||{};o&&(g={min:0,max:0});const y=s?200:1e6,A=s?40:1e7,b={type:"inertia",velocity:i?t[m]:0,bounceStiffness:y,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(m,b)});return Promise.all(d).then(c)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return SE(this.visualElement,t),i.start(uw(t,i,0,e,this.visualElement,!1))}stopAnimation(){Ir(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ir(t=>{var e;return(e=this.getAxisMotionValue(t).animation)===null||e===void 0?void 0:e.pause()})}getAnimationState(t){var e;return(e=this.getAxisMotionValue(t).animation)===null||e===void 0?void 0:e.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[e];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Ir(e=>{const{drag:i}=this.getProps();if(!vx(e,i,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(e);if(s&&s.layout){const{min:o,max:c}=s.layout.layoutBox[e];a.set(t[e]-bi(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!Np(e)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ir(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const u=c.get();s[o]=DQ({min:u,max:u},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ir(o=>{if(!vx(o,t,null))return;const c=this.getAxisMotionValue(o),{min:u,max:d}=this.constraints[o];c.set(bi(u,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;UQ.set(this.visualElement,this);const t=this.visualElement.current,e=Op(t,"pointerdown",u=>{const{drag:d,dragListener:m=!0}=this.getProps();d&&m&&this.start(u)}),i=()=>{const{dragConstraints:u}=this.getProps();Np(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Dn.read(i);const o=uv(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(Ir(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=u[m].translate,g.set(g.get()+u[m].translate))}),this.visualElement.render())});return()=>{o(),e(),a(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:o=LE,dragMomentum:c=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:s,dragConstraints:a,dragElastic:o,dragMomentum:c}}}function vx(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function PQ(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class IQ extends af{constructor(t){super(t),this.removeGroupControls=Ta,this.removeListeners=Ta,this.controls=new OQ(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ta}unmount(){this.removeGroupControls(),this.removeListeners()}}const SD=n=>(t,e)=>{n&&Dn.postRender(()=>n(t,e))};class FQ extends af{constructor(){super(...arguments),this.removePointerDownListener=Ta}onPointerDown(t){this.session=new V5(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:SD(t),onStart:SD(e),onMove:i,onEnd:(a,o)=>{delete this.session,s&&Dn.postRender(()=>s(a,o))}}}mount(){this.removePointerDownListener=Op(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ix={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bD(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const $g={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(Fe.test(n))n=parseFloat(n);else return n;const e=bD(n,t.target.x),i=bD(n,t.target.y);return`${e}% ${i}%`}},zQ={correct:(n,{treeScale:t,projectionDelta:e})=>{const i=n,s=Zu.parse(n);if(s.length>5)return i;const a=Zu.createTransformer(n),o=typeof s[0]!="number"?1:0,c=e.x.scale*t.x,u=e.y.scale*t.y;s[0+o]/=c,s[1+o]/=u;const d=bi(c,u,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),a(s)}};class HQ extends J.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:s}=this.props,{projection:a}=t;qK(GQ),a&&(e.group&&e.group.add(a),i&&i.register&&s&&i.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ix.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:s,isPresent:a}=this.props,o=i.projection;return o&&(o.isPresent=a,s||t.layoutDependency!==e||e===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||Dn.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),PC.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function j5(n){const[t,e]=T4(),i=J.useContext(BC);return G.jsx(HQ,{...n,layoutGroup:i,switchLayoutGroup:J.useContext(N4),isPresent:t,safeToRemove:e})}const GQ={borderRadius:{...$g,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$g,borderTopRightRadius:$g,borderBottomLeftRadius:$g,borderBottomRightRadius:$g,boxShadow:zQ};function VQ(n,t,e){const i=ia(n)?n:El(n);return i.start(uw("",i,t,e)),i.animation}function kQ(n){return n instanceof SVGElement&&n.tagName!=="svg"}const jQ=(n,t)=>n.depth-t.depth;class XQ{constructor(){this.children=[],this.isDirty=!1}add(t){ZC(this.children,t),this.isDirty=!0}remove(t){QC(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(jQ),this.isDirty=!1,this.children.forEach(t)}}function YQ(n,t){const e=Ll.now(),i=({timestamp:s})=>{const a=s-e;a>=t&&(Po(i),n(a-t))};return Dn.read(i,!0),()=>Po(i)}const X5=["TopLeft","TopRight","BottomLeft","BottomRight"],WQ=X5.length,MD=n=>typeof n=="string"?parseFloat(n):n,ED=n=>typeof n=="number"||Fe.test(n);function qQ(n,t,e,i,s,a){s?(n.opacity=bi(0,e.opacity!==void 0?e.opacity:1,KQ(i)),n.opacityExit=bi(t.opacity!==void 0?t.opacity:1,0,JQ(i))):a&&(n.opacity=bi(t.opacity!==void 0?t.opacity:1,e.opacity!==void 0?e.opacity:1,i));for(let o=0;o<WQ;o++){const c=`border${X5[o]}Radius`;let u=TD(t,c),d=TD(e,c);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||ED(u)===ED(d)?(n[c]=Math.max(bi(MD(u),MD(d),i),0),(Dl.test(d)||Dl.test(u))&&(n[c]+="%")):n[c]=d}(t.rotate||e.rotate)&&(n.rotate=bi(t.rotate||0,e.rotate||0,i))}function TD(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const KQ=Y5(0,.5,c5),JQ=Y5(.5,.95,Ta);function Y5(n,t,e){return i=>i<n?0:i>t?1:e(qh(n,t,i))}function CD(n,t){n.min=t.min,n.max=t.max}function Ur(n,t){CD(n.x,t.x),CD(n.y,t.y)}function wD(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function RD(n,t,e,i,s){return n-=t,n=qA(n,1/e,i),s!==void 0&&(n=qA(n,1/s,i)),n}function ZQ(n,t=0,e=1,i=.5,s,a=n,o=n){if(Dl.test(t)&&(t=parseFloat(t),t=bi(o.min,o.max,t/100)-o.min),typeof t!="number")return;let c=bi(a.min,a.max,i);n===a&&(c-=t),n.min=RD(n.min,t,e,c,s),n.max=RD(n.max,t,e,c,s)}function BD(n,t,[e,i,s],a,o){ZQ(n,t[e],t[i],t[s],t.scale,a,o)}const QQ=["x","scaleX","originX"],$Q=["y","scaleY","originY"];function DD(n,t,e,i){BD(n.x,t,QQ,e?e.x:void 0,i?i.x:void 0),BD(n.y,t,$Q,e?e.y:void 0,i?i.y:void 0)}function LD(n){return n.translate===0&&n.scale===1}function W5(n){return LD(n.x)&&LD(n.y)}function ND(n,t){return n.min===t.min&&n.max===t.max}function t$(n,t){return ND(n.x,t.x)&&ND(n.y,t.y)}function UD(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function q5(n,t){return UD(n.x,t.x)&&UD(n.y,t.y)}function OD(n){return Ma(n.x)/Ma(n.y)}function PD(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class e${constructor(){this.members=[]}add(t){ZC(this.members,t),t.scheduleRender()}remove(t){if(QC(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(s=>t===s);if(e===0)return!1;let i;for(let s=e;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function n$(n,t,e){let i="";const s=n.x.translate/t.x,a=n.y.translate/t.y,o=(e==null?void 0:e.z)||0;if((s||a||o)&&(i=`translate3d(${s}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:d,rotate:m,rotateX:g,rotateY:y,skewX:A,skewY:b}=e;d&&(i=`perspective(${d}px) ${i}`),m&&(i+=`rotate(${m}deg) `),g&&(i+=`rotateX(${g}deg) `),y&&(i+=`rotateY(${y}deg) `),A&&(i+=`skewX(${A}deg) `),b&&(i+=`skewY(${b}deg) `)}const c=n.x.scale*t.x,u=n.y.scale*t.y;return(c!==1||u!==1)&&(i+=`scale(${c}, ${u})`),i||"none"}const hM=["","X","Y","Z"],i$={visibility:"hidden"},ID=1e3;let s$=0;function dM(n,t,e,i){const{latestValues:s}=t;s[n]&&(e[n]=s[n],t.setStaticValue(n,0),i&&(i[n]=0))}function K5(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=n5(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:s,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",Dn,!(s||a))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&K5(i)}function J5({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(o={},c=t==null?void 0:t()){this.id=s$++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(o$),this.nodes.forEach(h$),this.nodes.forEach(d$),this.nodes.forEach(l$)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new XQ)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new $C),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const u=this.eventHandlers.get(o);u&&u.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=kQ(o),this.instance=o;const{layoutId:u,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(d||u)&&(this.isLayoutDirty=!0),n){let g;const y=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=YQ(y,250),Ix.hasAnimatedSinceResize&&(Ix.hasAnimatedSinceResize=!1,this.nodes.forEach(zD))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&m&&(u||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:A,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||m.getDefaultTransition()||y$,{onLayoutAnimationStart:E,onLayoutAnimationComplete:S}=m.getProps(),R=!this.targetLayout||!q5(this.targetLayout,b),B=!y&&A;if(this.options.layoutRoot||this.resumeFrom||B||y&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,B);const D={...WC(T,"layout"),onPlay:E,onComplete:S};(m.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D)}else y||zD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Po(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(p$),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&K5(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(FD);return}this.isUpdating||this.nodes.forEach(u$),this.isUpdating=!1,this.nodes.forEach(f$),this.nodes.forEach(a$),this.nodes.forEach(r$),this.clearAllSnapshots();const c=Ll.now();bs.delta=Il(0,1e3/60,c-bs.timestamp),bs.timestamp=c,bs.isProcessing=!0,sM.update.process(bs),sM.preRender.process(bs),sM.render.process(bs),bs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,PC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(c$),this.sharedNodes.forEach(m$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Dn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Dn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ma(this.snapshot.measuredBox.x)&&!Ma(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Gi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c){const u=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!W5(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,m=d!==this.prevTransformTemplateValue;o&&(c||vh(this.latestValues)||m)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return o&&(u=this.removeTransform(u)),x$(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:c}=this.options;if(!c)return Gi();const u=c.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(A$))){const{scroll:m}=this.root;m&&(Ip(u.x,m.offset.x),Ip(u.y,m.offset.y))}return u}removeElementScroll(o){var c;const u=Gi();if(Ur(u,o),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return u;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:g,options:y}=m;m!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&Ur(u,o),Ip(u.x,g.offset.x),Ip(u.y,g.offset.y))}return u}applyTransform(o,c=!1){const u=Gi();Ur(u,o);for(let d=0;d<this.path.length;d++){const m=this.path[d];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Fp(u,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),vh(m.latestValues)&&Fp(u,m.latestValues)}return vh(this.latestValues)&&Fp(u,this.latestValues),u}removeTransform(o){const c=Gi();Ur(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!vh(d.latestValues))continue;BE(d.latestValues)&&d.updateSnapshot();const m=Gi(),g=d.measurePageBox();Ur(m,g),DD(c,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,m)}return vh(this.latestValues)&&DD(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var c;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=bs.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gi(),this.relativeTargetOrigin=Gi(),O0(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),Ur(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Gi(),this.targetWithTransforms=Gi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),SQ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ur(this.target,this.layout.layoutBox),H5(this.target,this.targetDelta)):Ur(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gi(),this.relativeTargetOrigin=Gi(),O0(this.relativeTargetOrigin,this.target,A.target),Ur(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||BE(this.parent.latestValues)||z5(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===bs.timestamp&&(d=!1),d)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Ur(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,A=this.treeScale.y;bQ(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Gi());const{target:b}=c;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(wD(this.prevProjectionDelta.x,this.projectionDelta.x),wD(this.prevProjectionDelta.y,this.projectionDelta.y)),U0(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==A||!PD(this.projectionDelta.x,this.prevProjectionDelta.x)||!PD(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Pp(),this.projectionDelta=Pp(),this.projectionDeltaWithTransform=Pp()}setAnimationOrigin(o,c=!1){const u=this.snapshot,d=u?u.latestValues:{},m={...this.latestValues},g=Pp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const y=Gi(),A=u?u.source:void 0,b=this.layout?this.layout.source:void 0,T=A!==b,E=this.getStack(),S=!E||E.members.length<=1,R=!!(T&&!S&&this.options.crossfade===!0&&!this.path.some(v$));this.animationProgress=0;let B;this.mixTargetDelta=D=>{const U=D/1e3;HD(g.x,o.x,U),HD(g.y,o.y,U),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(O0(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),g$(this.relativeTarget,this.relativeTargetOrigin,y,U),B&&t$(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=Gi()),Ur(B,this.relativeTarget)),T&&(this.animationValues=m,qQ(m,d,this.latestValues,U,R,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Po(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Dn.update(()=>{Ix.hasAnimatedSinceResize=!0,this.currentAnimation=VQ(0,ID,{...o,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ID),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:u,layout:d,latestValues:m}=o;if(!(!c||!u||!d)){if(this!==o&&this.layout&&d&&Z5(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||Gi();const g=Ma(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+g;const y=Ma(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+y}Ur(c,u),Fp(c,m),U0(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new e$),this.sharedNodes.get(o).add(c);const d=c.options.initialPromotionConfig;c.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:c}=this.options;return c?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:c}=this.options;return c?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const d={};u.z&&dM("z",o,d,this.animationValues);for(let m=0;m<hM.length;m++)dM(`rotate${hM[m]}`,o,d,this.animationValues),dM(`skew${hM[m]}`,o,d,this.animationValues);o.render();for(const m in d)o.setStaticValue(m,d[m]),this.animationValues&&(this.animationValues[m]=d[m]);o.scheduleRender()}getProjectionStyles(o){var c,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return i$;const d={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Ox(o==null?void 0:o.pointerEvents)||"",d.transform=m?m(this.latestValues,""):"none",d;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=Ox(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!vh(this.latestValues)&&(T.transform=m?m({},""):"none",this.hasProjected=!1),T}const y=g.animationValues||g.latestValues;this.applyTransformsToTarget(),d.transform=n$(this.projectionDeltaWithTransform,this.treeScale,y),m&&(d.transform=m(y,d.transform));const{x:A,y:b}=this.projectionDelta;d.transformOrigin=`${A.origin*100}% ${b.origin*100}% 0`,g.animationValues?d.opacity=g===this?(u=(c=y.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:d.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const T in rv){if(y[T]===void 0)continue;const{correct:E,applyTo:S,isCSSVariable:R}=rv[T],B=d.transform==="none"?y[T]:E(y[T],g);if(S){const D=S.length;for(let U=0;U<D;U++)d[S[U]]=B}else R?this.options.visualElement.renderState.vars[T]=B:d[T]=B}return this.options.layoutId&&(d.pointerEvents=g===this?Ox(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var c;return(c=o.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(FD),this.root.sharedNodes.clear()}}}function a$(n){n.updateLayout()}function r$(n){var t;const e=((t=n.resumeFrom)===null||t===void 0?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=n.layout,{animationType:a}=n.options,o=e.source!==n.layout.source;a==="size"?Ir(g=>{const y=o?e.measuredBox[g]:e.layoutBox[g],A=Ma(y);y.min=i[g].min,y.max=y.min+A}):Z5(a,e.layoutBox,i)&&Ir(g=>{const y=o?e.measuredBox[g]:e.layoutBox[g],A=Ma(i[g]);y.max=y.min+A,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+A)});const c=Pp();U0(c,i,e.layoutBox);const u=Pp();o?U0(u,n.applyTransform(s,!0),e.measuredBox):U0(u,i,e.layoutBox);const d=!W5(c);let m=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:A}=g;if(y&&A){const b=Gi();O0(b,e.layoutBox,y.layoutBox);const T=Gi();O0(T,i,A.layoutBox),q5(b,T)||(m=!0),g.options.layoutRoot&&(n.relativeTarget=T,n.relativeTargetOrigin=b,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:u,layoutDelta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function o$(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function l$(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function c$(n){n.clearSnapshot()}function FD(n){n.clearMeasurements()}function u$(n){n.isLayoutDirty=!1}function f$(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function zD(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function h$(n){n.resolveTargetDelta()}function d$(n){n.calcProjection()}function p$(n){n.resetSkewAndRotation()}function m$(n){n.removeLeadSnapshot()}function HD(n,t,e){n.translate=bi(t.translate,0,e),n.scale=bi(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function GD(n,t,e,i){n.min=bi(t.min,e.min,i),n.max=bi(t.max,e.max,i)}function g$(n,t,e,i){GD(n.x,t.x,e.x,i),GD(n.y,t.y,e.y,i)}function v$(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const y$={duration:.45,ease:[.4,0,.1,1]},VD=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),kD=VD("applewebkit/")&&!VD("chrome/")?Math.round:Ta;function jD(n){n.min=kD(n.min),n.max=kD(n.max)}function x$(n){jD(n.x),jD(n.y)}function Z5(n,t,e){return n==="position"||n==="preserve-aspect"&&!_Q(OD(t),OD(e),.2)}function A$(n){var t;return n!==n.root&&((t=n.scroll)===null||t===void 0?void 0:t.wasRoot)}const _$=J5({attachResizeListener:(n,t)=>uv(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pM={current:void 0},Q5=J5({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!pM.current){const n=new _$({});n.mount(window),n.setOptions({layoutScroll:!0}),pM.current=n}return pM.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),S$={pan:{Feature:FQ},drag:{Feature:IQ,ProjectionNode:Q5,MeasureLayout:j5}};function XD(n,t,e){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",e==="Start");const s="onHover"+e,a=i[s];a&&Dn.postRender(()=>a(t,Iv(t)))}class b$ extends af{mount(){const{current:t}=this.node;t&&(this.unmount=bJ(t,(e,i)=>(XD(this.node,i,"Start"),s=>XD(this.node,s,"End"))))}unmount(){}}class M$ extends af{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pv(uv(this.node.current,"focus",()=>this.onFocus()),uv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function YD(n,t,e){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",e==="Start");const s="onTap"+(e==="End"?"":e),a=i[s];a&&Dn.postRender(()=>a(t,Iv(t)))}class E$ extends af{mount(){const{current:t}=this.node;t&&(this.unmount=CJ(t,(e,i)=>(YD(this.node,i,"Start"),(s,{success:a})=>YD(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const NE=new WeakMap,mM=new WeakMap,T$=n=>{const t=NE.get(n.target);t&&t(n)},C$=n=>{n.forEach(T$)};function w$({root:n,...t}){const e=n||document;mM.has(e)||mM.set(e,{});const i=mM.get(e),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(C$,{root:n,...t})),i[s]}function R$(n,t,e){const i=w$(t);return NE.set(n,e),i.observe(n),()=>{NE.delete(n),i.unobserve(n)}}const B$={some:0,all:1};class D$ extends af{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:s="some",once:a}=t,o={root:e?e.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:B$[s]},c=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),y=d?m:g;y&&y(u)};return R$(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(L$(t,e))&&this.startObserver()}unmount(){}}function L$({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const N$={inView:{Feature:D$},tap:{Feature:E$},focus:{Feature:M$},hover:{Feature:b$}},U$={layout:{ProjectionNode:Q5,MeasureLayout:j5}},UE={current:null},$5={current:!1};function O$(){if($5.current=!0,!!DC)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>UE.current=n.matches;n.addListener(t),t()}else UE.current=!1}const P$=[...b5,ta,Zu],I$=n=>P$.find(S5(n)),F$=new WeakMap;function z$(n,t,e){for(const i in t){const s=t[i],a=e[i];if(ia(s))n.addValue(i,s);else if(ia(a))n.addValue(i,El(s,{owner:n}));else if(a!==s)if(n.hasValue(i)){const o=n.getValue(i);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=n.getStaticValue(i);n.addValue(i,El(o!==void 0?o:s,{owner:n}))}}for(const i in e)t[i]===void 0&&n.removeValue(i);return t}const WD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class H${scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:a,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=rw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=Ll.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,Dn.render(this.render,!1,!0))};const{latestValues:u,renderState:d,onUpdate:m}=o;this.onUpdate=m,this.latestValues=u,this.baseTarget={...u},this.initialValues=e.initial?{...u}:{},this.renderState=d,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=q_(e),this.isVariantNode=D4(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(e,{},this);for(const A in y){const b=y[A];u[A]!==void 0&&ia(b)&&b.set(u[A],!1)}}mount(t){this.current=t,F$.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),$5.current||O$(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:UE.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Po(this.notifyUpdate),Po(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=$h.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Dn.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=e.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{s(),a(),o&&o(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in nm){const e=nm[t];if(!e)continue;const{isEnabled:i,Feature:s}=e;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Gi()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<WD.length;i++){const s=WD[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,o=t[a];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=z$(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=El(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){var i;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(i=this.getBaseTargetFromProps(this.props,t))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(A5(s)||f5(s))?s=parseFloat(s):!I$(s)&&Zu.test(e)&&(s=v5(t,e)),this.setBaseTarget(t,ia(s)?s.get():s)),ia(s)?s.get():s}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;const{initial:i}=this.props;let s;if(typeof i=="string"||typeof i=="object"){const o=XC(this.props,i,(e=this.presenceContext)===null||e===void 0?void 0:e.custom);o&&(s=o[t])}if(i&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ia(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new $C),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class tI extends H${constructor(){super(...arguments),this.KeyframeResolver=M5}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ia(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function G$(n){return window.getComputedStyle(n)}class V$ extends tI{constructor(){super(...arguments),this.type="html",this.renderInstance=V4}readValueFromInstance(t,e){if($h.has(e)){const i=aw(e);return i&&i.default||0}else{const i=G$(t),s=(IC(e)?i.getPropertyValue(e):i[e])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:e}){return G5(t,e)}build(t,e,i){HC(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return YC(t,e,i)}}class k$ extends tI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Gi,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&G4(this.current,this.renderState)}}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if($h.has(e)){const i=aw(e);return i&&i.default||0}return e=k4.has(e)?e:OC(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return X4(t,e,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&Dn.postRender(this.updateDimensions)}build(t,e,i){kC(t,e,this.isSVGTag,i.transformTemplate)}renderInstance(t,e,i,s){j4(t,e,i,s)}mount(t){this.isSVGTag=jC(t.tagName),super.mount(t)}}const j$=(n,t)=>VC(n)?new k$(t):new V$(t,{allowProjection:n!==J.Fragment}),X$=yJ({...dQ,...N$,...S$,...U$},j$),Fx=UK(X$);function eI(n,t){let e;const i=()=>{const{currentTime:s}=t,o=(s===null?0:s.value)/100;e!==o&&n(o),e=o};return Dn.update(i,!0),()=>Po(i)}const zx=new WeakMap;let zu;function Y$(n,t){if(t){const{inlineSize:e,blockSize:i}=t[0];return{width:e,height:i}}else return n instanceof SVGElement&&"getBBox"in n?n.getBBox():{width:n.offsetWidth,height:n.offsetHeight}}function W$({target:n,contentRect:t,borderBoxSize:e}){var i;(i=zx.get(n))===null||i===void 0||i.forEach(s=>{s({target:n,contentSize:t,get size(){return Y$(n,e)}})})}function q$(n){n.forEach(W$)}function K$(){typeof ResizeObserver>"u"||(zu=new ResizeObserver(q$))}function J$(n,t){zu||K$();const e=Q4(n);return e.forEach(i=>{let s=zx.get(i);s||(s=new Set,zx.set(i,s)),s.add(t),zu==null||zu.observe(i)}),()=>{e.forEach(i=>{const s=zx.get(i);s==null||s.delete(t),s!=null&&s.size||zu==null||zu.unobserve(i)})}}const Hx=new Set;let P0;function Z$(){P0=()=>{const n={width:window.innerWidth,height:window.innerHeight},t={target:window,size:n,contentSize:n};Hx.forEach(e=>e(t))},window.addEventListener("resize",P0)}function Q$(n){return Hx.add(n),P0||Z$(),()=>{Hx.delete(n),!Hx.size&&P0&&(P0=void 0)}}function $$(n,t){return typeof n=="function"?Q$(n):J$(n,t)}const ttt=50,qD=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),ett=()=>({time:0,x:qD(),y:qD()}),ntt={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function KD(n,t,e,i){const s=e[t],{length:a,position:o}=ntt[t],c=s.current,u=e.time;s.current=n[`scroll${o}`],s.scrollLength=n[`scroll${a}`]-n[`client${a}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=qh(0,s.scrollLength,s.current);const d=i-u;s.velocity=d>ttt?0:tw(s.current-c,d)}function itt(n,t,e){KD(n,"x",t,e),KD(n,"y",t,e),t.time=e}function stt(n,t){const e={x:0,y:0};let i=n;for(;i&&i!==t;)if(i instanceof HTMLElement)e.x+=i.offsetLeft,e.y+=i.offsetTop,i=i.offsetParent;else if(i.tagName==="svg"){const s=i.getBoundingClientRect();i=i.parentElement;const a=i.getBoundingClientRect();e.x+=s.left-a.left,e.y+=s.top-a.top}else if(i instanceof SVGGraphicsElement){const{x:s,y:a}=i.getBBox();e.x+=s,e.y+=a;let o=null,c=i.parentNode;for(;!o;)c.tagName==="svg"&&(o=c),c=i.parentNode;i=o}else break;return e}const OE={start:0,center:.5,end:1};function JD(n,t,e=0){let i=0;if(n in OE&&(n=OE[n]),typeof n=="string"){const s=parseFloat(n);n.endsWith("px")?i=s:n.endsWith("%")?n=s/100:n.endsWith("vw")?i=s/100*document.documentElement.clientWidth:n.endsWith("vh")?i=s/100*document.documentElement.clientHeight:n=s}return typeof n=="number"&&(i=t*n),e+i}const att=[0,0];function rtt(n,t,e,i){let s=Array.isArray(n)?n:att,a=0,o=0;return typeof n=="number"?s=[n,n]:typeof n=="string"&&(n=n.trim(),n.includes(" ")?s=n.split(" "):s=[n,OE[n]?n:"0"]),a=JD(s[0],e,i),o=JD(s[1],t),a-o}const ott={All:[[0,0],[1,1]]},ltt={x:0,y:0};function ctt(n){return"getBBox"in n&&n.tagName!=="svg"?n.getBBox():{width:n.clientWidth,height:n.clientHeight}}function utt(n,t,e){const{offset:i=ott.All}=e,{target:s=n,axis:a="y"}=e,o=a==="y"?"height":"width",c=s!==n?stt(s,n):ltt,u=s===n?{width:n.scrollWidth,height:n.scrollHeight}:ctt(s),d={width:n.clientWidth,height:n.clientHeight};t[a].offset.length=0;let m=!t[a].interpolate;const g=i.length;for(let y=0;y<g;y++){const A=rtt(i[y],d[o],u[o],c[a]);!m&&A!==t[a].interpolatorOffsets[y]&&(m=!0),t[a].offset[y]=A}m&&(t[a].interpolate=lw(t[a].offset,D5(i),{clamp:!1}),t[a].interpolatorOffsets=[...t[a].offset]),t[a].progress=Il(0,1,t[a].interpolate(t[a].current))}function ftt(n,t=n,e){if(e.x.targetOffset=0,e.y.targetOffset=0,t!==n){let i=t;for(;i&&i!==n;)e.x.targetOffset+=i.offsetLeft,e.y.targetOffset+=i.offsetTop,i=i.offsetParent}e.x.targetLength=t===n?t.scrollWidth:t.clientWidth,e.y.targetLength=t===n?t.scrollHeight:t.clientHeight,e.x.containerLength=n.clientWidth,e.y.containerLength=n.clientHeight}function htt(n,t,e,i={}){return{measure:()=>ftt(n,i.target,e),update:s=>{itt(n,e,s),(i.offset||i.target)&&utt(n,e,i)},notify:()=>t(e)}}const t0=new WeakMap,ZD=new WeakMap,gM=new WeakMap,QD=n=>n===document.documentElement?window:n;function fw(n,{container:t=document.documentElement,...e}={}){let i=gM.get(t);i||(i=new Set,gM.set(t,i));const s=ett(),a=htt(t,n,s,e);if(i.add(a),!t0.has(t)){const c=()=>{for(const y of i)y.measure()},u=()=>{for(const y of i)y.update(bs.timestamp)},d=()=>{for(const y of i)y.notify()},m=()=>{Dn.read(c,!1,!0),Dn.read(u,!1,!0),Dn.update(d,!1,!0)};t0.set(t,m);const g=QD(t);window.addEventListener("resize",m,{passive:!0}),t!==document.documentElement&&ZD.set(t,$$(t,m)),g.addEventListener("scroll",m,{passive:!0})}const o=t0.get(t);return Dn.read(o,!1,!0),()=>{var c;Po(o);const u=gM.get(t);if(!u||(u.delete(a),u.size))return;const d=t0.get(t);t0.delete(t),d&&(QD(t).removeEventListener("scroll",d),(c=ZD.get(t))===null||c===void 0||c(),window.removeEventListener("resize",d))}}function dtt({source:n,container:t,axis:e="y"}){n&&(t=n);const i={value:0},s=fw(a=>{i.value=a[e].progress*100},{container:t,axis:e});return{currentTime:i,cancel:s}}const vM=new Map;function nI({source:n,container:t=document.documentElement,axis:e="y"}={}){n&&(t=n),vM.has(t)||vM.set(t,{});const i=vM.get(t);return i[e]||(i[e]=Y4()?new ScrollTimeline({source:t,axis:e}):dtt({source:t,axis:e})),i[e]}function ptt(n){return n.length===2}function iI(n){return n&&(n.target||n.offset)}function mtt(n,t){return ptt(n)||iI(t)?fw(e=>{n(e[t.axis].progress,e)},t):eI(n,nI(t))}function gtt(n,t){if(n.flatten(),iI(t))return n.pause(),fw(e=>{n.time=n.duration*e[t.axis].progress},t);{const e=nI(t);return n.attachTimeline?n.attachTimeline(e,i=>(i.pause(),eI(s=>{i.time=i.duration*s},e))):Ta}}function vtt(n,{axis:t="y",...e}={}){const i={axis:t,...e};return typeof n=="function"?mtt(n,i):gtt(n,i)}function $D(n,t){TK(!!(!t||t.current))}const ytt=()=>({scrollX:El(0),scrollY:El(0),scrollXProgress:El(0),scrollYProgress:El(0)});function xtt({container:n,target:t,layoutEffect:e=!0,...i}={}){const s=Am(ytt);return(e?X_:J.useEffect)(()=>($D("target",t),$D("container",n),vtt((o,{x:c,y:u})=>{s.scrollX.set(c.current),s.scrollXProgress.set(c.progress),s.scrollY.set(u.current),s.scrollYProgress.set(u.progress)},{...i,container:(n==null?void 0:n.current)||void 0,target:(t==null?void 0:t.current)||void 0})),[n,t,JSON.stringify(i.offset)]),s}function Att(n){const t=Am(()=>El(n)),{isStatic:e}=J.useContext(j_);if(e){const[,i]=J.useState(n);J.useEffect(()=>t.on("change",i),[])}return t}function sI(n,t){const e=Att(t()),i=()=>e.set(t());return i(),X_(()=>{const s=()=>Dn.preRender(i,!1,!0),a=n.map(o=>o.on("change",s));return()=>{a.forEach(o=>o()),Po(i)}}),e}const _tt=n=>n&&typeof n=="object"&&n.mix,Stt=n=>_tt(n)?n.mix:void 0;function btt(...n){const t=!Array.isArray(n[0]),e=t?0:-1,i=n[0+e],s=n[1+e],a=n[2+e],o=n[3+e],c=lw(s,a,{mixer:Stt(a[0]),...o});return t?c(i):c}function Mtt(n){L0.current=[],n();const t=sI(L0.current,n);return L0.current=void 0,t}function tL(n,t,e,i){if(typeof n=="function")return Mtt(n);const s=typeof t=="function"?t:btt(t,e,i);return Array.isArray(n)?eL(n,s):eL([n],([a])=>s(a))}function eL(n,t){const e=Am(()=>[]);return sI(n,()=>{e.length=0;const i=n.length;for(let s=0;s<i;s++)e[s]=n[s].get();return t(e)})}const hw="-",Ett=n=>{const t=Ctt(n),{conflictingClassGroups:e,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:o=>{const c=o.split(hw);return c[0]===""&&c.length!==1&&c.shift(),aI(c,t)||Ttt(o)},getConflictingClassGroupIds:(o,c)=>{const u=e[o]||[];return c&&i[o]?[...u,...i[o]]:u}}},aI=(n,t)=>{var o;if(n.length===0)return t.classGroupId;const e=n[0],i=t.nextPart.get(e),s=i?aI(n.slice(1),i):void 0;if(s)return s;if(t.validators.length===0)return;const a=n.join(hw);return(o=t.validators.find(({validator:c})=>c(a)))==null?void 0:o.classGroupId},nL=/^\[(.+)\]$/,Ttt=n=>{if(nL.test(n)){const t=nL.exec(n)[1],e=t==null?void 0:t.substring(0,t.indexOf(":"));if(e)return"arbitrary.."+e}},Ctt=n=>{const{theme:t,classGroups:e}=n,i={nextPart:new Map,validators:[]};for(const s in e)PE(e[s],i,s,t);return i},PE=(n,t,e,i)=>{n.forEach(s=>{if(typeof s=="string"){const a=s===""?t:iL(t,s);a.classGroupId=e;return}if(typeof s=="function"){if(wtt(s)){PE(s(i),t,e,i);return}t.validators.push({validator:s,classGroupId:e});return}Object.entries(s).forEach(([a,o])=>{PE(o,iL(t,a),e,i)})})},iL=(n,t)=>{let e=n;return t.split(hw).forEach(i=>{e.nextPart.has(i)||e.nextPart.set(i,{nextPart:new Map,validators:[]}),e=e.nextPart.get(i)}),e},wtt=n=>n.isThemeGetter,Rtt=n=>{if(n<1)return{get:()=>{},set:()=>{}};let t=0,e=new Map,i=new Map;const s=(a,o)=>{e.set(a,o),t++,t>n&&(t=0,i=e,e=new Map)};return{get(a){let o=e.get(a);if(o!==void 0)return o;if((o=i.get(a))!==void 0)return s(a,o),o},set(a,o){e.has(a)?e.set(a,o):s(a,o)}}},IE="!",FE=":",Btt=FE.length,Dtt=n=>{const{prefix:t,experimentalParseClassName:e}=n;let i=s=>{const a=[];let o=0,c=0,u=0,d;for(let b=0;b<s.length;b++){let T=s[b];if(o===0&&c===0){if(T===FE){a.push(s.slice(u,b)),u=b+Btt;continue}if(T==="/"){d=b;continue}}T==="["?o++:T==="]"?o--:T==="("?c++:T===")"&&c--}const m=a.length===0?s:s.substring(u),g=Ltt(m),y=g!==m,A=d&&d>u?d-u:void 0;return{modifiers:a,hasImportantModifier:y,baseClassName:g,maybePostfixModifierPosition:A}};if(t){const s=t+FE,a=i;i=o=>o.startsWith(s)?a(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(e){const s=i;i=a=>e({className:a,parseClassName:s})}return i},Ltt=n=>n.endsWith(IE)?n.substring(0,n.length-1):n.startsWith(IE)?n.substring(1):n,Ntt=n=>{const t=Object.fromEntries(n.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const s=[];let a=[];return i.forEach(o=>{o[0]==="["||t[o]?(s.push(...a.sort(),o),a=[]):a.push(o)}),s.push(...a.sort()),s}},Utt=n=>({cache:Rtt(n.cacheSize),parseClassName:Dtt(n),sortModifiers:Ntt(n),...Ett(n)}),Ott=/\s+/,Ptt=(n,t)=>{const{parseClassName:e,getClassGroupId:i,getConflictingClassGroupIds:s,sortModifiers:a}=t,o=[],c=n.trim().split(Ott);let u="";for(let d=c.length-1;d>=0;d-=1){const m=c[d],{isExternal:g,modifiers:y,hasImportantModifier:A,baseClassName:b,maybePostfixModifierPosition:T}=e(m);if(g){u=m+(u.length>0?" "+u:u);continue}let E=!!T,S=i(E?b.substring(0,T):b);if(!S){if(!E){u=m+(u.length>0?" "+u:u);continue}if(S=i(b),!S){u=m+(u.length>0?" "+u:u);continue}E=!1}const R=a(y).join(":"),B=A?R+IE:R,D=B+S;if(o.includes(D))continue;o.push(D);const U=s(S,E);for(let N=0;N<U.length;++N){const F=U[N];o.push(B+F)}u=m+(u.length>0?" "+u:u)}return u};function Itt(){let n=0,t,e,i="";for(;n<arguments.length;)(t=arguments[n++])&&(e=rI(t))&&(i&&(i+=" "),i+=e);return i}const rI=n=>{if(typeof n=="string")return n;let t,e="";for(let i=0;i<n.length;i++)n[i]&&(t=rI(n[i]))&&(e&&(e+=" "),e+=t);return e};function Ftt(n,...t){let e,i,s,a=o;function o(u){const d=t.reduce((m,g)=>g(m),n());return e=Utt(d),i=e.cache.get,s=e.cache.set,a=c,c(u)}function c(u){const d=i(u);if(d)return d;const m=Ptt(u,e);return s(u,m),m}return function(){return a(Itt.apply(null,arguments))}}const _s=n=>{const t=e=>e[n]||[];return t.isThemeGetter=!0,t},oI=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,lI=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ztt=/^\d+\/\d+$/,Htt=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Gtt=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Vtt=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ktt=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jtt=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,yp=n=>ztt.test(n),yn=n=>!!n&&!Number.isNaN(Number(n)),uh=n=>!!n&&Number.isInteger(Number(n)),sL=n=>n.endsWith("%")&&yn(n.slice(0,-1)),Nu=n=>Htt.test(n),Xtt=()=>!0,Ytt=n=>Gtt.test(n)&&!Vtt.test(n),dw=()=>!1,Wtt=n=>ktt.test(n),qtt=n=>jtt.test(n),Ktt=n=>!ge(n)&&!ve(n),Jtt=n=>bm(n,fI,dw),ge=n=>oI.test(n),fh=n=>bm(n,hI,Ytt),yM=n=>bm(n,oet,yn),Ztt=n=>bm(n,cI,dw),Qtt=n=>bm(n,uI,qtt),$tt=n=>bm(n,dw,Wtt),ve=n=>lI.test(n),yx=n=>Mm(n,hI),tet=n=>Mm(n,cet),eet=n=>Mm(n,cI),net=n=>Mm(n,fI),iet=n=>Mm(n,uI),set=n=>Mm(n,uet,!0),bm=(n,t,e)=>{const i=oI.exec(n);return i?i[1]?t(i[1]):e(i[2]):!1},Mm=(n,t,e=!1)=>{const i=lI.exec(n);return i?i[1]?t(i[1]):e:!1},cI=n=>n==="position",aet=new Set(["image","url"]),uI=n=>aet.has(n),ret=new Set(["length","size","percentage"]),fI=n=>ret.has(n),hI=n=>n==="length",oet=n=>n==="number",cet=n=>n==="family-name",uet=n=>n==="shadow",fet=()=>{const n=_s("color"),t=_s("font"),e=_s("text"),i=_s("font-weight"),s=_s("tracking"),a=_s("leading"),o=_s("breakpoint"),c=_s("container"),u=_s("spacing"),d=_s("radius"),m=_s("shadow"),g=_s("inset-shadow"),y=_s("drop-shadow"),A=_s("blur"),b=_s("perspective"),T=_s("aspect"),E=_s("ease"),S=_s("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto","contain","none"],N=()=>[yp,"px","full","auto",ve,ge,u],F=()=>[uh,"none","subgrid",ve,ge],z=()=>["auto",{span:["full",uh,ve,ge]},ve,ge],O=()=>[uh,"auto",ve,ge],I=()=>["auto","min","max","fr",ve,ge],Y=()=>[ve,ge,u],dt=()=>["start","end","center","between","around","evenly","stretch","baseline"],at=()=>["start","end","center","stretch"],Q=()=>[ve,ge,u],lt=()=>["px",...Q()],tt=()=>["px","auto",...Q()],et=()=>[yp,"auto","px","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",ve,ge,u],Z=()=>[n,ve,ge],vt=()=>[sL,fh],X=()=>["","none","full",d,ve,ge],it=()=>["",yn,yx,fh],Mt=()=>["solid","dashed","dotted","double"],Ot=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],st=()=>["","none",A,ve,ge],Et=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ve,ge],Bt=()=>["none",yn,ve,ge],Pt=()=>["none",yn,ve,ge],Ht=()=>[yn,ve,ge],fe=()=>[yp,"full","px",ve,ge,u];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Nu],breakpoint:[Nu],color:[Xtt],container:[Nu],"drop-shadow":[Nu],ease:["in","out","in-out"],font:[Ktt],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Nu],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Nu],shadow:[Nu],spacing:[yn],text:[Nu],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",yp,ge,ve,T]}],container:["container"],columns:[{columns:[yn,ge,ve,c]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),ge,ve]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:N()}],"inset-x":[{"inset-x":N()}],"inset-y":[{"inset-y":N()}],start:[{start:N()}],end:[{end:N()}],top:[{top:N()}],right:[{right:N()}],bottom:[{bottom:N()}],left:[{left:N()}],visibility:["visible","invisible","collapse"],z:[{z:[uh,"auto",ve,ge]}],basis:[{basis:[yp,"full","auto",ve,ge,c,u]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[yn,yp,"auto","initial","none",ge]}],grow:[{grow:["",yn,ve,ge]}],shrink:[{shrink:["",yn,ve,ge]}],order:[{order:[uh,"first","last","none",ve,ge]}],"grid-cols":[{"grid-cols":F()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":F()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":I()}],"auto-rows":[{"auto-rows":I()}],gap:[{gap:Y()}],"gap-x":[{"gap-x":Y()}],"gap-y":[{"gap-y":Y()}],"justify-content":[{justify:[...dt(),"normal"]}],"justify-items":[{"justify-items":[...at(),"normal"]}],"justify-self":[{"justify-self":["auto",...at()]}],"align-content":[{content:["normal",...dt()]}],"align-items":[{items:[...at(),"baseline"]}],"align-self":[{self:["auto",...at(),"baseline"]}],"place-content":[{"place-content":dt()}],"place-items":[{"place-items":[...at(),"baseline"]}],"place-self":[{"place-self":["auto",...at()]}],p:[{p:lt()}],px:[{px:lt()}],py:[{py:lt()}],ps:[{ps:lt()}],pe:[{pe:lt()}],pt:[{pt:lt()}],pr:[{pr:lt()}],pb:[{pb:lt()}],pl:[{pl:lt()}],m:[{m:tt()}],mx:[{mx:tt()}],my:[{my:tt()}],ms:[{ms:tt()}],me:[{me:tt()}],mt:[{mt:tt()}],mr:[{mr:tt()}],mb:[{mb:tt()}],ml:[{ml:tt()}],"space-x":[{"space-x":Q()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":Q()}],"space-y-reverse":["space-y-reverse"],size:[{size:et()}],w:[{w:[c,"screen",...et()]}],"min-w":[{"min-w":[c,"screen","none",...et()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[o]},...et()]}],h:[{h:["screen",...et()]}],"min-h":[{"min-h":["screen","none",...et()]}],"max-h":[{"max-h":["screen",...et()]}],"font-size":[{text:["base",e,yx,fh]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,ve,yM]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",sL,ge]}],"font-family":[{font:[tet,ge,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ve,ge]}],"line-clamp":[{"line-clamp":[yn,"none",ve,yM]}],leading:[{leading:[ve,ge,a,u]}],"list-image":[{"list-image":["none",ve,ge]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ve,ge]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Z()}],"text-color":[{text:Z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Mt(),"wavy"]}],"text-decoration-thickness":[{decoration:[yn,"from-font","auto",ve,fh]}],"text-decoration-color":[{decoration:Z()}],"underline-offset":[{"underline-offset":[yn,"auto",ve,ge]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:["px",...Q()]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve,ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve,ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),eet,Ztt]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",net,Jtt]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},uh,ve,ge],radial:["",ve,ge],conic:[uh,ve,ge]},iet,Qtt]}],"bg-color":[{bg:Z()}],"gradient-from-pos":[{from:vt()}],"gradient-via-pos":[{via:vt()}],"gradient-to-pos":[{to:vt()}],"gradient-from":[{from:Z()}],"gradient-via":[{via:Z()}],"gradient-to":[{to:Z()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:it()}],"border-w-x":[{"border-x":it()}],"border-w-y":[{"border-y":it()}],"border-w-s":[{"border-s":it()}],"border-w-e":[{"border-e":it()}],"border-w-t":[{"border-t":it()}],"border-w-r":[{"border-r":it()}],"border-w-b":[{"border-b":it()}],"border-w-l":[{"border-l":it()}],"divide-x":[{"divide-x":it()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":it()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Mt(),"hidden","none"]}],"divide-style":[{divide:[...Mt(),"hidden","none"]}],"border-color":[{border:Z()}],"border-color-x":[{"border-x":Z()}],"border-color-y":[{"border-y":Z()}],"border-color-s":[{"border-s":Z()}],"border-color-e":[{"border-e":Z()}],"border-color-t":[{"border-t":Z()}],"border-color-r":[{"border-r":Z()}],"border-color-b":[{"border-b":Z()}],"border-color-l":[{"border-l":Z()}],"divide-color":[{divide:Z()}],"outline-style":[{outline:[...Mt(),"none","hidden"]}],"outline-offset":[{"outline-offset":[yn,ve,ge]}],"outline-w":[{outline:["",yn,yx,fh]}],"outline-color":[{outline:[n]}],shadow:[{shadow:["","none",m,set,$tt]}],"shadow-color":[{shadow:Z()}],"inset-shadow":[{"inset-shadow":["none",ve,ge,g]}],"inset-shadow-color":[{"inset-shadow":Z()}],"ring-w":[{ring:it()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Z()}],"ring-offset-w":[{"ring-offset":[yn,fh]}],"ring-offset-color":[{"ring-offset":Z()}],"inset-ring-w":[{"inset-ring":it()}],"inset-ring-color":[{"inset-ring":Z()}],opacity:[{opacity:[yn,ve,ge]}],"mix-blend":[{"mix-blend":[...Ot(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ot()}],filter:[{filter:["","none",ve,ge]}],blur:[{blur:st()}],brightness:[{brightness:[yn,ve,ge]}],contrast:[{contrast:[yn,ve,ge]}],"drop-shadow":[{"drop-shadow":["","none",y,ve,ge]}],grayscale:[{grayscale:["",yn,ve,ge]}],"hue-rotate":[{"hue-rotate":[yn,ve,ge]}],invert:[{invert:["",yn,ve,ge]}],saturate:[{saturate:[yn,ve,ge]}],sepia:[{sepia:["",yn,ve,ge]}],"backdrop-filter":[{"backdrop-filter":["","none",ve,ge]}],"backdrop-blur":[{"backdrop-blur":st()}],"backdrop-brightness":[{"backdrop-brightness":[yn,ve,ge]}],"backdrop-contrast":[{"backdrop-contrast":[yn,ve,ge]}],"backdrop-grayscale":[{"backdrop-grayscale":["",yn,ve,ge]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[yn,ve,ge]}],"backdrop-invert":[{"backdrop-invert":["",yn,ve,ge]}],"backdrop-opacity":[{"backdrop-opacity":[yn,ve,ge]}],"backdrop-saturate":[{"backdrop-saturate":[yn,ve,ge]}],"backdrop-sepia":[{"backdrop-sepia":["",yn,ve,ge]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":Q()}],"border-spacing-x":[{"border-spacing-x":Q()}],"border-spacing-y":[{"border-spacing-y":Q()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ve,ge]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[yn,"initial",ve,ge]}],ease:[{ease:["linear","initial",E,ve,ge]}],delay:[{delay:[yn,ve,ge]}],animate:[{animate:["none",S,ve,ge]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,ve,ge]}],"perspective-origin":[{"perspective-origin":Et()}],rotate:[{rotate:Bt()}],"rotate-x":[{"rotate-x":Bt()}],"rotate-y":[{"rotate-y":Bt()}],"rotate-z":[{"rotate-z":Bt()}],scale:[{scale:Pt()}],"scale-x":[{"scale-x":Pt()}],"scale-y":[{"scale-y":Pt()}],"scale-z":[{"scale-z":Pt()}],"scale-3d":["scale-3d"],skew:[{skew:Ht()}],"skew-x":[{"skew-x":Ht()}],"skew-y":[{"skew-y":Ht()}],transform:[{transform:[ve,ge,"","none","gpu","cpu"]}],"transform-origin":[{origin:Et()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:fe()}],"translate-x":[{"translate-x":fe()}],"translate-y":[{"translate-y":fe()}],"translate-z":[{"translate-z":fe()}],"translate-none":["translate-none"],accent:[{accent:Z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve,ge]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Q()}],"scroll-mx":[{"scroll-mx":Q()}],"scroll-my":[{"scroll-my":Q()}],"scroll-ms":[{"scroll-ms":Q()}],"scroll-me":[{"scroll-me":Q()}],"scroll-mt":[{"scroll-mt":Q()}],"scroll-mr":[{"scroll-mr":Q()}],"scroll-mb":[{"scroll-mb":Q()}],"scroll-ml":[{"scroll-ml":Q()}],"scroll-p":[{"scroll-p":Q()}],"scroll-px":[{"scroll-px":Q()}],"scroll-py":[{"scroll-py":Q()}],"scroll-ps":[{"scroll-ps":Q()}],"scroll-pe":[{"scroll-pe":Q()}],"scroll-pt":[{"scroll-pt":Q()}],"scroll-pr":[{"scroll-pr":Q()}],"scroll-pb":[{"scroll-pb":Q()}],"scroll-pl":[{"scroll-pl":Q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve,ge]}],fill:[{fill:["none",...Z()]}],"stroke-w":[{stroke:[yn,yx,fh,yM]}],stroke:[{stroke:["none",...Z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},Qu=Ftt(fet),aL=({words:n,duration:t=3e3,className:e})=>{const[i,s]=J.useState(n[0]),[a,o]=J.useState(!1),c=J.useCallback(()=>{const u=n[n.indexOf(i)+1]||n[0];s(u),o(!0)},[i,n]);return J.useEffect(()=>{a||setTimeout(()=>{c()},t)},[a,t,c]),G.jsx(EK,{onExitComplete:()=>{o(!1)},children:G.jsx(Fx.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:100,damping:10},exit:{opacity:0,y:-40,x:40,filter:"blur(8px)",scale:2,position:"absolute"},className:Qu("z-10 inline-block relative text-left",e),children:i.split(" ").map((u,d)=>G.jsxs(Fx.span,{initial:{opacity:0,y:10,filter:"blur(8px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},transition:{delay:d*.3,duration:.3},className:"inline-block whitespace-nowrap",children:[u.split("").map((m,g)=>G.jsx(Fx.span,{initial:{opacity:0,y:10,filter:"blur(8px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},transition:{delay:d*.3+g*.05,duration:.2},className:"inline-block",children:m},u+g)),G.jsx("span",{className:"inline-block",children:""})]},u+d))},i)})};var Ya=function(){return Ya=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++){e=arguments[i];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Ya.apply(this,arguments)};function KA(n,t,e){if(e||arguments.length===2)for(var i=0,s=t.length,a;i<s;i++)(a||!(i in t))&&(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return n.concat(a||Array.prototype.slice.call(t))}var si="-ms-",I0="-moz-",Hn="-webkit-",dI="comm",J_="rule",pw="decl",het="@import",pI="@keyframes",det="@layer",mI=Math.abs,mw=String.fromCharCode,zE=Object.assign;function pet(n,t){return Ms(n,0)^45?(((t<<2^Ms(n,0))<<2^Ms(n,1))<<2^Ms(n,2))<<2^Ms(n,3):0}function gI(n){return n.trim()}function bc(n,t){return(n=t.exec(n))?n[0]:n}function sn(n,t,e){return n.replace(t,e)}function Gx(n,t,e){return n.indexOf(t,e)}function Ms(n,t){return n.charCodeAt(t)|0}function sm(n,t,e){return n.slice(t,e)}function bl(n){return n.length}function vI(n){return n.length}function g0(n,t){return t.push(n),n}function met(n,t){return n.map(t).join("")}function rL(n,t){return n.filter(function(e){return!bc(e,t)})}var Z_=1,am=1,yI=0,Gr=0,Zi=0,Em="";function Q_(n,t,e,i,s,a,o,c){return{value:n,root:t,parent:e,type:i,props:s,children:a,line:Z_,column:am,length:o,return:"",siblings:c}}function Hu(n,t){return zE(Q_("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},t)}function xp(n){for(;n.root;)n=Hu(n.root,{children:[n]});g0(n,n.siblings)}function get(){return Zi}function vet(){return Zi=Gr>0?Ms(Em,--Gr):0,am--,Zi===10&&(am=1,Z_--),Zi}function Lo(){return Zi=Gr<yI?Ms(Em,Gr++):0,am++,Zi===10&&(am=1,Z_++),Zi}function Ph(){return Ms(Em,Gr)}function Vx(){return Gr}function $_(n,t){return sm(Em,n,t)}function HE(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function yet(n){return Z_=am=1,yI=bl(Em=n),Gr=0,[]}function xet(n){return Em="",n}function xM(n){return gI($_(Gr-1,GE(n===91?n+2:n===40?n+1:n)))}function Aet(n){for(;(Zi=Ph())&&Zi<33;)Lo();return HE(n)>2||HE(Zi)>3?"":" "}function _et(n,t){for(;--t&&Lo()&&!(Zi<48||Zi>102||Zi>57&&Zi<65||Zi>70&&Zi<97););return $_(n,Vx()+(t<6&&Ph()==32&&Lo()==32))}function GE(n){for(;Lo();)switch(Zi){case n:return Gr;case 34:case 39:n!==34&&n!==39&&GE(Zi);break;case 40:n===41&&GE(n);break;case 92:Lo();break}return Gr}function bet(n,t){for(;Lo()&&n+Zi!==57;)if(n+Zi===84&&Ph()===47)break;return"/*"+$_(t,Gr-1)+"*"+mw(n===47?n:Lo())}function Met(n){for(;!HE(Ph());)Lo();return $_(n,Gr)}function Eet(n){return xet(kx("",null,null,null,[""],n=yet(n),0,[0],n))}function kx(n,t,e,i,s,a,o,c,u){for(var d=0,m=0,g=o,y=0,A=0,b=0,T=1,E=1,S=1,R=0,B="",D=s,U=a,N=i,F=B;E;)switch(b=R,R=Lo()){case 40:if(b!=108&&Ms(F,g-1)==58){Gx(F+=sn(xM(R),"&","&\f"),"&\f",mI(d?c[d-1]:0))!=-1&&(S=-1);break}case 34:case 39:case 91:F+=xM(R);break;case 9:case 10:case 13:case 32:F+=Aet(b);break;case 92:F+=_et(Vx()-1,7);continue;case 47:switch(Ph()){case 42:case 47:g0(Tet(bet(Lo(),Vx()),t,e,u),u);break;default:F+="/"}break;case 123*T:c[d++]=bl(F)*S;case 125*T:case 59:case 0:switch(R){case 0:case 125:E=0;case 59+m:S==-1&&(F=sn(F,/\f/g,"")),A>0&&bl(F)-g&&g0(A>32?lL(F+";",i,e,g-1,u):lL(sn(F," ","")+";",i,e,g-2,u),u);break;case 59:F+=";";default:if(g0(N=oL(F,t,e,d,m,s,c,B,D=[],U=[],g,a),a),R===123)if(m===0)kx(F,t,N,N,D,a,g,c,U);else switch(y===99&&Ms(F,3)===110?100:y){case 100:case 108:case 109:case 115:kx(n,N,N,i&&g0(oL(n,N,N,0,0,s,c,B,s,D=[],g,U),U),s,U,g,c,i?D:U);break;default:kx(F,N,N,N,[""],U,0,c,U)}}d=m=A=0,T=S=1,B=F="",g=o;break;case 58:g=1+bl(F),A=b;default:if(T<1){if(R==123)--T;else if(R==125&&T++==0&&vet()==125)continue}switch(F+=mw(R),R*T){case 38:S=m>0?1:(F+="\f",-1);break;case 44:c[d++]=(bl(F)-1)*S,S=1;break;case 64:Ph()===45&&(F+=xM(Lo())),y=Ph(),m=g=bl(B=F+=Met(Vx())),R++;break;case 45:b===45&&bl(F)==2&&(T=0)}}return a}function oL(n,t,e,i,s,a,o,c,u,d,m,g){for(var y=s-1,A=s===0?a:[""],b=vI(A),T=0,E=0,S=0;T<i;++T)for(var R=0,B=sm(n,y+1,y=mI(E=o[T])),D=n;R<b;++R)(D=gI(E>0?A[R]+" "+B:sn(B,/&\f/g,A[R])))&&(u[S++]=D);return Q_(n,t,e,s===0?J_:c,u,d,m,g)}function Tet(n,t,e,i){return Q_(n,t,e,dI,mw(get()),sm(n,2,-2),0,i)}function lL(n,t,e,i,s){return Q_(n,t,e,pw,sm(n,0,i),sm(n,i+1,-1),i,s)}function xI(n,t,e){switch(pet(n,t)){case 5103:return Hn+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Hn+n+n;case 4789:return I0+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Hn+n+I0+n+si+n+n;case 5936:switch(Ms(n,t+11)){case 114:return Hn+n+si+sn(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Hn+n+si+sn(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Hn+n+si+sn(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return Hn+n+si+n+n;case 6165:return Hn+n+si+"flex-"+n+n;case 5187:return Hn+n+sn(n,/(\w+).+(:[^]+)/,Hn+"box-$1$2"+si+"flex-$1$2")+n;case 5443:return Hn+n+si+"flex-item-"+sn(n,/flex-|-self/g,"")+(bc(n,/flex-|baseline/)?"":si+"grid-row-"+sn(n,/flex-|-self/g,""))+n;case 4675:return Hn+n+si+"flex-line-pack"+sn(n,/align-content|flex-|-self/g,"")+n;case 5548:return Hn+n+si+sn(n,"shrink","negative")+n;case 5292:return Hn+n+si+sn(n,"basis","preferred-size")+n;case 6060:return Hn+"box-"+sn(n,"-grow","")+Hn+n+si+sn(n,"grow","positive")+n;case 4554:return Hn+sn(n,/([^-])(transform)/g,"$1"+Hn+"$2")+n;case 6187:return sn(sn(sn(n,/(zoom-|grab)/,Hn+"$1"),/(image-set)/,Hn+"$1"),n,"")+n;case 5495:case 3959:return sn(n,/(image-set\([^]*)/,Hn+"$1$`$1");case 4968:return sn(sn(n,/(.+:)(flex-)?(.*)/,Hn+"box-pack:$3"+si+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Hn+n+n;case 4200:if(!bc(n,/flex-|baseline/))return si+"grid-column-align"+sm(n,t)+n;break;case 2592:case 3360:return si+sn(n,"template-","")+n;case 4384:case 3616:return e&&e.some(function(i,s){return t=s,bc(i.props,/grid-\w+-end/)})?~Gx(n+(e=e[t].value),"span",0)?n:si+sn(n,"-start","")+n+si+"grid-row-span:"+(~Gx(e,"span",0)?bc(e,/\d+/):+bc(e,/\d+/)-+bc(n,/\d+/))+";":si+sn(n,"-start","")+n;case 4896:case 4128:return e&&e.some(function(i){return bc(i.props,/grid-\w+-start/)})?n:si+sn(sn(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return sn(n,/(.+)-inline(.+)/,Hn+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(bl(n)-1-t>6)switch(Ms(n,t+1)){case 109:if(Ms(n,t+4)!==45)break;case 102:return sn(n,/(.+:)(.+)-([^]+)/,"$1"+Hn+"$2-$3$1"+I0+(Ms(n,t+3)==108?"$3":"$2-$3"))+n;case 115:return~Gx(n,"stretch",0)?xI(sn(n,"stretch","fill-available"),t,e)+n:n}break;case 5152:case 5920:return sn(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(i,s,a,o,c,u,d){return si+s+":"+a+d+(o?si+s+"-span:"+(c?u:+u-+a)+d:"")+n});case 4949:if(Ms(n,t+6)===121)return sn(n,":",":"+Hn)+n;break;case 6444:switch(Ms(n,Ms(n,14)===45?18:11)){case 120:return sn(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Hn+(Ms(n,14)===45?"inline-":"")+"box$3$1"+Hn+"$2$3$1"+si+"$2box$3")+n;case 100:return sn(n,":",":"+si)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return sn(n,"scroll-","scroll-snap-")+n}return n}function JA(n,t){for(var e="",i=0;i<n.length;i++)e+=t(n[i],i,n,t)||"";return e}function Cet(n,t,e,i){switch(n.type){case det:if(n.children.length)break;case het:case pw:return n.return=n.return||n.value;case dI:return"";case pI:return n.return=n.value+"{"+JA(n.children,i)+"}";case J_:if(!bl(n.value=n.props.join(",")))return""}return bl(e=JA(n.children,i))?n.return=n.value+"{"+e+"}":""}function wet(n){var t=vI(n);return function(e,i,s,a){for(var o="",c=0;c<t;c++)o+=n[c](e,i,s,a)||"";return o}}function Ret(n){return function(t){t.root||(t=t.return)&&n(t)}}function Bet(n,t,e,i){if(n.length>-1&&!n.return)switch(n.type){case pw:n.return=xI(n.value,n.length,e);return;case pI:return JA([Hu(n,{value:sn(n.value,"@","@"+Hn)})],i);case J_:if(n.length)return met(e=n.props,function(s){switch(bc(s,i=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":xp(Hu(n,{props:[sn(s,/:(read-\w+)/,":"+I0+"$1")]})),xp(Hu(n,{props:[s]})),zE(n,{props:rL(e,i)});break;case"::placeholder":xp(Hu(n,{props:[sn(s,/:(plac\w+)/,":"+Hn+"input-$1")]})),xp(Hu(n,{props:[sn(s,/:(plac\w+)/,":"+I0+"$1")]})),xp(Hu(n,{props:[sn(s,/:(plac\w+)/,si+"input-$1")]})),xp(Hu(n,{props:[s]})),zE(n,{props:rL(e,i)});break}return""})}}var Det={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},fr={},rm=typeof process<"u"&&fr!==void 0&&(fr.REACT_APP_SC_ATTR||fr.SC_ATTR)||"data-styled",AI="active",_I="data-styled-version",tS="6.1.19",gw=`/*!sc*/
`,ZA=typeof window<"u"&&typeof document<"u",Let=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&fr!==void 0&&fr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&fr.REACT_APP_SC_DISABLE_SPEEDY!==""?fr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&fr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&fr!==void 0&&fr.SC_DISABLE_SPEEDY!==void 0&&fr.SC_DISABLE_SPEEDY!==""&&fr.SC_DISABLE_SPEEDY!=="false"&&fr.SC_DISABLE_SPEEDY),eS=Object.freeze([]),om=Object.freeze({});function Net(n,t,e){return e===void 0&&(e=om),n.theme!==e.theme&&n.theme||t||e.theme}var SI=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Uet=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Oet=/(^-|-$)/g;function cL(n){return n.replace(Uet,"-").replace(Oet,"")}var Pet=/(a)(d)/gi,xx=52,uL=function(n){return String.fromCharCode(n+(n>25?39:97))};function VE(n){var t,e="";for(t=Math.abs(n);t>xx;t=t/xx|0)e=uL(t%xx)+e;return(uL(t%xx)+e).replace(Pet,"$1-$2")}var AM,bI=5381,zp=function(n,t){for(var e=t.length;e;)n=33*n^t.charCodeAt(--e);return n},MI=function(n){return zp(bI,n)};function Iet(n){return VE(MI(n)>>>0)}function Fet(n){return n.displayName||n.name||"Component"}function _M(n){return typeof n=="string"&&!0}var EI=typeof Symbol=="function"&&Symbol.for,TI=EI?Symbol.for("react.memo"):60115,zet=EI?Symbol.for("react.forward_ref"):60112,Het={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Get={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},CI={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Vet=((AM={})[zet]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},AM[TI]=CI,AM);function fL(n){return("type"in(t=n)&&t.type.$$typeof)===TI?CI:"$$typeof"in n?Vet[n.$$typeof]:Het;var t}var ket=Object.defineProperty,jet=Object.getOwnPropertyNames,hL=Object.getOwnPropertySymbols,Xet=Object.getOwnPropertyDescriptor,Yet=Object.getPrototypeOf,dL=Object.prototype;function wI(n,t,e){if(typeof t!="string"){if(dL){var i=Yet(t);i&&i!==dL&&wI(n,i,e)}var s=jet(t);hL&&(s=s.concat(hL(t)));for(var a=fL(n),o=fL(t),c=0;c<s.length;++c){var u=s[c];if(!(u in Get||e&&e[u]||o&&u in o||a&&u in a)){var d=Xet(t,u);try{ket(n,u,d)}catch{}}}}return n}function lm(n){return typeof n=="function"}function vw(n){return typeof n=="object"&&"styledComponentId"in n}function wh(n,t){return n&&t?"".concat(n," ").concat(t):n||t||""}function pL(n,t){if(n.length===0)return"";for(var e=n[0],i=1;i<n.length;i++)e+=n[i];return e}function fv(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function kE(n,t,e){if(e===void 0&&(e=!1),!e&&!fv(n)&&!Array.isArray(n))return t;if(Array.isArray(t))for(var i=0;i<t.length;i++)n[i]=kE(n[i],t[i]);else if(fv(t))for(var i in t)n[i]=kE(n[i],t[i]);return n}function yw(n,t){Object.defineProperty(n,"toString",{value:t})}function Fv(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var Wet=function(){function n(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return n.prototype.indexOfGroup=function(t){for(var e=0,i=0;i<t;i++)e+=this.groupSizes[i];return e},n.prototype.insertRules=function(t,e){if(t>=this.groupSizes.length){for(var i=this.groupSizes,s=i.length,a=s;t>=a;)if((a<<=1)<0)throw Fv(16,"".concat(t));this.groupSizes=new Uint32Array(a),this.groupSizes.set(i),this.length=a;for(var o=s;o<a;o++)this.groupSizes[o]=0}for(var c=this.indexOfGroup(t+1),u=(o=0,e.length);o<u;o++)this.tag.insertRule(c,e[o])&&(this.groupSizes[t]++,c++)},n.prototype.clearGroup=function(t){if(t<this.length){var e=this.groupSizes[t],i=this.indexOfGroup(t),s=i+e;this.groupSizes[t]=0;for(var a=i;a<s;a++)this.tag.deleteRule(i)}},n.prototype.getGroup=function(t){var e="";if(t>=this.length||this.groupSizes[t]===0)return e;for(var i=this.groupSizes[t],s=this.indexOfGroup(t),a=s+i,o=s;o<a;o++)e+="".concat(this.tag.getRule(o)).concat(gw);return e},n}(),jx=new Map,QA=new Map,Xx=1,Ax=function(n){if(jx.has(n))return jx.get(n);for(;QA.has(Xx);)Xx++;var t=Xx++;return jx.set(n,t),QA.set(t,n),t},qet=function(n,t){Xx=t+1,jx.set(n,t),QA.set(t,n)},Ket="style[".concat(rm,"][").concat(_I,'="').concat(tS,'"]'),Jet=new RegExp("^".concat(rm,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Zet=function(n,t,e){for(var i,s=e.split(","),a=0,o=s.length;a<o;a++)(i=s[a])&&n.registerName(t,i)},Qet=function(n,t){for(var e,i=((e=t.textContent)!==null&&e!==void 0?e:"").split(gw),s=[],a=0,o=i.length;a<o;a++){var c=i[a].trim();if(c){var u=c.match(Jet);if(u){var d=0|parseInt(u[1],10),m=u[2];d!==0&&(qet(m,d),Zet(n,m,u[3]),n.getTag().insertRules(d,s)),s.length=0}else s.push(c)}}},mL=function(n){for(var t=document.querySelectorAll(Ket),e=0,i=t.length;e<i;e++){var s=t[e];s&&s.getAttribute(rm)!==AI&&(Qet(n,s),s.parentNode&&s.parentNode.removeChild(s))}};function $et(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var RI=function(n){var t=document.head,e=n||t,i=document.createElement("style"),s=function(c){var u=Array.from(c.querySelectorAll("style[".concat(rm,"]")));return u[u.length-1]}(e),a=s!==void 0?s.nextSibling:null;i.setAttribute(rm,AI),i.setAttribute(_I,tS);var o=$et();return o&&i.setAttribute("nonce",o),e.insertBefore(i,a),i},tnt=function(){function n(t){this.element=RI(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var i=document.styleSheets,s=0,a=i.length;s<a;s++){var o=i[s];if(o.ownerNode===e)return o}throw Fv(17)}(this.element),this.length=0}return n.prototype.insertRule=function(t,e){try{return this.sheet.insertRule(e,t),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},n.prototype.getRule=function(t){var e=this.sheet.cssRules[t];return e&&e.cssText?e.cssText:""},n}(),ent=function(){function n(t){this.element=RI(t),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(t,e){if(t<=this.length&&t>=0){var i=document.createTextNode(e);return this.element.insertBefore(i,this.nodes[t]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},n.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},n}(),nnt=function(){function n(t){this.rules=[],this.length=0}return n.prototype.insertRule=function(t,e){return t<=this.length&&(this.rules.splice(t,0,e),this.length++,!0)},n.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},n.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},n}(),gL=ZA,int={isServer:!ZA,useCSSOMInjection:!Let},BI=function(){function n(t,e,i){t===void 0&&(t=om),e===void 0&&(e={});var s=this;this.options=Ya(Ya({},int),t),this.gs=e,this.names=new Map(i),this.server=!!t.isServer,!this.server&&ZA&&gL&&(gL=!1,mL(this)),yw(this,function(){return function(a){for(var o=a.getTag(),c=o.length,u="",d=function(g){var y=function(S){return QA.get(S)}(g);if(y===void 0)return"continue";var A=a.names.get(y),b=o.getGroup(g);if(A===void 0||!A.size||b.length===0)return"continue";var T="".concat(rm,".g").concat(g,'[id="').concat(y,'"]'),E="";A!==void 0&&A.forEach(function(S){S.length>0&&(E+="".concat(S,","))}),u+="".concat(b).concat(T,'{content:"').concat(E,'"}').concat(gw)},m=0;m<c;m++)d(m);return u}(s)})}return n.registerId=function(t){return Ax(t)},n.prototype.rehydrate=function(){!this.server&&ZA&&mL(this)},n.prototype.reconstructWithOptions=function(t,e){return e===void 0&&(e=!0),new n(Ya(Ya({},this.options),t),this.gs,e&&this.names||void 0)},n.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(t=function(e){var i=e.useCSSOMInjection,s=e.target;return e.isServer?new nnt(s):i?new tnt(s):new ent(s)}(this.options),new Wet(t)));var t},n.prototype.hasNameForId=function(t,e){return this.names.has(t)&&this.names.get(t).has(e)},n.prototype.registerName=function(t,e){if(Ax(t),this.names.has(t))this.names.get(t).add(e);else{var i=new Set;i.add(e),this.names.set(t,i)}},n.prototype.insertRules=function(t,e,i){this.registerName(t,e),this.getTag().insertRules(Ax(t),i)},n.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},n.prototype.clearRules=function(t){this.getTag().clearGroup(Ax(t)),this.clearNames(t)},n.prototype.clearTag=function(){this.tag=void 0},n}(),snt=/&/g,ant=/^\s*\/\/.*$/gm;function DI(n,t){return n.map(function(e){return e.type==="rule"&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map(function(i){return"".concat(t," ").concat(i)})),Array.isArray(e.children)&&e.type!=="@keyframes"&&(e.children=DI(e.children,t)),e})}function rnt(n){var t,e,i,s=om,a=s.options,o=a===void 0?om:a,c=s.plugins,u=c===void 0?eS:c,d=function(y,A,b){return b.startsWith(e)&&b.endsWith(e)&&b.replaceAll(e,"").length>0?".".concat(t):y},m=u.slice();m.push(function(y){y.type===J_&&y.value.includes("&")&&(y.props[0]=y.props[0].replace(snt,e).replace(i,d))}),o.prefix&&m.push(Bet),m.push(Cet);var g=function(y,A,b,T){A===void 0&&(A=""),b===void 0&&(b=""),T===void 0&&(T="&"),t=T,e=A,i=new RegExp("\\".concat(e,"\\b"),"g");var E=y.replace(ant,""),S=Eet(b||A?"".concat(b," ").concat(A," { ").concat(E," }"):E);o.namespace&&(S=DI(S,o.namespace));var R=[];return JA(S,wet(m.concat(Ret(function(B){return R.push(B)})))),R};return g.hash=u.length?u.reduce(function(y,A){return A.name||Fv(15),zp(y,A.name)},bI).toString():"",g}var ont=new BI,jE=rnt(),LI=Nl.createContext({shouldForwardProp:void 0,styleSheet:ont,stylis:jE});LI.Consumer;Nl.createContext(void 0);function vL(){return J.useContext(LI)}var lnt=function(){function n(t,e){var i=this;this.inject=function(s,a){a===void 0&&(a=jE);var o=i.name+a.hash;s.hasNameForId(i.id,o)||s.insertRules(i.id,o,a(i.rules,o,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=e,yw(this,function(){throw Fv(12,String(i.name))})}return n.prototype.getName=function(t){return t===void 0&&(t=jE),this.name+t.hash},n}(),cnt=function(n){return n>="A"&&n<="Z"};function yL(n){for(var t="",e=0;e<n.length;e++){var i=n[e];if(e===1&&i==="-"&&n[0]==="-")return n;cnt(i)?t+="-"+i.toLowerCase():t+=i}return t.startsWith("ms-")?"-"+t:t}var NI=function(n){return n==null||n===!1||n===""},UI=function(n){var t,e,i=[];for(var s in n){var a=n[s];n.hasOwnProperty(s)&&!NI(a)&&(Array.isArray(a)&&a.isCss||lm(a)?i.push("".concat(yL(s),":"),a,";"):fv(a)?i.push.apply(i,KA(KA(["".concat(s," {")],UI(a),!1),["}"],!1)):i.push("".concat(yL(s),": ").concat((t=s,(e=a)==null||typeof e=="boolean"||e===""?"":typeof e!="number"||e===0||t in Det||t.startsWith("--")?String(e).trim():"".concat(e,"px")),";")))}return i};function Ih(n,t,e,i){if(NI(n))return[];if(vw(n))return[".".concat(n.styledComponentId)];if(lm(n)){if(!lm(a=n)||a.prototype&&a.prototype.isReactComponent||!t)return[n];var s=n(t);return Ih(s,t,e,i)}var a;return n instanceof lnt?e?(n.inject(e,i),[n.getName(i)]):[n]:fv(n)?UI(n):Array.isArray(n)?Array.prototype.concat.apply(eS,n.map(function(o){return Ih(o,t,e,i)})):[n.toString()]}function unt(n){for(var t=0;t<n.length;t+=1){var e=n[t];if(lm(e)&&!vw(e))return!1}return!0}var fnt=MI(tS),hnt=function(){function n(t,e,i){this.rules=t,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&unt(t),this.componentId=e,this.baseHash=zp(fnt,e),this.baseStyle=i,BI.registerId(e)}return n.prototype.generateAndInjectStyles=function(t,e,i){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,e,i):"";if(this.isStatic&&!i.hash)if(this.staticRulesId&&e.hasNameForId(this.componentId,this.staticRulesId))s=wh(s,this.staticRulesId);else{var a=pL(Ih(this.rules,t,e,i)),o=VE(zp(this.baseHash,a)>>>0);if(!e.hasNameForId(this.componentId,o)){var c=i(a,".".concat(o),void 0,this.componentId);e.insertRules(this.componentId,o,c)}s=wh(s,o),this.staticRulesId=o}else{for(var u=zp(this.baseHash,i.hash),d="",m=0;m<this.rules.length;m++){var g=this.rules[m];if(typeof g=="string")d+=g;else if(g){var y=pL(Ih(g,t,e,i));u=zp(u,y+m),d+=y}}if(d){var A=VE(u>>>0);e.hasNameForId(this.componentId,A)||e.insertRules(this.componentId,A,i(d,".".concat(A),void 0,this.componentId)),s=wh(s,A)}}return s},n}(),OI=Nl.createContext(void 0);OI.Consumer;var SM={};function dnt(n,t,e){var i=vw(n),s=n,a=!_M(n),o=t.attrs,c=o===void 0?eS:o,u=t.componentId,d=u===void 0?function(D,U){var N=typeof D!="string"?"sc":cL(D);SM[N]=(SM[N]||0)+1;var F="".concat(N,"-").concat(Iet(tS+N+SM[N]));return U?"".concat(U,"-").concat(F):F}(t.displayName,t.parentComponentId):u,m=t.displayName,g=m===void 0?function(D){return _M(D)?"styled.".concat(D):"Styled(".concat(Fet(D),")")}(n):m,y=t.displayName&&t.componentId?"".concat(cL(t.displayName),"-").concat(t.componentId):t.componentId||d,A=i&&s.attrs?s.attrs.concat(c).filter(Boolean):c,b=t.shouldForwardProp;if(i&&s.shouldForwardProp){var T=s.shouldForwardProp;if(t.shouldForwardProp){var E=t.shouldForwardProp;b=function(D,U){return T(D,U)&&E(D,U)}}else b=T}var S=new hnt(e,y,i?s.componentStyle:void 0);function R(D,U){return function(N,F,z){var O=N.attrs,I=N.componentStyle,Y=N.defaultProps,dt=N.foldedComponentIds,at=N.styledComponentId,Q=N.target,lt=Nl.useContext(OI),tt=vL(),et=N.shouldForwardProp||tt.shouldForwardProp,Z=Net(F,lt,Y)||om,vt=function(Et,Bt,Pt){for(var Ht,fe=Ya(Ya({},Bt),{className:void 0,theme:Pt}),Xt=0;Xt<Et.length;Xt+=1){var ne=lm(Ht=Et[Xt])?Ht(fe):Ht;for(var Dt in ne)fe[Dt]=Dt==="className"?wh(fe[Dt],ne[Dt]):Dt==="style"?Ya(Ya({},fe[Dt]),ne[Dt]):ne[Dt]}return Bt.className&&(fe.className=wh(fe.className,Bt.className)),fe}(O,F,Z),X=vt.as||Q,it={};for(var Mt in vt)vt[Mt]===void 0||Mt[0]==="$"||Mt==="as"||Mt==="theme"&&vt.theme===Z||(Mt==="forwardedAs"?it.as=vt.forwardedAs:et&&!et(Mt,X)||(it[Mt]=vt[Mt]));var Ot=function(Et,Bt){var Pt=vL(),Ht=Et.generateAndInjectStyles(Bt,Pt.styleSheet,Pt.stylis);return Ht}(I,vt),st=wh(dt,at);return Ot&&(st+=" "+Ot),vt.className&&(st+=" "+vt.className),it[_M(X)&&!SI.has(X)?"class":"className"]=st,z&&(it.ref=z),J.createElement(X,it)}(B,D,U)}R.displayName=g;var B=Nl.forwardRef(R);return B.attrs=A,B.componentStyle=S,B.displayName=g,B.shouldForwardProp=b,B.foldedComponentIds=i?wh(s.foldedComponentIds,s.styledComponentId):"",B.styledComponentId=y,B.target=i?s.target:n,Object.defineProperty(B,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(D){this._foldedDefaultProps=i?function(U){for(var N=[],F=1;F<arguments.length;F++)N[F-1]=arguments[F];for(var z=0,O=N;z<O.length;z++)kE(U,O[z],!0);return U}({},s.defaultProps,D):D}}),yw(B,function(){return".".concat(B.styledComponentId)}),a&&wI(B,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),B}function xL(n,t){for(var e=[n[0]],i=0,s=t.length;i<s;i+=1)e.push(t[i],n[i+1]);return e}var AL=function(n){return Object.assign(n,{isCss:!0})};function pnt(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(lm(n)||fv(n))return AL(Ih(xL(eS,KA([n],t,!0))));var i=n;return t.length===0&&i.length===1&&typeof i[0]=="string"?Ih(i):AL(Ih(xL(i,t)))}function XE(n,t,e){if(e===void 0&&(e=om),!t)throw Fv(1,t);var i=function(s){for(var a=[],o=1;o<arguments.length;o++)a[o-1]=arguments[o];return n(t,e,pnt.apply(void 0,KA([s],a,!1)))};return i.attrs=function(s){return XE(n,t,Ya(Ya({},e),{attrs:Array.prototype.concat(e.attrs,s).filter(Boolean)}))},i.withConfig=function(s){return XE(n,t,Ya(Ya({},e),s))},i}var PI=function(n){return XE(dnt,n)},II=PI;SI.forEach(function(n){II[n]=PI(n)});const _L=()=>G.jsx(mnt,{children:G.jsxs("div",{className:"sp",children:[G.jsxs("button",{className:"sparkle-button",children:[G.jsx("span",{className:"spark"}),G.jsx("span",{className:"backdrop"}),G.jsxs("svg",{className:"sparkle",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[G.jsx("path",{d:"M14.187 8.096L15 5.25L15.813 8.096C16.0231 8.83114 16.4171 9.50062 16.9577 10.0413C17.4984 10.5819 18.1679 10.9759 18.903 11.186L21.75 12L18.904 12.813C18.1689 13.0231 17.4994 13.4171 16.9587 13.9577C16.4181 14.4984 16.0241 15.1679 15.814 15.903L15 18.75L14.187 15.904C13.9769 15.1689 13.5829 14.4994 13.0423 13.9587C12.5016 13.4181 11.8321 13.0241 11.097 12.814L8.25 12L11.096 11.187C11.8311 10.9769 12.5006 10.5829 13.0413 10.0423C13.5819 9.50162 13.9759 8.83214 14.186 8.097L14.187 8.096Z",fill:"black",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"}),G.jsx("path",{d:"M6 14.25L5.741 15.285C5.59267 15.8785 5.28579 16.4206 4.85319 16.8532C4.42059 17.2858 3.87853 17.5927 3.285 17.741L2.25 18L3.285 18.259C3.87853 18.4073 4.42059 18.7142 4.85319 19.1468C5.28579 19.5794 5.59267 20.1215 5.741 20.715L6 21.75L6.259 20.715C6.40725 20.1216 6.71398 19.5796 7.14639 19.147C7.5788 18.7144 8.12065 18.4075 8.714 18.259L9.75 18L8.714 17.741C8.12065 17.5925 7.5788 17.2856 7.14639 16.853C6.71398 16.4204 6.40725 15.8784 6.259 15.285L6 14.25Z",fill:"black",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"}),G.jsx("path",{d:"M6.5 4L6.303 4.5915C6.24777 4.75718 6.15472 4.90774 6.03123 5.03123C5.90774 5.15472 5.75718 5.24777 5.5915 5.303L5 5.5L5.5915 5.697C5.75718 5.75223 5.90774 5.84528 6.03123 5.96877C6.15472 6.09226 6.24777 6.24282 6.303 6.4085L6.5 7L6.697 6.4085C6.75223 6.24282 6.84528 6.09226 6.96877 5.96877C7.09226 5.84528 7.24282 5.75223 7.4085 5.697L8 5.5L7.4085 5.303C7.24282 5.24777 7.09226 5.15472 6.96877 5.03123C6.84528 4.90774 6.75223 4.75718 6.697 4.5915L6.5 4Z",fill:"black",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"})]}),G.jsx("span",{className:"text pr-2",children:"Download CV"})]}),G.jsx("div",{className:"bodydrop"}),G.jsxs("span",{"aria-hidden":"true",className:"particle-pen",children:[G.jsx("svg",{className:"particle",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:G.jsx("path",{d:"M6.937 3.846L7.75 1L8.563 3.846C8.77313 4.58114 9.1671 5.25062 9.70774 5.79126C10.2484 6.3319 10.9179 6.72587 11.653 6.936L14.5 7.75L11.654 8.563C10.9189 8.77313 10.2494 9.1671 9.70874 9.70774C9.1681 10.2484 8.77413 10.9179 8.564 11.653L7.75 14.5L6.937 11.654C6.72687 10.9189 6.3329 10.2494 5.79226 9.70874C5.25162 9.1681 4.58214 8.77413 3.847 8.564L1 7.75L3.846 6.937C4.58114 6.72687 5.25062 6.3329 5.79126 5.79226C6.3319 5.25162 6.72587 4.58214 6.936 3.847L6.937 3.846Z",fill:"black",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"})}),G.jsx("svg",{className:"particle",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:G.jsx("path",{d:"M6.937 3.846L7.75 1L8.563 3.846C8.77313 4.58114 9.1671 5.25062 9.70774 5.79126C10.2484 6.3319 10.9179 6.72587 11.653 6.936L14.5 7.75L11.654 8.563C10.9189 8.77313 10.2494 9.1671 9.70874 9.70774C9.1681 10.2484 8.77413 10.9179 8.564 11.653L7.75 14.5L6.937 11.654C6.72687 10.9189 6.3329 10.2494 5.79226 9.70874C5.25162 9.1681 4.58214 8.77413 3.847 8.564L1 7.75L3.846 6.937C4.58114 6.72687 5.25062 6.3329 5.79126 5.79226C6.3319 5.25162 6.72587 4.58214 6.936 3.847L6.937 3.846Z",fill:"black",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"})}),G.jsx("svg",{className:"particle",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:G.jsx("path",{d:"M6.937 3.846L7.75 1L8.563 3.846C8.77313 4.58114 9.1671 5.25062 9.70774 5.79126C10.2484 6.3319 10.9179 6.72587 11.653 6.936L14.5 7.75L11.654 8.563C10.9189 8.77313 10.2494 9.1671 9.70874 9.70774C9.1681 10.2484 8.77413 10.9179 8.564 11.653L7.75 14.5L6.937 11.654C6.72687 10.9189 6.3329 10.2494 5.79226 9.70874C5.25162 9.1681 4.58214 8.77413 3.847 8.564L1 7.75L3.846 6.937C4.58114 6.72687 5.25062 6.3329 5.79126 5.79226C6.3319 5.25162 6.72587 4.58214 6.936 3.847L6.937 3.846Z",fill:"black",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"})}),G.jsx("svg",{className:"particle",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:G.jsx("path",{d:"M6.937 3.846L7.75 1L8.563 3.846C8.77313 4.58114 9.1671 5.25062 9.70774 5.79126C10.2484 6.3319 10.9179 6.72587 11.653 6.936L14.5 7.75L11.654 8.563C10.9189 8.77313 10.2494 9.1671 9.70874 9.70774C9.1681 10.2484 8.77413 10.9179 8.564 11.653L7.75 14.5L6.937 11.654C6.72687 10.9189 6.3329 10.2494 5.79226 9.70874C5.25162 9.1681 4.58214 8.77413 3.847 8.564L1 7.75L3.846 6.937C4.58114 6.72687 5.25062 6.3329 5.79126 5.79226C6.3319 5.25162 6.72587 4.58214 6.936 3.847L6.937 3.846Z",fill:"black",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"})}),G.jsx("svg",{className:"particle",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:G.jsx("path",{d:"M6.937 3.846L7.75 1L8.563 3.846C8.77313 4.58114 9.1671 5.25062 9.70774 5.79126C10.2484 6.3319 10.9179 6.72587 11.653 6.936L14.5 7.75L11.654 8.563C10.9189 8.77313 10.2494 9.1671 9.70874 9.70774C9.1681 10.2484 8.77413 10.9179 8.564 11.653L7.75 14.5L6.937 11.654C6.72687 10.9189 6.3329 10.2494 5.79226 9.70874C5.25162 9.1681 4.58214 8.77413 3.847 8.564L1 7.75L3.846 6.937C4.58114 6.72687 5.25062 6.3329 5.79126 5.79226C6.3319 5.25162 6.72587 4.58214 6.936 3.847L6.937 3.846Z",fill:"black",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"})}),G.jsx("svg",{className:"particle",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:G.jsx("path",{d:"M6.937 3.846L7.75 1L8.563 3.846C8.77313 4.58114 9.1671 5.25062 9.70774 5.79126C10.2484 6.3319 10.9179 6.72587 11.653 6.936L14.5 7.75L11.654 8.563C10.9189 8.77313 10.2494 9.1671 9.70874 9.70774C9.1681 10.2484 8.77413 10.9179 8.564 11.653L7.75 14.5L6.937 11.654C6.72687 10.9189 6.3329 10.2494 5.79226 9.70874C5.25162 9.1681 4.58214 8.77413 3.847 8.564L1 7.75L3.846 6.937C4.58114 6.72687 5.25062 6.3329 5.79126 5.79226C6.3319 5.25162 6.72587 4.58214 6.936 3.847L6.937 3.846Z",fill:"black",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"})}),G.jsx("svg",{className:"particle",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:G.jsx("path",{d:"M6.937 3.846L7.75 1L8.563 3.846C8.77313 4.58114 9.1671 5.25062 9.70774 5.79126C10.2484 6.3319 10.9179 6.72587 11.653 6.936L14.5 7.75L11.654 8.563C10.9189 8.77313 10.2494 9.1671 9.70874 9.70774C9.1681 10.2484 8.77413 10.9179 8.564 11.653L7.75 14.5L6.937 11.654C6.72687 10.9189 6.3329 10.2494 5.79226 9.70874C5.25162 9.1681 4.58214 8.77413 3.847 8.564L1 7.75L3.846 6.937C4.58114 6.72687 5.25062 6.3329 5.79126 5.79226C6.3319 5.25162 6.72587 4.58214 6.936 3.847L6.937 3.846Z",fill:"black",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"})}),G.jsx("svg",{className:"particle",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:G.jsx("path",{d:"M6.937 3.846L7.75 1L8.563 3.846C8.77313 4.58114 9.1671 5.25062 9.70774 5.79126C10.2484 6.3319 10.9179 6.72587 11.653 6.936L14.5 7.75L11.654 8.563C10.9189 8.77313 10.2494 9.1671 9.70874 9.70774C9.1681 10.2484 8.77413 10.9179 8.564 11.653L7.75 14.5L6.937 11.654C6.72687 10.9189 6.3329 10.2494 5.79226 9.70874C5.25162 9.1681 4.58214 8.77413 3.847 8.564L1 7.75L3.846 6.937C4.58114 6.72687 5.25062 6.3329 5.79126 5.79226C6.3319 5.25162 6.72587 4.58214 6.936 3.847L6.937 3.846Z",fill:"black",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"})}),G.jsx("svg",{className:"particle",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:G.jsx("path",{d:"M6.937 3.846L7.75 1L8.563 3.846C8.77313 4.58114 9.1671 5.25062 9.70774 5.79126C10.2484 6.3319 10.9179 6.72587 11.653 6.936L14.5 7.75L11.654 8.563C10.9189 8.77313 10.2494 9.1671 9.70874 9.70774C9.1681 10.2484 8.77413 10.9179 8.564 11.653L7.75 14.5L6.937 11.654C6.72687 10.9189 6.3329 10.2494 5.79226 9.70874C5.25162 9.1681 4.58214 8.77413 3.847 8.564L1 7.75L3.846 6.937C4.58114 6.72687 5.25062 6.3329 5.79126 5.79226C6.3319 5.25162 6.72587 4.58214 6.936 3.847L6.937 3.846Z",fill:"black",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"})}),G.jsx("svg",{className:"particle",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:G.jsx("path",{d:"M6.937 3.846L7.75 1L8.563 3.846C8.77313 4.58114 9.1671 5.25062 9.70774 5.79126C10.2484 6.3319 10.9179 6.72587 11.653 6.936L14.5 7.75L11.654 8.563C10.9189 8.77313 10.2494 9.1671 9.70874 9.70774C9.1681 10.2484 8.77413 10.9179 8.564 11.653L7.75 14.5L6.937 11.654C6.72687 10.9189 6.3329 10.2494 5.79226 9.70874C5.25162 9.1681 4.58214 8.77413 3.847 8.564L1 7.75L3.846 6.937C4.58114 6.72687 5.25062 6.3329 5.79126 5.79226C6.3319 5.25162 6.72587 4.58214 6.936 3.847L6.937 3.846Z",fill:"black",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"})}),G.jsx("svg",{className:"particle",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:G.jsx("path",{d:"M6.937 3.846L7.75 1L8.563 3.846C8.77313 4.58114 9.1671 5.25062 9.70774 5.79126C10.2484 6.3319 10.9179 6.72587 11.653 6.936L14.5 7.75L11.654 8.563C10.9189 8.77313 10.2494 9.1671 9.70874 9.70774C9.1681 10.2484 8.77413 10.9179 8.564 11.653L7.75 14.5L6.937 11.654C6.72687 10.9189 6.3329 10.2494 5.79226 9.70874C5.25162 9.1681 4.58214 8.77413 3.847 8.564L1 7.75L3.846 6.937C4.58114 6.72687 5.25062 6.3329 5.79126 5.79226C6.3319 5.25162 6.72587 4.58214 6.936 3.847L6.937 3.846Z",fill:"black",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"})}),G.jsx("svg",{className:"particle",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:G.jsx("path",{d:"M6.937 3.846L7.75 1L8.563 3.846C8.77313 4.58114 9.1671 5.25062 9.70774 5.79126C10.2484 6.3319 10.9179 6.72587 11.653 6.936L14.5 7.75L11.654 8.563C10.9189 8.77313 10.2494 9.1671 9.70874 9.70774C9.1681 10.2484 8.77413 10.9179 8.564 11.653L7.75 14.5L6.937 11.654C6.72687 10.9189 6.3329 10.2494 5.79226 9.70874C5.25162 9.1681 4.58214 8.77413 3.847 8.564L1 7.75L3.846 6.937C4.58114 6.72687 5.25062 6.3329 5.79126 5.79226C6.3319 5.25162 6.72587 4.58214 6.936 3.847L6.937 3.846Z",fill:"black",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"})}),G.jsx("svg",{className:"particle",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:G.jsx("path",{d:"M6.937 3.846L7.75 1L8.563 3.846C8.77313 4.58114 9.1671 5.25062 9.70774 5.79126C10.2484 6.3319 10.9179 6.72587 11.653 6.936L14.5 7.75L11.654 8.563C10.9189 8.77313 10.2494 9.1671 9.70874 9.70774C9.1681 10.2484 8.77413 10.9179 8.564 11.653L7.75 14.5L6.937 11.654C6.72687 10.9189 6.3329 10.2494 5.79226 9.70874C5.25162 9.1681 4.58214 8.77413 3.847 8.564L1 7.75L3.846 6.937C4.58114 6.72687 5.25062 6.3329 5.79126 5.79226C6.3319 5.25162 6.72587 4.58214 6.936 3.847L6.937 3.846Z",fill:"black",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"})}),G.jsx("svg",{className:"particle",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:G.jsx("path",{d:"M6.937 3.846L7.75 1L8.563 3.846C8.77313 4.58114 9.1671 5.25062 9.70774 5.79126C10.2484 6.3319 10.9179 6.72587 11.653 6.936L14.5 7.75L11.654 8.563C10.9189 8.77313 10.2494 9.1671 9.70874 9.70774C9.1681 10.2484 8.77413 10.9179 8.564 11.653L7.75 14.5L6.937 11.654C6.72687 10.9189 6.3329 10.2494 5.79226 9.70874C5.25162 9.1681 4.58214 8.77413 3.847 8.564L1 7.75L3.846 6.937C4.58114 6.72687 5.25062 6.3329 5.79126 5.79226C6.3319 5.25162 6.72587 4.58214 6.936 3.847L6.937 3.846Z",fill:"black",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"})}),G.jsx("svg",{className:"particle",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:G.jsx("path",{d:"M6.937 3.846L7.75 1L8.563 3.846C8.77313 4.58114 9.1671 5.25062 9.70774 5.79126C10.2484 6.3319 10.9179 6.72587 11.653 6.936L14.5 7.75L11.654 8.563C10.9189 8.77313 10.2494 9.1671 9.70874 9.70774C9.1681 10.2484 8.77413 10.9179 8.564 11.653L7.75 14.5L6.937 11.654C6.72687 10.9189 6.3329 10.2494 5.79226 9.70874C5.25162 9.1681 4.58214 8.77413 3.847 8.564L1 7.75L3.846 6.937C4.58114 6.72687 5.25062 6.3329 5.79126 5.79226C6.3319 5.25162 6.72587 4.58214 6.936 3.847L6.937 3.846Z",fill:"black",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"})}),G.jsx("svg",{className:"particle",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:G.jsx("path",{d:"M6.937 3.846L7.75 1L8.563 3.846C8.77313 4.58114 9.1671 5.25062 9.70774 5.79126C10.2484 6.3319 10.9179 6.72587 11.653 6.936L14.5 7.75L11.654 8.563C10.9189 8.77313 10.2494 9.1671 9.70874 9.70774C9.1681 10.2484 8.77413 10.9179 8.564 11.653L7.75 14.5L6.937 11.654C6.72687 10.9189 6.3329 10.2494 5.79226 9.70874C5.25162 9.1681 4.58214 8.77413 3.847 8.564L1 7.75L3.846 6.937C4.58114 6.72687 5.25062 6.3329 5.79126 5.79226C6.3319 5.25162 6.72587 4.58214 6.936 3.847L6.937 3.846Z",fill:"black",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"})}),G.jsx("svg",{className:"particle",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:G.jsx("path",{d:"M6.937 3.846L7.75 1L8.563 3.846C8.77313 4.58114 9.1671 5.25062 9.70774 5.79126C10.2484 6.3319 10.9179 6.72587 11.653 6.936L14.5 7.75L11.654 8.563C10.9189 8.77313 10.2494 9.1671 9.70874 9.70774C9.1681 10.2484 8.77413 10.9179 8.564 11.653L7.75 14.5L6.937 11.654C6.72687 10.9189 6.3329 10.2494 5.79226 9.70874C5.25162 9.1681 4.58214 8.77413 3.847 8.564L1 7.75L3.846 6.937C4.58114 6.72687 5.25062 6.3329 5.79126 5.79226C6.3319 5.25162 6.72587 4.58214 6.936 3.847L6.937 3.846Z",fill:"black",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"})}),G.jsx("svg",{className:"particle",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:G.jsx("path",{d:"M6.937 3.846L7.75 1L8.563 3.846C8.77313 4.58114 9.1671 5.25062 9.70774 5.79126C10.2484 6.3319 10.9179 6.72587 11.653 6.936L14.5 7.75L11.654 8.563C10.9189 8.77313 10.2494 9.1671 9.70874 9.70774C9.1681 10.2484 8.77413 10.9179 8.564 11.653L7.75 14.5L6.937 11.654C6.72687 10.9189 6.3329 10.2494 5.79226 9.70874C5.25162 9.1681 4.58214 8.77413 3.847 8.564L1 7.75L3.846 6.937C4.58114 6.72687 5.25062 6.3329 5.79126 5.79226C6.3319 5.25162 6.72587 4.58214 6.936 3.847L6.937 3.846Z",fill:"black",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"})}),G.jsx("svg",{className:"particle",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:G.jsx("path",{d:"M6.937 3.846L7.75 1L8.563 3.846C8.77313 4.58114 9.1671 5.25062 9.70774 5.79126C10.2484 6.3319 10.9179 6.72587 11.653 6.936L14.5 7.75L11.654 8.563C10.9189 8.77313 10.2494 9.1671 9.70874 9.70774C9.1681 10.2484 8.77413 10.9179 8.564 11.653L7.75 14.5L6.937 11.654C6.72687 10.9189 6.3329 10.2494 5.79226 9.70874C5.25162 9.1681 4.58214 8.77413 3.847 8.564L1 7.75L3.846 6.937C4.58114 6.72687 5.25062 6.3329 5.79126 5.79226C6.3319 5.25162 6.72587 4.58214 6.936 3.847L6.937 3.846Z",fill:"black",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"})}),G.jsx("svg",{className:"particle",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:G.jsx("path",{d:"M6.937 3.846L7.75 1L8.563 3.846C8.77313 4.58114 9.1671 5.25062 9.70774 5.79126C10.2484 6.3319 10.9179 6.72587 11.653 6.936L14.5 7.75L11.654 8.563C10.9189 8.77313 10.2494 9.1671 9.70874 9.70774C9.1681 10.2484 8.77413 10.9179 8.564 11.653L7.75 14.5L6.937 11.654C6.72687 10.9189 6.3329 10.2494 5.79226 9.70874C5.25162 9.1681 4.58214 8.77413 3.847 8.564L1 7.75L3.846 6.937C4.58114 6.72687 5.25062 6.3329 5.79126 5.79226C6.3319 5.25162 6.72587 4.58214 6.936 3.847L6.937 3.846Z",fill:"black",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})}),mnt=II.div`
  .sparkle-button {
    --active: 0;
    --bg: radial-gradient(
  			40% 50% at center 100%,
  			hsl(270 calc(var(--active) * 97%) 72% / var(--active)),
  			transparent
  		),
  		radial-gradient(
  			80% 100% at center 120%,
  			hsl(260 calc(var(--active) * 97%) 70% / var(--active)),
  			transparent
  		),
  		hsl(260 calc(var(--active) * 97%) calc((var(--active) * 44%) + 12%));
    background: var(--bg);
    font-size: 1.2rem;
    font-weight: 500;
    border: 0;
    cursor: pointer;
    padding: 1em 1em;
    display: flex;
    align-items: center;
    gap: 0.25em;
    white-space: nowrap;
    border-radius: 100px;
    position: relative;
    box-shadow: 0 0 calc(var(--active) * 3em) calc(var(--active) * 1em) hsl(260 97% 61% / 0.75),
  		0 0em 0 0 hsl(260 calc(var(--active) * 97%) calc((var(--active) * 50%) + 30%)) inset,
  		0 -0.05em 0 0 hsl(260 calc(var(--active) * 97%) calc(var(--active) * 60%)) inset;
    transition: box-shadow var(--transition), scale var(--transition), background var(--transition);
    scale: calc(1 + (var(--active) * 0.1));
    transition: .3s;
  }

  .sparkle-button:active {
    scale: 1;
    transition: .3s;
  }

  .sparkle path {
    color: hsl(0 0% calc((var(--active, 0) * 70%) + var(--base)));
    transform-box: fill-box;
    transform-origin: center;
    fill: currentColor;
    stroke: currentColor;
    animation-delay: calc((var(--transition) * 1.5) + (var(--delay) * 1s));
    animation-duration: 0.6s;
    transition: color var(--transition);
  }

  .sparkle-button:is(:hover, :focus-visible) path {
    animation-name: bounce;
  }

  @keyframes bounce {
    35%, 65% {
      scale: var(--scale);
    }
  }

  .sparkle path:nth-of-type(1) {
    --scale: 0.5;
    --delay: 0.1;
    --base: 40%;
  }

  .sparkle path:nth-of-type(2) {
    --scale: 1.5;
    --delay: 0.2;
    --base: 20%;
  }

  .sparkle path:nth-of-type(3) {
    --scale: 2.5;
    --delay: 0.35;
    --base: 30%;
  }

  .sparkle-button:before {
    content: "";
    position: absolute;
    inset: -0.2em;
    z-index: -1;
    border: 0.25em solid hsl(260 97% 50% / 0.5);
    border-radius: 100px;
    opacity: var(--active, 0);
    transition: opacity var(--transition);
  }

  .spark {
    position: absolute;
    inset: 0;
    border-radius: 100px;
    rotate: 0deg;
    overflow: hidden;
    mask: linear-gradient(white, transparent 50%);
    animation: flip calc(var(--spark) * 2) infinite steps(2, end);
  }

  @keyframes flip {
    to {
      rotate: 360deg;
    }
  }

  .spark:before {
    content: "";
    position: absolute;
    width: 200%;
    aspect-ratio: 1;
    top: 0%;
    left: 50%;
    z-index: -1;
    translate: -50% -15%;
    rotate: 0;
    transform: rotate(-90deg);
    opacity: calc((var(--active)) + 0.4);
    background: conic-gradient(
  		from 0deg,
  		transparent 0 340deg,
  		white 360deg
  	);
    transition: opacity var(--transition);
    animation: rotate var(--spark) linear infinite both;
  }

  .spark:after {
    content: "";
    position: absolute;
    inset: var(--cut);
    border-radius: 100px;
  }

  .backdrop {
    position: absolute;
    inset: var(--cut);
    background: var(--bg);
    border-radius: 100px;
    transition: background var(--transition);
  }

  @keyframes rotate {
    to {
      transform: rotate(90deg);
    }
  }

  @supports(selector(:has(:is(+ *)))) {
    body:has(button:is(:hover, :focus-visible)) {
      --active: 1;
      --play-state: running;
    }

    .bodydrop {
      display: none;
    }
  }

  .sparkle-button:is(:hover, :focus-visible) ~ :is(.bodydrop, .particle-pen) {
    --active: 1;
    --play-state: runnin;
  }

  .sparkle-button:is(:hover, :focus-visible) {
    --active: 1;
    --play-state: running;
  }

  .sp {
    position: relative;
  }

  .particle-pen {
    position: absolute;
    width: 200%;
    aspect-ratio: 1;
    top: 50%;
    left: 50%;
    translate: -50% -50%;
    -webkit-mask: radial-gradient(white, transparent 65%);
    z-index: -1;
    opacity: var(--active, 0);
    transition: opacity var(--transition);
  }

  .particle {
    fill: white;
    width: calc(var(--size, 0.25) * 1rem);
    aspect-ratio: 1;
    position: absolute;
    top: calc(var(--y) * 1%);
    left: calc(var(--x) * 1%);
    opacity: var(--alpha, 1);
    animation: float-out calc(var(--duration, 1) * 1s) calc(var(--delay) * -1s) infinite linear;
    transform-origin: var(--origin-x, 1000%) var(--origin-y, 1000%);
    z-index: -1;
    animation-play-state: var(--play-state, paused);
  }

  .particle path {
    fill: hsl(0 0% 90%);
    stroke: none;
  }

  .particle:nth-of-type(even) {
    animation-direction: reverse;
  }

  @keyframes float-out {
    to {
      rotate: 360deg;
    }
  }

  .text {
    translate: 2% -6%;
    letter-spacing: 0.01ch;
    background: linear-gradient(90deg, hsl(0 0% calc((var(--active) * 100%) + 65%)), hsl(0 0% calc((var(--active) * 100%) + 26%)));
    -webkit-background-clip: text;
    color: transparent;
    transition: background var(--transition);
  }

  .sparkle-button svg {
    inline-size: 1.25em;
    translate: -25% -5%;
  }`,gnt=()=>{const n=["Secure","Modern","Scalable"],t={hidden:{opacity:0,x:-50},visible:{opacity:1,x:0}};return G.jsxs("div",{className:"z-10 mt-20 text-center md:mt-40 md:text-left rounded-3xl bg-clip-text",children:[G.jsxs("div",{className:"flex-col hidden md:flex c-space",children:[G.jsx(Ai.h1,{className:"text-4xl font-medium",variants:t,initial:"hidden",animate:"visible",transition:{delay:1},children:"Hi I'm Abhijay"}),G.jsxs("div",{className:"flex flex-col items-start",children:[G.jsxs(Ai.p,{className:"text-5xl font-medium text-neutral-300",variants:t,initial:"hidden",animate:"visible",transition:{delay:1.2},children:["A Developer ",G.jsx("br",{})," Dedicated to Crafting"]}),G.jsx(Ai.div,{variants:t,initial:"hidden",animate:"visible",transition:{delay:1.5},children:G.jsx(aL,{words:n,className:"font-black text-white text-8xl"})}),G.jsx(Ai.p,{className:"text-4xl font-medium text-neutral-300",variants:t,initial:"hidden",animate:"visible",transition:{delay:1.8},children:"Web Solutions"}),G.jsx(Ai.div,{variants:t,initial:"hidden",animate:"visible",transition:{delay:2},className:"mt-6",children:G.jsx("a",{href:"/ABHIJAY.pdf",target:"_blank",rel:"noopener noreferrer",children:G.jsx(_L,{})})})]})]}),G.jsxs("div",{className:"flex flex-col space-y-6 md:hidden",children:[G.jsx(Ai.p,{className:"text-4xl font-medium",variants:t,initial:"hidden",animate:"visible",transition:{delay:1},children:"Hi, I'm Abhijay"}),G.jsxs("div",{children:[G.jsx(Ai.p,{className:"text-5xl font-black text-neutral-300",variants:t,initial:"hidden",animate:"visible",transition:{delay:1.2},children:"Building"}),G.jsx(Ai.div,{variants:t,initial:"hidden",animate:"visible",transition:{delay:1.5},children:G.jsx(aL,{words:n,className:"font-bold text-white text-7xl"})}),G.jsx(Ai.p,{className:"text-4xl font-black text-neutral-300",variants:t,initial:"hidden",animate:"visible",transition:{delay:1.8},children:"Web Applications"}),G.jsx(Ai.div,{variants:t,initial:"hidden",animate:"visible",transition:{delay:2},className:"mt-6",children:G.jsx("a",{href:"/ABHIJAY.pdf",target:"next",rel:"noopener noreferrer",children:G.jsx(_L,{})})})]})]})]})},vnt=()=>{const{scrollYProgress:n}=JH(),t=X0(n,{damping:50}),e=A1(t,[0,.5],["0%","70%"]),i=A1(t,[0,.5],["0%","-20%"]),s=A1(t,[0,.5],["0%","30%"]),a=A1(t,[0,.5],["0%","0%"]);return G.jsx("section",{className:"absolute inset-0 bg-black/40",children:G.jsxs("div",{className:"relative h-screen overflow-y-hidden",children:[G.jsx("div",{className:"absolute inset-0 w-full h-screen -z-50",style:{backgroundImage:"url(/assets/sky.jpg)",backgroundPosition:"bottom",backgroundSize:"cover"}}),G.jsx(Ai.div,{className:"absolute inset-0 -z-40",style:{backgroundImage:"url(/assets/mountain-3.png)",backgroundPosition:"bottom",backgroundSize:"cover",y:e}}),G.jsx(Ai.div,{className:"absolute inset-0 -z-30",style:{backgroundImage:"url(/assets/planets.png)",backgroundPosition:"bottom",backgroundSize:"cover",x:i}}),G.jsx(Ai.div,{className:"absolute inset-0 -z-20",style:{backgroundImage:"url(/assets/mountain-2.png)",backgroundPosition:"bottom",backgroundSize:"cover",y:s}}),G.jsx(Ai.div,{className:"absolute inset-0 -z-10",style:{backgroundImage:"url(/assets/mountain-1.png)",backgroundPosition:"bottom",backgroundSize:"cover",y:a}})]})})};function YE(){return YE=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},YE.apply(null,arguments)}const zv=new q,xw=new q,ynt=new q,SL=new Ft;function xnt(n,t,e){const i=zv.setFromMatrixPosition(n.matrixWorld);i.project(t);const s=e.width/2,a=e.height/2;return[i.x*s+s,-(i.y*a)+a]}function Ant(n,t){const e=zv.setFromMatrixPosition(n.matrixWorld),i=xw.setFromMatrixPosition(t.matrixWorld),s=e.sub(i),a=t.getWorldDirection(ynt);return s.angleTo(a)>Math.PI/2}function _nt(n,t,e,i){const s=zv.setFromMatrixPosition(n.matrixWorld),a=s.clone();a.project(t),SL.set(a.x,a.y),e.setFromCamera(SL,t);const o=e.intersectObjects(i,!0);if(o.length){const c=o[0].distance;return s.distanceTo(e.ray.origin)<c}return!0}function Snt(n,t){if(t instanceof sf)return t.zoom;if(t instanceof Vi){const e=zv.setFromMatrixPosition(n.matrixWorld),i=xw.setFromMatrixPosition(t.matrixWorld),s=t.fov*Math.PI/180,a=e.distanceTo(i);return 1/(2*Math.tan(s/2)*a)}else return 1}function bnt(n,t,e){if(t instanceof Vi||t instanceof sf){const i=zv.setFromMatrixPosition(n.matrixWorld),s=xw.setFromMatrixPosition(t.matrixWorld),a=i.distanceTo(s),o=(e[1]-e[0])/(t.far-t.near),c=e[1]-o*t.far;return Math.round(o*a+c)}}const WE=n=>Math.abs(n)<1e-10?0:n;function FI(n,t,e=""){let i="matrix3d(";for(let s=0;s!==16;s++)i+=WE(t[s]*n.elements[s])+(s!==15?",":")");return e+i}const Mnt=(n=>t=>FI(t,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),Ent=(n=>(t,e)=>FI(t,n(e),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function Tnt(n){return n&&typeof n=="object"&&"current"in n}const Cnt=J.forwardRef(({children:n,eps:t=.001,style:e,className:i,prepend:s,center:a,fullscreen:o,portal:c,distanceFactor:u,sprite:d=!1,transform:m=!1,occlude:g,onOcclude:y,castShadow:A,receiveShadow:b,material:T,geometry:E,zIndexRange:S=[16777271,0],calculatePosition:R=xnt,as:B="div",wrapperClass:D,pointerEvents:U="auto",...N},F)=>{const{gl:z,camera:O,scene:I,size:Y,raycaster:dt,events:at,viewport:Q}=qq(),[lt]=J.useState(()=>document.createElement(B)),tt=J.useRef(null),et=J.useRef(null),Z=J.useRef(0),vt=J.useRef([0,0]),X=J.useRef(null),it=J.useRef(null),Mt=(c==null?void 0:c.current)||at.connected||z.domElement.parentNode,Ot=J.useRef(null),st=J.useRef(!1),Et=J.useMemo(()=>g&&g!=="blending"||Array.isArray(g)&&g.length&&Tnt(g[0]),[g]);J.useLayoutEffect(()=>{const Xt=z.domElement;g&&g==="blending"?(Xt.style.zIndex=`${Math.floor(S[0]/2)}`,Xt.style.position="absolute",Xt.style.pointerEvents="none"):(Xt.style.zIndex=null,Xt.style.position=null,Xt.style.pointerEvents=null)},[g]),J.useLayoutEffect(()=>{if(et.current){const Xt=tt.current=CN.createRoot(lt);if(I.updateMatrixWorld(),m)lt.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const ne=R(et.current,O,Y);lt.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${ne[0]}px,${ne[1]}px,0);transform-origin:0 0;`}return Mt&&(s?Mt.prepend(lt):Mt.appendChild(lt)),()=>{Mt&&Mt.removeChild(lt),Xt.unmount()}}},[Mt,m]),J.useLayoutEffect(()=>{D&&(lt.className=D)},[D]);const Bt=J.useMemo(()=>m?{position:"absolute",top:0,left:0,width:Y.width,height:Y.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:a?"translate3d(-50%,-50%,0)":"none",...o&&{top:-Y.height/2,left:-Y.width/2,width:Y.width,height:Y.height},...e},[e,a,o,Y,m]),Pt=J.useMemo(()=>({position:"absolute",pointerEvents:U}),[U]);J.useLayoutEffect(()=>{if(st.current=!1,m){var Xt;(Xt=tt.current)==null||Xt.render(J.createElement("div",{ref:X,style:Bt},J.createElement("div",{ref:it,style:Pt},J.createElement("div",{ref:F,className:i,style:e,children:n}))))}else{var ne;(ne=tt.current)==null||ne.render(J.createElement("div",{ref:F,style:Bt,className:i,children:n}))}});const Ht=J.useRef(!0);Lv(Xt=>{if(et.current){O.updateMatrixWorld(),et.current.updateWorldMatrix(!0,!1);const ne=m?vt.current:R(et.current,O,Y);if(m||Math.abs(Z.current-O.zoom)>t||Math.abs(vt.current[0]-ne[0])>t||Math.abs(vt.current[1]-ne[1])>t){const Dt=Ant(et.current,O);let Rt=!1;Et&&(Array.isArray(g)?Rt=g.map(Qt=>Qt.current):g!=="blending"&&(Rt=[I]));const K=Ht.current;if(Rt){const Qt=_nt(et.current,O,dt,Rt);Ht.current=Qt&&!Dt}else Ht.current=!Dt;K!==Ht.current&&(y?y(!Ht.current):lt.style.display=Ht.current?"block":"none");const he=Math.floor(S[0]/2),Vt=g?Et?[S[0],he]:[he-1,0]:S;if(lt.style.zIndex=`${bnt(et.current,O,Vt)}`,m){const[Qt,Jt]=[Y.width/2,Y.height/2],_e=O.projectionMatrix.elements[5]*Jt,{isOrthographicCamera:Zt,top:W,left:H,bottom:yt,right:Ct}=O,Gt=Mnt(O.matrixWorldInverse),Lt=Zt?`scale(${_e})translate(${WE(-(Ct+H)/2)}px,${WE((W+yt)/2)}px)`:`translateZ(${_e}px)`;let ue=et.current.matrixWorld;d&&(ue=O.matrixWorldInverse.clone().transpose().copyPosition(ue).scale(et.current.scale),ue.elements[3]=ue.elements[7]=ue.elements[11]=0,ue.elements[15]=1),lt.style.width=Y.width+"px",lt.style.height=Y.height+"px",lt.style.perspective=Zt?"":`${_e}px`,X.current&&it.current&&(X.current.style.transform=`${Lt}${Gt}translate(${Qt}px,${Jt}px)`,it.current.style.transform=Ent(ue,1/((u||10)/400)))}else{const Qt=u===void 0?1:Snt(et.current,O)*u;lt.style.transform=`translate3d(${ne[0]}px,${ne[1]}px,0) scale(${Qt})`}vt.current=ne,Z.current=O.zoom}}if(!Et&&Ot.current&&!st.current)if(m){if(X.current){const ne=X.current.children[0];if(ne!=null&&ne.clientWidth&&ne!=null&&ne.clientHeight){const{isOrthographicCamera:Dt}=O;if(Dt||E)N.scale&&(Array.isArray(N.scale)?N.scale instanceof q?Ot.current.scale.copy(N.scale.clone().divideScalar(1)):Ot.current.scale.set(1/N.scale[0],1/N.scale[1],1/N.scale[2]):Ot.current.scale.setScalar(1/N.scale));else{const Rt=(u||10)/400,K=ne.clientWidth*Rt,he=ne.clientHeight*Rt;Ot.current.scale.set(K,he,1)}st.current=!0}}}else{const ne=lt.children[0];if(ne!=null&&ne.clientWidth&&ne!=null&&ne.clientHeight){const Dt=1/Q.factor,Rt=ne.clientWidth*Dt,K=ne.clientHeight*Dt;Ot.current.scale.set(Rt,K,1),st.current=!0}Ot.current.lookAt(Xt.camera.position)}});const fe=J.useMemo(()=>({vertexShader:m?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[m]);return J.createElement("group",YE({},N,{ref:et}),g&&!Et&&J.createElement("mesh",{castShadow:A,receiveShadow:b,ref:Ot},E||J.createElement("planeGeometry",null),T||J.createElement("shaderMaterial",{side:zr,vertexShader:fe.vertexShader,fragmentShader:fe.fragmentShader})))}),wnt=n=>n;function Rnt(n,t=wnt){const e=Nl.useSyncExternalStore(n.subscribe,()=>t(n.getState()),()=>t(n.getInitialState()));return Nl.useDebugValue(e),e}const bL=n=>{const t=s4(n),e=i=>Rnt(t,i);return Object.assign(e,t),e},Bnt=n=>n?bL(n):bL;let e0=0;const Dnt=Bnt(n=>(Dp.onStart=(t,e,i)=>{n({active:!0,item:t,loaded:e,total:i,progress:(e-e0)/(i-e0)*100})},Dp.onLoad=()=>{n({active:!1})},Dp.onError=t=>n(e=>({errors:[...e.errors,t]})),Dp.onProgress=(t,e,i)=>{e===i&&(e0=i),n({active:!0,item:t,loaded:e,total:i,progress:(e-e0)/(i-e0)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function F0(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function qE(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function Lnt(n,t){if(n){if(typeof n=="string")return qE(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return qE(n,t)}}function Nnt(n){if(Array.isArray(n))return qE(n)}function Unt(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Ont(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pnt(n){return Nnt(n)||Unt(n)||Lnt(n)||Ont()}new Ft;new Ft;function Int(n,t,e){return Math.max(t,Math.min(e,n))}function Fnt(n,t){return Int(n-Math.floor(n/t)*t,0,t)}function znt(n,t){var e=Fnt(t-n,Math.PI*2);return e>Math.PI&&(e-=Math.PI*2),e}function zI(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}var Or=function n(t,e,i){var s=this;zI(this,n),F0(this,"dot2",function(a,o){return s.x*a+s.y*o}),F0(this,"dot3",function(a,o,c){return s.x*a+s.y*o+s.z*c}),this.x=t,this.y=e,this.z=i},Hnt=[new Or(1,1,0),new Or(-1,1,0),new Or(1,-1,0),new Or(-1,-1,0),new Or(1,0,1),new Or(-1,0,1),new Or(1,0,-1),new Or(-1,0,-1),new Or(0,1,1),new Or(0,-1,1),new Or(0,1,-1),new Or(0,-1,-1)],ML=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],EL=new Array(512),TL=new Array(512),Gnt=function(t){t>0&&t<1&&(t*=65536),t=Math.floor(t),t<256&&(t|=t<<8);for(var e=0;e<256;e++){var i;e&1?i=ML[e]^t&255:i=ML[e]^t>>8&255,EL[e]=EL[e+256]=i,TL[e]=TL[e+256]=Hnt[i%12]}};Gnt(0);function Vnt(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var t=n;n=0;for(var e=0;e<t.length;e++)n=(n+(e+1)*(t.charCodeAt(e)%96))%2147483647}return n===0&&(n=311),n}function CL(n){var t=Vnt(n);return function(){var e=t*48271%2147483647;return t=e,e/2147483647}}var knt=function n(t){var e=this;zI(this,n),F0(this,"seed",0),F0(this,"init",function(i){e.seed=i,e.value=CL(i)}),F0(this,"value",CL(this.seed)),this.init(t)};new knt(Math.random());var jnt=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return i/Math.atan(1/e)*Math.atan(Math.sin(2*Math.PI*t*s)/e)},HI=function(t){return 1/(1+t+.48*t*t+.235*t*t*t)},Xnt=function(t){return t},Ynt={in:function(t){return 1-Math.cos(t*Math.PI/2)},out:function(t){return Math.sin(t*Math.PI/2)},inOut:function(t){return-(Math.cos(Math.PI*t)-1)/2}},Wnt={in:function(t){return t*t*t},out:function(t){return 1-Math.pow(1-t,3)},inOut:function(t){return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2}},qnt={in:function(t){return t*t*t*t*t},out:function(t){return 1-Math.pow(1-t,5)},inOut:function(t){return t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2}},Knt={in:function(t){return 1-Math.sqrt(1-Math.pow(t,2))},out:function(t){return Math.sqrt(1-Math.pow(t-1,2))},inOut:function(t){return t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2}},Jnt={in:function(t){return t*t*t*t},out:function(t){return 1- --t*t*t*t},inOut:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t}},Znt={in:function(t){return t===0?0:Math.pow(2,10*t-10)},out:function(t){return t===1?1:1-Math.pow(2,-10*t)},inOut:function(t){return t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2}};function is(n,t,e){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:HI,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,u="velocity_"+t;if(n.__damp===void 0&&(n.__damp={}),n.__damp[u]===void 0&&(n.__damp[u]=0),Math.abs(n[t]-e)<=c)return n[t]=e,!1;i=Math.max(1e-4,i);var d=2/i,m=o(d*s),g=n[t]-e,y=e,A=a*i;g=Math.min(Math.max(g,-A),A),e=n[t]-g;var b=(n.__damp[u]+d*g)*s;n.__damp[u]=(n.__damp[u]-d*b)*m;var T=e+(g+b)*m;return y-n[t]>0==T>y&&(T=y,n.__damp[u]=(T-y)/s),n[t]=T,!0}var Qnt=function(t){return t&&t.isCamera},$nt=function(t){return t&&t.isLight},n0=new q,wL=new Xi,RL=new Xi,i0=new Re,bM=new q;function tit(n,t,e,i,s,a,o){typeof t=="number"?n0.setScalar(t):Array.isArray(t)?n0.set(t[0],t[1],t[2]):n0.copy(t);var c=n.parent;n.updateWorldMatrix(!0,!1),bM.setFromMatrixPosition(n.matrixWorld),Qnt(n)||$nt(n)?i0.lookAt(bM,n0,n.up):i0.lookAt(n0,bM,n.up),$A(n.quaternion,RL.setFromRotationMatrix(i0),e,i,s,a,o),c&&(i0.extractRotation(c.matrixWorld),wL.setFromRotationMatrix(i0),$A(n.quaternion,RL.copy(n.quaternion).premultiply(wL.invert()),e,i,s,a,o))}function Vp(n,t,e,i,s,a,o,c){return is(n,t,n[t]+znt(n[t],e),i,s,a,o,c)}var s0=new Ft,BL,DL;function eit(n,t,e,i,s,a,o){return typeof t=="number"?s0.setScalar(t):Array.isArray(t)?s0.set(t[0],t[1]):s0.copy(t),BL=is(n,"x",s0.x,e,i,s,a,o),DL=is(n,"y",s0.y,e,i,s,a,o),BL||DL}var Ap=new q,LL,NL,UL;function KE(n,t,e,i,s,a,o){return typeof t=="number"?Ap.setScalar(t):Array.isArray(t)?Ap.set(t[0],t[1],t[2]):Ap.copy(t),LL=is(n,"x",Ap.x,e,i,s,a,o),NL=is(n,"y",Ap.y,e,i,s,a,o),UL=is(n,"z",Ap.z,e,i,s,a,o),LL||NL||UL}var hh=new mn,OL,PL,IL,FL;function nit(n,t,e,i,s,a,o){return typeof t=="number"?hh.setScalar(t):Array.isArray(t)?hh.set(t[0],t[1],t[2],t[3]):hh.copy(t),OL=is(n,"x",hh.x,e,i,s,a,o),PL=is(n,"y",hh.y,e,i,s,a,o),IL=is(n,"z",hh.z,e,i,s,a,o),FL=is(n,"w",hh.w,e,i,s,a,o),OL||PL||IL||FL}var a0=new Wa,zL,HL,GL;function iit(n,t,e,i,s,a,o){return Array.isArray(t)?a0.set(t[0],t[1],t[2],t[3]):a0.copy(t),zL=Vp(n,"x",a0.x,e,i,s,a,o),HL=Vp(n,"y",a0.y,e,i,s,a,o),GL=Vp(n,"z",a0.z,e,i,s,a,o),zL||HL||GL}var _p=new ie,VL,kL,jL;function sit(n,t,e,i,s,a,o){return t instanceof ie?_p.copy(t):Array.isArray(t)?_p.setRGB(t[0],t[1],t[2]):_p.set(t),VL=is(n,"r",_p.r,e,i,s,a,o),kL=is(n,"g",_p.g,e,i,s,a,o),jL=is(n,"b",_p.b,e,i,s,a,o),VL||kL||jL}var To=new Xi,_c=new mn,XL=new mn,r0=new mn,YL,WL,qL,KL;function $A(n,t,e,i,s,a,o){var c=n;Array.isArray(t)?To.set(t[0],t[1],t[2],t[3]):To.copy(t);var u=n.dot(To)>0?1:-1;return To.x*=u,To.y*=u,To.z*=u,To.w*=u,YL=is(n,"x",To.x,e,i,s,a,o),WL=is(n,"y",To.y,e,i,s,a,o),qL=is(n,"z",To.z,e,i,s,a,o),KL=is(n,"w",To.w,e,i,s,a,o),_c.set(n.x,n.y,n.z,n.w).normalize(),XL.set(c.__damp.velocity_x,c.__damp.velocity_y,c.__damp.velocity_z,c.__damp.velocity_w),r0.copy(_c).multiplyScalar(XL.dot(_c)/_c.dot(_c)),c.__damp.velocity_x-=r0.x,c.__damp.velocity_y-=r0.y,c.__damp.velocity_z-=r0.z,c.__damp.velocity_w-=r0.w,n.set(_c.x,_c.y,_c.z,_c.w),YL||WL||qL||KL}var o0=new KP,JL,ZL,QL;function ait(n,t,e,i,s,a,o){return Array.isArray(t)?o0.set(t[0],t[1],t[2]):o0.copy(t),JL=is(n,"radius",o0.radius,e,i,s,a,o),ZL=Vp(n,"phi",o0.phi,e,i,s,a,o),QL=Vp(n,"theta",o0.theta,e,i,s,a,o),JL||ZL||QL}var _x=new Re,$L=new q,tN=new Xi,eN=new q,nN,iN,sN;function rit(n,t,e,i,s,a,o){var c=n;return c.__damp===void 0&&(c.__damp={position:new q,rotation:new Xi,scale:new q},n.decompose(c.__damp.position,c.__damp.rotation,c.__damp.scale)),Array.isArray(t)?_x.set.apply(_x,Pnt(t)):_x.copy(t),_x.decompose($L,tN,eN),nN=KE(c.__damp.position,$L,e,i,s,a,o),iN=$A(c.__damp.rotation,tN,e,i,s,a,o),sN=KE(c.__damp.scale,eN,e,i,s,a,o),n.compose(c.__damp.position,c.__damp.rotation,c.__damp.scale),nN||iN||sN}var oit=Object.freeze({__proto__:null,rsqw:jnt,exp:HI,linear:Xnt,sine:Ynt,cubic:Wnt,quint:qnt,circ:Knt,quart:Jnt,expo:Znt,damp:is,dampLookAt:tit,dampAngle:Vp,damp2:eit,damp3:KE,damp4:nit,dampE:iit,dampC:sit,dampQ:$A,dampS:ait,dampM:rit});const lit=parseInt(xv.replace(/\D+/g,""));function aN(n,t){if(t===GO)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(t===UA||t===XT){let e=n.getIndex();if(e===null){const o=[],c=n.getAttribute("position");if(c!==void 0){for(let u=0;u<c.count;u++)o.push(u);n.setIndex(o),e=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=e.count-2,s=[];if(e)if(t===UA)for(let o=1;o<=i;o++)s.push(e.getX(0)),s.push(e.getX(o)),s.push(e.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(s.push(e.getX(o)),s.push(e.getX(o+1)),s.push(e.getX(o+2))):(s.push(e.getX(o+2)),s.push(e.getX(o+1)),s.push(e.getX(o)));s.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=n.clone();return a.setIndex(s),a.clearGroups(),a}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),n}function t_(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let t="";for(let e=0,i=n.length;e<i;e++)t+=String.fromCharCode(n[e]);try{return decodeURIComponent(escape(t))}catch{return t}}const Rh="srgb",Oc="srgb-linear",rN=3001,cit=3e3;class Aw extends oa{constructor(t){super(t),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(e){return new pit(e)}),this.register(function(e){return new mit(e)}),this.register(function(e){return new Mit(e)}),this.register(function(e){return new Eit(e)}),this.register(function(e){return new Tit(e)}),this.register(function(e){return new vit(e)}),this.register(function(e){return new yit(e)}),this.register(function(e){return new xit(e)}),this.register(function(e){return new Ait(e)}),this.register(function(e){return new dit(e)}),this.register(function(e){return new _it(e)}),this.register(function(e){return new git(e)}),this.register(function(e){return new bit(e)}),this.register(function(e){return new Sit(e)}),this.register(function(e){return new fit(e)}),this.register(function(e){return new Cit(e)}),this.register(function(e){return new wit(e)})}load(t,e,i,s){const a=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const d=ju.extractUrlBase(t);o=ju.resolveURL(d,this.path)}else o=ju.extractUrlBase(t);this.manager.itemStart(t);const c=function(d){s?s(d):console.error(d),a.manager.itemError(t),a.manager.itemEnd(t)},u=new mr(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(t,function(d){try{a.parse(d,o,function(m){e(m),a.manager.itemEnd(t)},c)}catch(m){c(m)}},i,c)}setDRACOLoader(t){return this.dracoLoader=t,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(t){return this.ktx2Loader=t,this}setMeshoptDecoder(t){return this.meshoptDecoder=t,this}register(t){return this.pluginCallbacks.indexOf(t)===-1&&this.pluginCallbacks.push(t),this}unregister(t){return this.pluginCallbacks.indexOf(t)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,e,i,s){let a;const o={},c={};if(typeof t=="string")a=JSON.parse(t);else if(t instanceof ArrayBuffer)if(t_(new Uint8Array(t.slice(0,4)))===GI){try{o[pn.KHR_BINARY_GLTF]=new Rit(t)}catch(m){s&&s(m);return}a=JSON.parse(o[pn.KHR_BINARY_GLTF].content)}else a=JSON.parse(t_(new Uint8Array(t)));else a=t;if(a.asset===void 0||a.asset.version[0]<2){s&&s(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new Vit(a,{path:e||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let d=0;d<this.pluginCallbacks.length;d++){const m=this.pluginCallbacks[d](u);m.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),c[m.name]=m,o[m.name]=!0}if(a.extensionsUsed)for(let d=0;d<a.extensionsUsed.length;++d){const m=a.extensionsUsed[d],g=a.extensionsRequired||[];switch(m){case pn.KHR_MATERIALS_UNLIT:o[m]=new hit;break;case pn.KHR_DRACO_MESH_COMPRESSION:o[m]=new Bit(a,this.dracoLoader);break;case pn.KHR_TEXTURE_TRANSFORM:o[m]=new Dit;break;case pn.KHR_MESH_QUANTIZATION:o[m]=new Lit;break;default:g.indexOf(m)>=0&&c[m]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+m+'".')}}u.setExtensions(o),u.setPlugins(c),u.parse(i,s)}parseAsync(t,e){const i=this;return new Promise(function(s,a){i.parse(t,e,s,a)})}}function uit(){let n={};return{get:function(t){return n[t]},add:function(t,e){n[t]=e},remove:function(t){delete n[t]},removeAll:function(){n={}}}}const pn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class fit{constructor(t){this.parser=t,this.name=pn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const t=this.parser,e=this.parser.json.nodes||[];for(let i=0,s=e.length;i<s;i++){const a=e[i];a.extensions&&a.extensions[this.name]&&a.extensions[this.name].light!==void 0&&t._addNodeRef(this.cache,a.extensions[this.name].light)}}_loadLight(t){const e=this.parser,i="light:"+t;let s=e.cache.get(i);if(s)return s;const a=e.json,u=((a.extensions&&a.extensions[this.name]||{}).lights||[])[t];let d;const m=new ie(16777215);u.color!==void 0&&m.setRGB(u.color[0],u.color[1],u.color[2],Oc);const g=u.range!==void 0?u.range:0;switch(u.type){case"directional":d=new xC(m),d.target.position.set(0,0,-1),d.add(d.target);break;case"point":d=new yC(m),d.distance=g;break;case"spot":d=new vC(m),d.distance=g,u.spot=u.spot||{},u.spot.innerConeAngle=u.spot.innerConeAngle!==void 0?u.spot.innerConeAngle:0,u.spot.outerConeAngle=u.spot.outerConeAngle!==void 0?u.spot.outerConeAngle:Math.PI/4,d.angle=u.spot.outerConeAngle,d.penumbra=1-u.spot.innerConeAngle/u.spot.outerConeAngle,d.target.position.set(0,0,-1),d.add(d.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+u.type)}return d.position.set(0,0,0),d.decay=2,Mc(d,u),u.intensity!==void 0&&(d.intensity=u.intensity),d.name=e.createUniqueName(u.name||"light_"+t),s=Promise.resolve(d),e.cache.add(i,s),s}getDependency(t,e){if(t==="light")return this._loadLight(e)}createNodeAttachment(t){const e=this,i=this.parser,a=i.json.nodes[t],c=(a.extensions&&a.extensions[this.name]||{}).light;return c===void 0?null:this._loadLight(c).then(function(u){return i._getNodeRef(e.cache,c,u)})}}class hit{constructor(){this.name=pn.KHR_MATERIALS_UNLIT}getMaterialType(){return dr}extendParams(t,e,i){const s=[];t.color=new ie(1,1,1),t.opacity=1;const a=e.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){const o=a.baseColorFactor;t.color.setRGB(o[0],o[1],o[2],Oc),t.opacity=o[3]}a.baseColorTexture!==void 0&&s.push(i.assignTexture(t,"map",a.baseColorTexture,Rh))}return Promise.all(s)}}class dit{constructor(t){this.parser=t,this.name=pn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(t,e){const s=this.parser.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=s.extensions[this.name].emissiveStrength;return a!==void 0&&(e.emissiveIntensity=a),Promise.resolve()}}class pit{constructor(t){this.parser=t,this.name=pn.KHR_MATERIALS_CLEARCOAT}getMaterialType(t){const i=this.parser.json.materials[t];return!i.extensions||!i.extensions[this.name]?null:Vr}extendMaterialParams(t,e){const i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=[],o=s.extensions[this.name];if(o.clearcoatFactor!==void 0&&(e.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&a.push(i.assignTexture(e,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(e.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&a.push(i.assignTexture(e,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(a.push(i.assignTexture(e,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const c=o.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new Ft(c,c)}return Promise.all(a)}}class mit{constructor(t){this.parser=t,this.name=pn.KHR_MATERIALS_DISPERSION}getMaterialType(t){const i=this.parser.json.materials[t];return!i.extensions||!i.extensions[this.name]?null:Vr}extendMaterialParams(t,e){const s=this.parser.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=s.extensions[this.name];return e.dispersion=a.dispersion!==void 0?a.dispersion:0,Promise.resolve()}}class git{constructor(t){this.parser=t,this.name=pn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(t){const i=this.parser.json.materials[t];return!i.extensions||!i.extensions[this.name]?null:Vr}extendMaterialParams(t,e){const i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=[],o=s.extensions[this.name];return o.iridescenceFactor!==void 0&&(e.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&a.push(i.assignTexture(e,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(e.iridescenceIOR=o.iridescenceIor),e.iridescenceThicknessRange===void 0&&(e.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(e.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(e.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&a.push(i.assignTexture(e,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(a)}}class vit{constructor(t){this.parser=t,this.name=pn.KHR_MATERIALS_SHEEN}getMaterialType(t){const i=this.parser.json.materials[t];return!i.extensions||!i.extensions[this.name]?null:Vr}extendMaterialParams(t,e){const i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=[];e.sheenColor=new ie(0,0,0),e.sheenRoughness=0,e.sheen=1;const o=s.extensions[this.name];if(o.sheenColorFactor!==void 0){const c=o.sheenColorFactor;e.sheenColor.setRGB(c[0],c[1],c[2],Oc)}return o.sheenRoughnessFactor!==void 0&&(e.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&a.push(i.assignTexture(e,"sheenColorMap",o.sheenColorTexture,Rh)),o.sheenRoughnessTexture!==void 0&&a.push(i.assignTexture(e,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(a)}}class yit{constructor(t){this.parser=t,this.name=pn.KHR_MATERIALS_TRANSMISSION}getMaterialType(t){const i=this.parser.json.materials[t];return!i.extensions||!i.extensions[this.name]?null:Vr}extendMaterialParams(t,e){const i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=[],o=s.extensions[this.name];return o.transmissionFactor!==void 0&&(e.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&a.push(i.assignTexture(e,"transmissionMap",o.transmissionTexture)),Promise.all(a)}}class xit{constructor(t){this.parser=t,this.name=pn.KHR_MATERIALS_VOLUME}getMaterialType(t){const i=this.parser.json.materials[t];return!i.extensions||!i.extensions[this.name]?null:Vr}extendMaterialParams(t,e){const i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=[],o=s.extensions[this.name];e.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&a.push(i.assignTexture(e,"thicknessMap",o.thicknessTexture)),e.attenuationDistance=o.attenuationDistance||1/0;const c=o.attenuationColor||[1,1,1];return e.attenuationColor=new ie().setRGB(c[0],c[1],c[2],Oc),Promise.all(a)}}class Ait{constructor(t){this.parser=t,this.name=pn.KHR_MATERIALS_IOR}getMaterialType(t){const i=this.parser.json.materials[t];return!i.extensions||!i.extensions[this.name]?null:Vr}extendMaterialParams(t,e){const s=this.parser.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=s.extensions[this.name];return e.ior=a.ior!==void 0?a.ior:1.5,Promise.resolve()}}class _it{constructor(t){this.parser=t,this.name=pn.KHR_MATERIALS_SPECULAR}getMaterialType(t){const i=this.parser.json.materials[t];return!i.extensions||!i.extensions[this.name]?null:Vr}extendMaterialParams(t,e){const i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=[],o=s.extensions[this.name];e.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&a.push(i.assignTexture(e,"specularIntensityMap",o.specularTexture));const c=o.specularColorFactor||[1,1,1];return e.specularColor=new ie().setRGB(c[0],c[1],c[2],Oc),o.specularColorTexture!==void 0&&a.push(i.assignTexture(e,"specularColorMap",o.specularColorTexture,Rh)),Promise.all(a)}}class Sit{constructor(t){this.parser=t,this.name=pn.EXT_MATERIALS_BUMP}getMaterialType(t){const i=this.parser.json.materials[t];return!i.extensions||!i.extensions[this.name]?null:Vr}extendMaterialParams(t,e){const i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=[],o=s.extensions[this.name];return e.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&a.push(i.assignTexture(e,"bumpMap",o.bumpTexture)),Promise.all(a)}}class bit{constructor(t){this.parser=t,this.name=pn.KHR_MATERIALS_ANISOTROPY}getMaterialType(t){const i=this.parser.json.materials[t];return!i.extensions||!i.extensions[this.name]?null:Vr}extendMaterialParams(t,e){const i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=[],o=s.extensions[this.name];return o.anisotropyStrength!==void 0&&(e.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(e.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&a.push(i.assignTexture(e,"anisotropyMap",o.anisotropyTexture)),Promise.all(a)}}class Mit{constructor(t){this.parser=t,this.name=pn.KHR_TEXTURE_BASISU}loadTexture(t){const e=this.parser,i=e.json,s=i.textures[t];if(!s.extensions||!s.extensions[this.name])return null;const a=s.extensions[this.name],o=e.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return e.loadTextureImage(t,a.source,o)}}class Eit{constructor(t){this.parser=t,this.name=pn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(t){const e=this.name,i=this.parser,s=i.json,a=s.textures[t];if(!a.extensions||!a.extensions[e])return null;const o=a.extensions[e],c=s.images[o.source];let u=i.textureLoader;if(c.uri){const d=i.options.manager.getHandler(c.uri);d!==null&&(u=d)}return this.detectSupport().then(function(d){if(d)return i.loadTextureImage(t,o.source,u);if(s.extensionsRequired&&s.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const e=new Image;e.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",e.onload=e.onerror=function(){t(e.height===1)}})),this.isSupported}}class Tit{constructor(t){this.parser=t,this.name=pn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(t){const e=this.name,i=this.parser,s=i.json,a=s.textures[t];if(!a.extensions||!a.extensions[e])return null;const o=a.extensions[e],c=s.images[o.source];let u=i.textureLoader;if(c.uri){const d=i.options.manager.getHandler(c.uri);d!==null&&(u=d)}return this.detectSupport().then(function(d){if(d)return i.loadTextureImage(t,o.source,u);if(s.extensionsRequired&&s.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const e=new Image;e.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",e.onload=e.onerror=function(){t(e.height===1)}})),this.isSupported}}class Cit{constructor(t){this.name=pn.EXT_MESHOPT_COMPRESSION,this.parser=t}loadBufferView(t){const e=this.parser.json,i=e.bufferViews[t];if(i.extensions&&i.extensions[this.name]){const s=i.extensions[this.name],a=this.parser.getDependency("buffer",s.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(e.extensionsRequired&&e.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return a.then(function(c){const u=s.byteOffset||0,d=s.byteLength||0,m=s.count,g=s.byteStride,y=new Uint8Array(c,u,d);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(m,g,y,s.mode,s.filter).then(function(A){return A.buffer}):o.ready.then(function(){const A=new ArrayBuffer(m*g);return o.decodeGltfBuffer(new Uint8Array(A),m,g,y,s.mode,s.filter),A})})}else return null}}class wit{constructor(t){this.name=pn.EXT_MESH_GPU_INSTANCING,this.parser=t}createNodeMesh(t){const e=this.parser.json,i=e.nodes[t];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const s=e.meshes[i.mesh];for(const d of s.primitives)if(d.mode!==Fr.TRIANGLES&&d.mode!==Fr.TRIANGLE_STRIP&&d.mode!==Fr.TRIANGLE_FAN&&d.mode!==void 0)return null;const o=i.extensions[this.name].attributes,c=[],u={};for(const d in o)c.push(this.parser.getDependency("accessor",o[d]).then(m=>(u[d]=m,u[d])));return c.length<1?null:(c.push(this.parser.createNodeMesh(t)),Promise.all(c).then(d=>{const m=d.pop(),g=m.isGroup?m.children:[m],y=d[0].count,A=[];for(const b of g){const T=new Re,E=new q,S=new Xi,R=new q(1,1,1),B=new tC(b.geometry,b.material,y);for(let D=0;D<y;D++)u.TRANSLATION&&E.fromBufferAttribute(u.TRANSLATION,D),u.ROTATION&&S.fromBufferAttribute(u.ROTATION,D),u.SCALE&&R.fromBufferAttribute(u.SCALE,D),B.setMatrixAt(D,T.compose(E,S,R));for(const D in u)if(D==="_COLOR_0"){const U=u[D];B.instanceColor=new Vh(U.array,U.itemSize,U.normalized)}else D!=="TRANSLATION"&&D!=="ROTATION"&&D!=="SCALE"&&b.geometry.setAttribute(D,u[D]);gn.prototype.copy.call(B,b),this.parser.assignFinalMaterial(B),A.push(B)}return m.isGroup?(m.clear(),m.add(...A),m):A[0]}))}}const GI="glTF",l0=12,oN={JSON:1313821514,BIN:5130562};class Rit{constructor(t){this.name=pn.KHR_BINARY_GLTF,this.content=null,this.body=null;const e=new DataView(t,0,l0);if(this.header={magic:t_(new Uint8Array(t.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==GI)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-l0,s=new DataView(t,l0);let a=0;for(;a<i;){const o=s.getUint32(a,!0);a+=4;const c=s.getUint32(a,!0);if(a+=4,c===oN.JSON){const u=new Uint8Array(t,l0+a,o);this.content=t_(u)}else if(c===oN.BIN){const u=l0+a;this.body=t.slice(u,u+o)}a+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Bit{constructor(t,e){if(!e)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=pn.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=e,this.dracoLoader.preload()}decodePrimitive(t,e){const i=this.json,s=this.dracoLoader,a=t.extensions[this.name].bufferView,o=t.extensions[this.name].attributes,c={},u={},d={};for(const m in o){const g=JE[m]||m.toLowerCase();c[g]=o[m]}for(const m in t.attributes){const g=JE[m]||m.toLowerCase();if(o[m]!==void 0){const y=i.accessors[t.attributes[m]],A=kp[y.componentType];d[g]=A.name,u[g]=y.normalized===!0}}return e.getDependency("bufferView",a).then(function(m){return new Promise(function(g,y){s.decodeDracoFile(m,function(A){for(const b in A.attributes){const T=A.attributes[b],E=u[b];E!==void 0&&(T.normalized=E)}g(A)},c,d,Oc,y)})})}}class Dit{constructor(){this.name=pn.KHR_TEXTURE_TRANSFORM}extendTexture(t,e){return(e.texCoord===void 0||e.texCoord===t.channel)&&e.offset===void 0&&e.rotation===void 0&&e.scale===void 0||(t=t.clone(),e.texCoord!==void 0&&(t.channel=e.texCoord),e.offset!==void 0&&t.offset.fromArray(e.offset),e.rotation!==void 0&&(t.rotation=e.rotation),e.scale!==void 0&&t.repeat.fromArray(e.scale),t.needsUpdate=!0),t}}class Lit{constructor(){this.name=pn.KHR_MESH_QUANTIZATION}}class VI extends vm{constructor(t,e,i,s){super(t,e,i,s)}copySampleValue_(t){const e=this.resultBuffer,i=this.sampleValues,s=this.valueSize,a=t*s*3+s;for(let o=0;o!==s;o++)e[o]=i[a+o];return e}interpolate_(t,e,i,s){const a=this.resultBuffer,o=this.sampleValues,c=this.valueSize,u=c*2,d=c*3,m=s-e,g=(i-e)/m,y=g*g,A=y*g,b=t*d,T=b-d,E=-2*A+3*y,S=A-y,R=1-E,B=S-y+g;for(let D=0;D!==c;D++){const U=o[T+D+c],N=o[T+D+u]*m,F=o[b+D+c],z=o[b+D]*m;a[D]=R*U+B*N+E*F+S*z}return a}}const Nit=new Xi;class Uit extends VI{interpolate_(t,e,i,s){const a=super.interpolate_(t,e,i,s);return Nit.fromArray(a).normalize().toArray(a),a}}const Fr={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},kp={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},lN={9728:Ts,9729:ki,9984:u_,9985:Hp,9986:_h,9987:Hr},cN={33071:hr,33648:Wp,10497:qu},MM={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},JE={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...lit>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Uu={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Oit={CUBICSPLINE:void 0,LINEAR:Jp,STEP:Kp},EM={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Pit(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Bv({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Ol})),n.DefaultMaterial}function dh(n,t,e){for(const i in e.extensions)n[i]===void 0&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[i]=e.extensions[i])}function Mc(n,t){t.extras!==void 0&&(typeof t.extras=="object"?Object.assign(n.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function Iit(n,t,e){let i=!1,s=!1,a=!1;for(let d=0,m=t.length;d<m;d++){const g=t[d];if(g.POSITION!==void 0&&(i=!0),g.NORMAL!==void 0&&(s=!0),g.COLOR_0!==void 0&&(a=!0),i&&s&&a)break}if(!i&&!s&&!a)return Promise.resolve(n);const o=[],c=[],u=[];for(let d=0,m=t.length;d<m;d++){const g=t[d];if(i){const y=g.POSITION!==void 0?e.getDependency("accessor",g.POSITION):n.attributes.position;o.push(y)}if(s){const y=g.NORMAL!==void 0?e.getDependency("accessor",g.NORMAL):n.attributes.normal;c.push(y)}if(a){const y=g.COLOR_0!==void 0?e.getDependency("accessor",g.COLOR_0):n.attributes.color;u.push(y)}}return Promise.all([Promise.all(o),Promise.all(c),Promise.all(u)]).then(function(d){const m=d[0],g=d[1],y=d[2];return i&&(n.morphAttributes.position=m),s&&(n.morphAttributes.normal=g),a&&(n.morphAttributes.color=y),n.morphTargetsRelative=!0,n})}function Fit(n,t){if(n.updateMorphTargets(),t.weights!==void 0)for(let e=0,i=t.weights.length;e<i;e++)n.morphTargetInfluences[e]=t.weights[e];if(t.extras&&Array.isArray(t.extras.targetNames)){const e=t.extras.targetNames;if(n.morphTargetInfluences.length===e.length){n.morphTargetDictionary={};for(let i=0,s=e.length;i<s;i++)n.morphTargetDictionary[e[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function zit(n){let t;const e=n.extensions&&n.extensions[pn.KHR_DRACO_MESH_COMPRESSION];if(e?t="draco:"+e.bufferView+":"+e.indices+":"+TM(e.attributes):t=n.indices+":"+TM(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,s=n.targets.length;i<s;i++)t+=":"+TM(n.targets[i]);return t}function TM(n){let t="";const e=Object.keys(n).sort();for(let i=0,s=e.length;i<s;i++)t+=e[i]+":"+n[e[i]]+";";return t}function ZE(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Hit(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const Git=new Re;class Vit{constructor(t={},e={}){this.json=t,this.extensions={},this.plugins={},this.options=e,this.cache=new uit,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,s=!1,a=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,s=navigator.userAgent.indexOf("Firefox")>-1,a=s?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||s&&a<98?this.textureLoader=new UP(this.options.manager):this.textureLoader=new VP(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new mr(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(t){this.extensions=t}setPlugins(t){this.plugins=t}parse(t,e){const i=this,s=this.json,a=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const c={scene:o[0][s.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:s.asset,parser:i,userData:{}};return dh(a,c,s),Mc(c,s),Promise.all(i._invokeAll(function(u){return u.afterRoot&&u.afterRoot(c)})).then(function(){for(const u of c.scenes)u.updateMatrixWorld();t(c)})}).catch(e)}_markDefs(){const t=this.json.nodes||[],e=this.json.skins||[],i=this.json.meshes||[];for(let s=0,a=e.length;s<a;s++){const o=e[s].joints;for(let c=0,u=o.length;c<u;c++)t[o[c]].isBone=!0}for(let s=0,a=t.length;s<a;s++){const o=t[s];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(t,e){e!==void 0&&(t.refs[e]===void 0&&(t.refs[e]=t.uses[e]=0),t.refs[e]++)}_getNodeRef(t,e,i){if(t.refs[e]<=1)return i;const s=i.clone(),a=(o,c)=>{const u=this.associations.get(o);u!=null&&this.associations.set(c,u);for(const[d,m]of o.children.entries())a(m,c.children[d])};return a(i,s),s.name+="_instance_"+t.uses[e]++,s}_invokeOne(t){const e=Object.values(this.plugins);e.push(this);for(let i=0;i<e.length;i++){const s=t(e[i]);if(s)return s}return null}_invokeAll(t){const e=Object.values(this.plugins);e.unshift(this);const i=[];for(let s=0;s<e.length;s++){const a=t(e[s]);a&&i.push(a)}return i}getDependency(t,e){const i=t+":"+e;let s=this.cache.get(i);if(!s){switch(t){case"scene":s=this.loadScene(e);break;case"node":s=this._invokeOne(function(a){return a.loadNode&&a.loadNode(e)});break;case"mesh":s=this._invokeOne(function(a){return a.loadMesh&&a.loadMesh(e)});break;case"accessor":s=this.loadAccessor(e);break;case"bufferView":s=this._invokeOne(function(a){return a.loadBufferView&&a.loadBufferView(e)});break;case"buffer":s=this.loadBuffer(e);break;case"material":s=this._invokeOne(function(a){return a.loadMaterial&&a.loadMaterial(e)});break;case"texture":s=this._invokeOne(function(a){return a.loadTexture&&a.loadTexture(e)});break;case"skin":s=this.loadSkin(e);break;case"animation":s=this._invokeOne(function(a){return a.loadAnimation&&a.loadAnimation(e)});break;case"camera":s=this.loadCamera(e);break;default:if(s=this._invokeOne(function(a){return a!=this&&a.getDependency&&a.getDependency(t,e)}),!s)throw new Error("Unknown type: "+t);break}this.cache.add(i,s)}return s}getDependencies(t){let e=this.cache.get(t);if(!e){const i=this,s=this.json[t+(t==="mesh"?"es":"s")]||[];e=Promise.all(s.map(function(a,o){return i.getDependency(t,o)})),this.cache.add(t,e)}return e}loadBuffer(t){const e=this.json.buffers[t],i=this.fileLoader;if(e.type&&e.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");if(e.uri===void 0&&t===0)return Promise.resolve(this.extensions[pn.KHR_BINARY_GLTF].body);const s=this.options;return new Promise(function(a,o){i.load(ju.resolveURL(e.uri,s.path),a,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+e.uri+'".'))})})}loadBufferView(t){const e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then(function(i){const s=e.byteLength||0,a=e.byteOffset||0;return i.slice(a,a+s)})}loadAccessor(t){const e=this,i=this.json,s=this.json.accessors[t];if(s.bufferView===void 0&&s.sparse===void 0){const o=MM[s.type],c=kp[s.componentType],u=s.normalized===!0,d=new c(s.count*o);return Promise.resolve(new wn(d,o,u))}const a=[];return s.bufferView!==void 0?a.push(this.getDependency("bufferView",s.bufferView)):a.push(null),s.sparse!==void 0&&(a.push(this.getDependency("bufferView",s.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",s.sparse.values.bufferView))),Promise.all(a).then(function(o){const c=o[0],u=MM[s.type],d=kp[s.componentType],m=d.BYTES_PER_ELEMENT,g=m*u,y=s.byteOffset||0,A=s.bufferView!==void 0?i.bufferViews[s.bufferView].byteStride:void 0,b=s.normalized===!0;let T,E;if(A&&A!==g){const S=Math.floor(y/A),R="InterleavedBuffer:"+s.bufferView+":"+s.componentType+":"+S+":"+s.count;let B=e.cache.get(R);B||(T=new d(c,S*A,s.count*A/m),B=new Mv(T,A/m),e.cache.add(R,B)),E=new Ju(B,u,y%A/m,b)}else c===null?T=new d(s.count*u):T=new d(c,y,s.count*u),E=new wn(T,u,b);if(s.sparse!==void 0){const S=MM.SCALAR,R=kp[s.sparse.indices.componentType],B=s.sparse.indices.byteOffset||0,D=s.sparse.values.byteOffset||0,U=new R(o[1],B,s.sparse.count*S),N=new d(o[2],D,s.sparse.count*u);c!==null&&(E=new wn(E.array.slice(),E.itemSize,E.normalized));for(let F=0,z=U.length;F<z;F++){const O=U[F];if(E.setX(O,N[F*u]),u>=2&&E.setY(O,N[F*u+1]),u>=3&&E.setZ(O,N[F*u+2]),u>=4&&E.setW(O,N[F*u+3]),u>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return E})}loadTexture(t){const e=this.json,i=this.options,a=e.textures[t].source,o=e.images[a];let c=this.textureLoader;if(o.uri){const u=i.manager.getHandler(o.uri);u!==null&&(c=u)}return this.loadTextureImage(t,a,c)}loadTextureImage(t,e,i){const s=this,a=this.json,o=a.textures[t],c=a.images[e],u=(c.uri||c.bufferView)+":"+o.sampler;if(this.textureCache[u])return this.textureCache[u];const d=this.loadImageSource(e,i).then(function(m){m.flipY=!1,m.name=o.name||c.name||"",m.name===""&&typeof c.uri=="string"&&c.uri.startsWith("data:image/")===!1&&(m.name=c.uri);const y=(a.samplers||{})[o.sampler]||{};return m.magFilter=lN[y.magFilter]||ki,m.minFilter=lN[y.minFilter]||Hr,m.wrapS=cN[y.wrapS]||qu,m.wrapT=cN[y.wrapT]||qu,s.associations.set(m,{textures:t}),m}).catch(function(){return null});return this.textureCache[u]=d,d}loadImageSource(t,e){const i=this,s=this.json,a=this.options;if(this.sourceCache[t]!==void 0)return this.sourceCache[t].then(g=>g.clone());const o=s.images[t],c=self.URL||self.webkitURL;let u=o.uri||"",d=!1;if(o.bufferView!==void 0)u=i.getDependency("bufferView",o.bufferView).then(function(g){d=!0;const y=new Blob([g],{type:o.mimeType});return u=c.createObjectURL(y),u});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");const m=Promise.resolve(u).then(function(g){return new Promise(function(y,A){let b=y;e.isImageBitmapLoader===!0&&(b=function(T){const E=new ui(T);E.needsUpdate=!0,y(E)}),e.load(ju.resolveURL(g,a.path),b,void 0,A)})}).then(function(g){return d===!0&&c.revokeObjectURL(u),Mc(g,o),g.userData.mimeType=o.mimeType||Hit(o.uri),g}).catch(function(g){throw console.error("THREE.GLTFLoader: Couldn't load texture",u),g});return this.sourceCache[t]=m,m}assignTexture(t,e,i,s){const a=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),a.extensions[pn.KHR_TEXTURE_TRANSFORM]){const c=i.extensions!==void 0?i.extensions[pn.KHR_TEXTURE_TRANSFORM]:void 0;if(c){const u=a.associations.get(o);o=a.extensions[pn.KHR_TEXTURE_TRANSFORM].extendTexture(o,c),a.associations.set(o,u)}}return s!==void 0&&(typeof s=="number"&&(s=s===rN?Rh:Oc),"colorSpace"in o?o.colorSpace=s:o.encoding=s===Rh?rN:cit),t[e]=o,o})}assignFinalMaterial(t){const e=t.geometry;let i=t.material;const s=e.attributes.tangent===void 0,a=e.attributes.color!==void 0,o=e.attributes.normal===void 0;if(t.isPoints){const c="PointsMaterial:"+i.uuid;let u=this.cache.get(c);u||(u=new M_,ss.prototype.copy.call(u,i),u.color.copy(i.color),u.map=i.map,u.sizeAttenuation=!1,this.cache.add(c,u)),i=u}else if(t.isLine){const c="LineBasicMaterial:"+i.uuid;let u=this.cache.get(c);u||(u=new ra,ss.prototype.copy.call(u,i),u.color.copy(i.color),u.map=i.map,this.cache.add(c,u)),i=u}if(s||a||o){let c="ClonedMaterial:"+i.uuid+":";s&&(c+="derivative-tangents:"),a&&(c+="vertex-colors:"),o&&(c+="flat-shading:");let u=this.cache.get(c);u||(u=i.clone(),a&&(u.vertexColors=!0),o&&(u.flatShading=!0),s&&(u.normalScale&&(u.normalScale.y*=-1),u.clearcoatNormalScale&&(u.clearcoatNormalScale.y*=-1)),this.cache.add(c,u),this.associations.set(u,this.associations.get(i))),i=u}t.material=i}getMaterialType(){return Bv}loadMaterial(t){const e=this,i=this.json,s=this.extensions,a=i.materials[t];let o;const c={},u=a.extensions||{},d=[];if(u[pn.KHR_MATERIALS_UNLIT]){const g=s[pn.KHR_MATERIALS_UNLIT];o=g.getMaterialType(),d.push(g.extendParams(c,a,e))}else{const g=a.pbrMetallicRoughness||{};if(c.color=new ie(1,1,1),c.opacity=1,Array.isArray(g.baseColorFactor)){const y=g.baseColorFactor;c.color.setRGB(y[0],y[1],y[2],Oc),c.opacity=y[3]}g.baseColorTexture!==void 0&&d.push(e.assignTexture(c,"map",g.baseColorTexture,Rh)),c.metalness=g.metallicFactor!==void 0?g.metallicFactor:1,c.roughness=g.roughnessFactor!==void 0?g.roughnessFactor:1,g.metallicRoughnessTexture!==void 0&&(d.push(e.assignTexture(c,"metalnessMap",g.metallicRoughnessTexture)),d.push(e.assignTexture(c,"roughnessMap",g.metallicRoughnessTexture))),o=this._invokeOne(function(y){return y.getMaterialType&&y.getMaterialType(t)}),d.push(Promise.all(this._invokeAll(function(y){return y.extendMaterialParams&&y.extendMaterialParams(t,c)})))}a.doubleSided===!0&&(c.side=zr);const m=a.alphaMode||EM.OPAQUE;if(m===EM.BLEND?(c.transparent=!0,c.depthWrite=!1):(c.transparent=!1,m===EM.MASK&&(c.alphaTest=a.alphaCutoff!==void 0?a.alphaCutoff:.5)),a.normalTexture!==void 0&&o!==dr&&(d.push(e.assignTexture(c,"normalMap",a.normalTexture)),c.normalScale=new Ft(1,1),a.normalTexture.scale!==void 0)){const g=a.normalTexture.scale;c.normalScale.set(g,g)}if(a.occlusionTexture!==void 0&&o!==dr&&(d.push(e.assignTexture(c,"aoMap",a.occlusionTexture)),a.occlusionTexture.strength!==void 0&&(c.aoMapIntensity=a.occlusionTexture.strength)),a.emissiveFactor!==void 0&&o!==dr){const g=a.emissiveFactor;c.emissive=new ie().setRGB(g[0],g[1],g[2],Oc)}return a.emissiveTexture!==void 0&&o!==dr&&d.push(e.assignTexture(c,"emissiveMap",a.emissiveTexture,Rh)),Promise.all(d).then(function(){const g=new o(c);return a.name&&(g.name=a.name),Mc(g,a),e.associations.set(g,{materials:t}),a.extensions&&dh(s,g,a),g})}createUniqueName(t){const e=Tn.sanitizeNodeName(t||"");return e in this.nodeNamesUsed?e+"_"+ ++this.nodeNamesUsed[e]:(this.nodeNamesUsed[e]=0,e)}loadGeometries(t){const e=this,i=this.extensions,s=this.primitiveCache;function a(c){return i[pn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(c,e).then(function(u){return uN(u,c,e)})}const o=[];for(let c=0,u=t.length;c<u;c++){const d=t[c],m=zit(d),g=s[m];if(g)o.push(g.promise);else{let y;d.extensions&&d.extensions[pn.KHR_DRACO_MESH_COMPRESSION]?y=a(d):y=uN(new We,d,e),s[m]={primitive:d,promise:y},o.push(y)}}return Promise.all(o)}loadMesh(t){const e=this,i=this.json,s=this.extensions,a=i.meshes[t],o=a.primitives,c=[];for(let u=0,d=o.length;u<d;u++){const m=o[u].material===void 0?Pit(this.cache):this.getDependency("material",o[u].material);c.push(m)}return c.push(e.loadGeometries(o)),Promise.all(c).then(function(u){const d=u.slice(0,u.length-1),m=u[u.length-1],g=[];for(let A=0,b=m.length;A<b;A++){const T=m[A],E=o[A];let S;const R=d[A];if(E.mode===Fr.TRIANGLES||E.mode===Fr.TRIANGLE_STRIP||E.mode===Fr.TRIANGLE_FAN||E.mode===void 0)S=a.isSkinnedMesh===!0?new $T(T,R):new ji(T,R),S.isSkinnedMesh===!0&&S.normalizeSkinWeights(),E.mode===Fr.TRIANGLE_STRIP?S.geometry=aN(S.geometry,XT):E.mode===Fr.TRIANGLE_FAN&&(S.geometry=aN(S.geometry,UA));else if(E.mode===Fr.LINES)S=new Io(T,R);else if(E.mode===Fr.LINE_STRIP)S=new Fc(T,R);else if(E.mode===Fr.LINE_LOOP)S=new eC(T,R);else if(E.mode===Fr.POINTS)S=new nC(T,R);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+E.mode);Object.keys(S.geometry.morphAttributes).length>0&&Fit(S,a),S.name=e.createUniqueName(a.name||"mesh_"+t),Mc(S,a),E.extensions&&dh(s,S,E),e.assignFinalMaterial(S),g.push(S)}for(let A=0,b=g.length;A<b;A++)e.associations.set(g[A],{meshes:t,primitives:A});if(g.length===1)return a.extensions&&dh(s,g[0],a),g[0];const y=new Cc;a.extensions&&dh(s,y,a),e.associations.set(y,{meshes:t});for(let A=0,b=g.length;A<b;A++)y.add(g[A]);return y})}loadCamera(t){let e;const i=this.json.cameras[t],s=i[i.type];if(!s){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?e=new Vi(qT.radToDeg(s.yfov),s.aspectRatio||1,s.znear||1,s.zfar||2e6):i.type==="orthographic"&&(e=new sf(-s.xmag,s.xmag,s.ymag,-s.ymag,s.znear,s.zfar)),i.name&&(e.name=this.createUniqueName(i.name)),Mc(e,i),Promise.resolve(e)}loadSkin(t){const e=this.json.skins[t],i=[];for(let s=0,a=e.joints.length;s<a;s++)i.push(this._loadNodeShallow(e.joints[s]));return e.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",e.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(s){const a=s.pop(),o=s,c=[],u=[];for(let d=0,m=o.length;d<m;d++){const g=o[d];if(g){c.push(g);const y=new Re;a!==null&&y.fromArray(a.array,d*16),u.push(y)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',e.joints[d])}return new Ev(c,u)})}loadAnimation(t){const e=this.json,i=this,s=e.animations[t],a=s.name?s.name:"animation_"+t,o=[],c=[],u=[],d=[],m=[];for(let g=0,y=s.channels.length;g<y;g++){const A=s.channels[g],b=s.samplers[A.sampler],T=A.target,E=T.node,S=s.parameters!==void 0?s.parameters[b.input]:b.input,R=s.parameters!==void 0?s.parameters[b.output]:b.output;T.node!==void 0&&(o.push(this.getDependency("node",E)),c.push(this.getDependency("accessor",S)),u.push(this.getDependency("accessor",R)),d.push(b),m.push(T))}return Promise.all([Promise.all(o),Promise.all(c),Promise.all(u),Promise.all(d),Promise.all(m)]).then(function(g){const y=g[0],A=g[1],b=g[2],T=g[3],E=g[4],S=[];for(let R=0,B=y.length;R<B;R++){const D=y[R],U=A[R],N=b[R],F=T[R],z=E[R];if(D===void 0)continue;D.updateMatrix&&D.updateMatrix();const O=i._createAnimationTracks(D,U,N,F,z);if(O)for(let I=0;I<O.length;I++)S.push(O[I])}return new tm(a,void 0,S)})}createNodeMesh(t){const e=this.json,i=this,s=e.nodes[t];return s.mesh===void 0?null:i.getDependency("mesh",s.mesh).then(function(a){const o=i._getNodeRef(i.meshCache,s.mesh,a);return s.weights!==void 0&&o.traverse(function(c){if(c.isMesh)for(let u=0,d=s.weights.length;u<d;u++)c.morphTargetInfluences[u]=s.weights[u]}),o})}loadNode(t){const e=this.json,i=this,s=e.nodes[t],a=i._loadNodeShallow(t),o=[],c=s.children||[];for(let d=0,m=c.length;d<m;d++)o.push(i.getDependency("node",c[d]));const u=s.skin===void 0?Promise.resolve(null):i.getDependency("skin",s.skin);return Promise.all([a,Promise.all(o),u]).then(function(d){const m=d[0],g=d[1],y=d[2];y!==null&&m.traverse(function(A){A.isSkinnedMesh&&A.bind(y,Git)});for(let A=0,b=g.length;A<b;A++)m.add(g[A]);return m})}_loadNodeShallow(t){const e=this.json,i=this.extensions,s=this;if(this.nodeCache[t]!==void 0)return this.nodeCache[t];const a=e.nodes[t],o=a.name?s.createUniqueName(a.name):"",c=[],u=s._invokeOne(function(d){return d.createNodeMesh&&d.createNodeMesh(t)});return u&&c.push(u),a.camera!==void 0&&c.push(s.getDependency("camera",a.camera).then(function(d){return s._getNodeRef(s.cameraCache,a.camera,d)})),s._invokeAll(function(d){return d.createNodeAttachment&&d.createNodeAttachment(t)}).forEach(function(d){c.push(d)}),this.nodeCache[t]=Promise.all(c).then(function(d){let m;if(a.isBone===!0?m=new b_:d.length>1?m=new Cc:d.length===1?m=d[0]:m=new gn,m!==d[0])for(let g=0,y=d.length;g<y;g++)m.add(d[g]);if(a.name&&(m.userData.name=a.name,m.name=o),Mc(m,a),a.extensions&&dh(i,m,a),a.matrix!==void 0){const g=new Re;g.fromArray(a.matrix),m.applyMatrix4(g)}else a.translation!==void 0&&m.position.fromArray(a.translation),a.rotation!==void 0&&m.quaternion.fromArray(a.rotation),a.scale!==void 0&&m.scale.fromArray(a.scale);return s.associations.has(m)||s.associations.set(m,{}),s.associations.get(m).nodes=t,m}),this.nodeCache[t]}loadScene(t){const e=this.extensions,i=this.json.scenes[t],s=this,a=new Cc;i.name&&(a.name=s.createUniqueName(i.name)),Mc(a,i),i.extensions&&dh(e,a,i);const o=i.nodes||[],c=[];for(let u=0,d=o.length;u<d;u++)c.push(s.getDependency("node",o[u]));return Promise.all(c).then(function(u){for(let m=0,g=u.length;m<g;m++)a.add(u[m]);const d=m=>{const g=new Map;for(const[y,A]of s.associations)(y instanceof ss||y instanceof ui)&&g.set(y,A);return m.traverse(y=>{const A=s.associations.get(y);A!=null&&g.set(y,A)}),g};return s.associations=d(a),a})}_createAnimationTracks(t,e,i,s,a){const o=[],c=t.name?t.name:t.uuid,u=[];Uu[a.path]===Uu.weights?t.traverse(function(y){y.morphTargetInfluences&&u.push(y.name?y.name:y.uuid)}):u.push(c);let d;switch(Uu[a.path]){case Uu.weights:d=jh;break;case Uu.rotation:d=Xh;break;case Uu.position:case Uu.scale:d=Yh;break;default:switch(i.itemSize){case 1:d=jh;break;case 2:case 3:default:d=Yh;break}break}const m=s.interpolation!==void 0?Oit[s.interpolation]:Jp,g=this._getArrayFromAccessor(i);for(let y=0,A=u.length;y<A;y++){const b=new d(u[y]+"."+Uu[a.path],e.array,g,m);s.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(b),o.push(b)}return o}_getArrayFromAccessor(t){let e=t.array;if(t.normalized){const i=ZE(e.constructor),s=new Float32Array(e.length);for(let a=0,o=e.length;a<o;a++)s[a]=e[a]*i;e=s}return e}_createCubicSplineTrackInterpolant(t){t.createInterpolant=function(i){const s=this instanceof Xh?Uit:VI;return new s(this.times,this.values,this.getValueSize()/3,i)},t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function kit(n,t,e){const i=t.attributes,s=new aa;if(i.POSITION!==void 0){const c=e.json.accessors[i.POSITION],u=c.min,d=c.max;if(u!==void 0&&d!==void 0){if(s.set(new q(u[0],u[1],u[2]),new q(d[0],d[1],d[2])),c.normalized){const m=ZE(kp[c.componentType]);s.min.multiplyScalar(m),s.max.multiplyScalar(m)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const a=t.targets;if(a!==void 0){const c=new q,u=new q;for(let d=0,m=a.length;d<m;d++){const g=a[d];if(g.POSITION!==void 0){const y=e.json.accessors[g.POSITION],A=y.min,b=y.max;if(A!==void 0&&b!==void 0){if(u.setX(Math.max(Math.abs(A[0]),Math.abs(b[0]))),u.setY(Math.max(Math.abs(A[1]),Math.abs(b[1]))),u.setZ(Math.max(Math.abs(A[2]),Math.abs(b[2]))),y.normalized){const T=ZE(kp[y.componentType]);u.multiplyScalar(T)}c.max(u)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}s.expandByVector(c)}n.boundingBox=s;const o=new Fs;s.getCenter(o.center),o.radius=s.min.distanceTo(s.max)/2,n.boundingSphere=o}function uN(n,t,e){const i=t.attributes,s=[];function a(o,c){return e.getDependency("accessor",o).then(function(u){n.setAttribute(c,u)})}for(const o in i){const c=JE[o]||o.toLowerCase();c in n.attributes||s.push(a(i[o],c))}if(t.indices!==void 0&&!n.index){const o=e.getDependency("accessor",t.indices).then(function(c){n.setIndex(c)});s.push(o)}return Mc(n,t),kit(n,t,e),Promise.all(s).then(function(){return t.targets!==void 0?Iit(n,t.targets,e):n})}const CM=new WeakMap;class jit extends oa{constructor(t){super(t),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(t){return this.decoderPath=t,this}setDecoderConfig(t){return this.decoderConfig=t,this}setWorkerLimit(t){return this.workerLimit=t,this}load(t,e,i,s){const a=new mr(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(t,o=>{const c={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,c).then(e).catch(s)},i,s)}decodeDracoFile(t,e,i,s){const a={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:s||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(t,a).then(e)}decodeGeometry(t,e){for(const u in e.attributeTypes){const d=e.attributeTypes[u];d.BYTES_PER_ELEMENT!==void 0&&(e.attributeTypes[u]=d.name)}const i=JSON.stringify(e);if(CM.has(t)){const u=CM.get(t);if(u.key===i)return u.promise;if(t.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let s;const a=this.workerNextTaskID++,o=t.byteLength,c=this._getWorker(a,o).then(u=>(s=u,new Promise((d,m)=>{s._callbacks[a]={resolve:d,reject:m},s.postMessage({type:"decode",id:a,taskConfig:e,buffer:t},[t])}))).then(u=>this._createGeometry(u.geometry));return c.catch(()=>!0).then(()=>{s&&a&&this._releaseTask(s,a)}),CM.set(t,{key:i,promise:c}),c}_createGeometry(t){const e=new We;t.index&&e.setIndex(new wn(t.index.array,1));for(let i=0;i<t.attributes.length;i++){const s=t.attributes[i],a=s.name,o=s.array,c=s.itemSize;e.setAttribute(a,new wn(o,c))}return e}_loadLibrary(t,e){const i=new mr(this.manager);return i.setPath(this.decoderPath),i.setResponseType(e),i.setWithCredentials(this.withCredentials),new Promise((s,a)=>{i.load(t,s,void 0,a)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const t=typeof WebAssembly!="object"||this.decoderConfig.type==="js",e=[];return t?e.push(this._loadLibrary("draco_decoder.js","text")):(e.push(this._loadLibrary("draco_wasm_wrapper.js","text")),e.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(e).then(i=>{const s=i[0];t||(this.decoderConfig.wasmBinary=i[1]);const a=Xit.toString(),o=["/* draco decoder */",s,"","/* worker */",a.substring(a.indexOf("{")+1,a.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(t,e){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const s=new Worker(this.workerSourceURL);s._callbacks={},s._taskCosts={},s._taskLoad=0,s.postMessage({type:"init",decoderConfig:this.decoderConfig}),s.onmessage=function(a){const o=a.data;switch(o.type){case"decode":s._callbacks[o.id].resolve(o);break;case"error":s._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(s)}else this.workerPool.sort(function(s,a){return s._taskLoad>a._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[t]=e,i._taskLoad+=e,i})}_releaseTask(t,e){t._taskLoad-=t._taskCosts[e],delete t._callbacks[e],delete t._taskCosts[e]}debug(){console.log("Task load: ",this.workerPool.map(t=>t._taskLoad))}dispose(){for(let t=0;t<this.workerPool.length;++t)this.workerPool[t].terminate();return this.workerPool.length=0,this}}function Xit(){let n,t;onmessage=function(o){const c=o.data;switch(c.type){case"init":n=c.decoderConfig,t=new Promise(function(m){n.onModuleLoaded=function(g){m({draco:g})},DracoDecoderModule(n)});break;case"decode":const u=c.buffer,d=c.taskConfig;t.then(m=>{const g=m.draco,y=new g.Decoder,A=new g.DecoderBuffer;A.Init(new Int8Array(u),u.byteLength);try{const b=e(g,y,A,d),T=b.attributes.map(E=>E.array.buffer);b.index&&T.push(b.index.array.buffer),self.postMessage({type:"decode",id:c.id,geometry:b},T)}catch(b){console.error(b),self.postMessage({type:"error",id:c.id,error:b.message})}finally{g.destroy(A),g.destroy(y)}});break}};function e(o,c,u,d){const m=d.attributeIDs,g=d.attributeTypes;let y,A;const b=c.GetEncodedGeometryType(u);if(b===o.TRIANGULAR_MESH)y=new o.Mesh,A=c.DecodeBufferToMesh(u,y);else if(b===o.POINT_CLOUD)y=new o.PointCloud,A=c.DecodeBufferToPointCloud(u,y);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!A.ok()||y.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+A.error_msg());const T={index:null,attributes:[]};for(const E in m){const S=self[g[E]];let R,B;if(d.useUniqueIDs)B=m[E],R=c.GetAttributeByUniqueId(y,B);else{if(B=c.GetAttributeId(y,o[m[E]]),B===-1)continue;R=c.GetAttribute(y,B)}T.attributes.push(s(o,c,y,E,S,R))}return b===o.TRIANGULAR_MESH&&(T.index=i(o,c,y)),o.destroy(y),T}function i(o,c,u){const m=u.num_faces()*3,g=m*4,y=o._malloc(g);c.GetTrianglesUInt32Array(u,g,y);const A=new Uint32Array(o.HEAPF32.buffer,y,m).slice();return o._free(y),{array:A,itemSize:1}}function s(o,c,u,d,m,g){const y=g.num_components(),b=u.num_points()*y,T=b*m.BYTES_PER_ELEMENT,E=a(o,m),S=o._malloc(T);c.GetAttributeDataArrayForAllPoints(u,g,E,T,S);const R=new m(o.HEAPF32.buffer,S,b).slice();return o._free(S),{name:d,array:R,itemSize:y}}function a(o,c){switch(c){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let Sx;const wM=()=>{if(Sx)return Sx;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",t="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",e=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let s=n;WebAssembly.validate(e)&&(s=t);let a;const o=WebAssembly.instantiate(c(s),{}).then(g=>{a=g.instance,a.exports.__wasm_call_ctors()});function c(g){const y=new Uint8Array(g.length);for(let b=0;b<g.length;++b){const T=g.charCodeAt(b);y[b]=T>96?T-71:T>64?T-65:T>47?T+4:T>46?63:62}let A=0;for(let b=0;b<g.length;++b)y[A++]=y[b]<60?i[y[b]]:(y[b]-60)*64+y[++b];return y.buffer.slice(0,A)}function u(g,y,A,b,T,E){const S=a.exports.sbrk,R=A+3&-4,B=S(R*b),D=S(T.length),U=new Uint8Array(a.exports.memory.buffer);U.set(T,D);const N=g(B,A,b,D,T.length);if(N===0&&E&&E(B,R,b),y.set(U.subarray(B,B+A*b)),S(B-S(0)),N!==0)throw new Error(`Malformed buffer data: ${N}`)}const d={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},m={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Sx={ready:o,supported:!0,decodeVertexBuffer(g,y,A,b,T){u(a.exports.meshopt_decodeVertexBuffer,g,y,A,b,a.exports[d[T]])},decodeIndexBuffer(g,y,A,b){u(a.exports.meshopt_decodeIndexBuffer,g,y,A,b)},decodeIndexSequence(g,y,A,b){u(a.exports.meshopt_decodeIndexSequence,g,y,A,b)},decodeGltfBuffer(g,y,A,b,T,E){u(a.exports[m[T]],g,y,A,b,a.exports[d[E]])}},Sx};let bx=null,kI="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function jI(n=!0,t=!0,e){return i=>{e&&e(i),n&&(bx||(bx=new jit),bx.setDecoderPath(typeof n=="string"?n:kI),i.setDRACOLoader(bx)),t&&i.setMeshoptDecoder(typeof wM=="function"?wM():wM)}}const Hv=(n,t,e,i)=>Nv(Aw,n,jI(t,e,i));Hv.preload=(n,t,e,i)=>Nv.preload(Aw,n,jI(t,e,i));Hv.clear=n=>Nv.clear(Aw,n);Hv.setDecoderPath=n=>{kI=n};function Yit(n,t){const e=J.useRef(null),[i]=J.useState(()=>t?t instanceof gn?{current:t}:t:e),[s]=J.useState(()=>new WP(void 0));J.useLayoutEffect(()=>{t&&(i.current=t instanceof gn?t:t.current),s._root=i.current});const a=J.useRef({}),o=J.useMemo(()=>{const c={};return n.forEach(u=>Object.defineProperty(c,u.name,{enumerable:!0,get(){if(i.current)return a.current[u.name]||(a.current[u.name]=s.clipAction(u,i.current))},configurable:!0})),{ref:i,clips:n,actions:c,names:n.map(u=>u.name),mixer:s}},[n]);return Lv((c,u)=>s.update(u)),J.useEffect(()=>{const c=i.current;return()=>{a.current={},s.stopAllAction(),Object.values(o.actions).forEach(u=>{c&&s.uncacheAction(u,c)})}},[n]),o}const Wit=J.forwardRef(({children:n,enabled:t=!0,speed:e=1,rotationIntensity:i=1,floatIntensity:s=1,floatingRange:a=[-.1,.1],autoInvalidate:o=!1,...c},u)=>{const d=J.useRef(null);J.useImperativeHandle(u,()=>d.current,[]);const m=J.useRef(Math.random()*1e4);return Lv(g=>{var y,A;if(!t||e===0)return;o&&g.invalidate();const b=m.current+g.clock.elapsedTime;d.current.rotation.x=Math.cos(b/4*e)/8*i,d.current.rotation.y=Math.sin(b/4*e)/8*i,d.current.rotation.z=Math.sin(b/4*e)/20*i;let T=Math.sin(b/4*e)/10;T=qT.mapLinear(T,-.1,.1,(y=a==null?void 0:a[0])!==null&&y!==void 0?y:-.1,(A=a==null?void 0:a[1])!==null&&A!==void 0?A:.1),d.current.position.y=T*s,d.current.updateMatrix()}),J.createElement("group",c,J.createElement("group",{ref:d,matrixAutoUpdate:!1},n))});function qit(n){const t=J.useRef(),{nodes:e,materials:i,animations:s}=Hv("/models/tenhun_falling_spaceman_fanart.glb"),{actions:a}=Yit(s,t);J.useEffect(()=>{var u;s.length>0&&((u=a[s[0].name])==null||u.play())},[a,s]);const o=Yp(5),c=X0(o,{damping:30});return J.useEffect(()=>{c.set(-1)},[c]),Lv(()=>{t.current.position.y=c.get()}),G.jsx("group",{ref:t,...n,dispose:null,rotation:[-Math.PI/2,-.2,2.2],scale:n.scale||.3,position:n.position||[1.3,-1,0],children:G.jsx("group",{name:"Sketchfab_Scene",children:G.jsx("group",{name:"Sketchfab_model",children:G.jsx("group",{name:"Root",children:G.jsxs("group",{name:"metarig",children:[G.jsx("primitive",{object:e.metarig_rootJoint}),G.jsx("skinnedMesh",{name:"Cube001_0",geometry:e.Cube001_0.geometry,material:i["AstronautFallingTexture.png"],skeleton:e.Cube001_0.skeleton}),G.jsx("skinnedMesh",{name:"Cube005_0",geometry:e.Cube005_0.geometry,material:i["AstronautFallingTexture.png"],skeleton:e.Cube005_0.skeleton}),G.jsx("skinnedMesh",{name:"Cube002_0",geometry:e.Cube002_0.geometry,material:i["AstronautFallingTexture.png"],skeleton:e.Cube002_0.skeleton}),G.jsx("skinnedMesh",{name:"Plane_0",geometry:e.Plane_0.geometry,material:i["AstronautFallingTexture.png"],skeleton:e.Plane_0.skeleton}),G.jsx("skinnedMesh",{name:"Cube008_0",geometry:e.Cube008_0.geometry,material:i["AstronautFallingTexture.png"],skeleton:e.Cube008_0.skeleton}),G.jsx("skinnedMesh",{name:"Cube004_0",geometry:e.Cube004_0.geometry,material:i["AstronautFallingTexture.png"],skeleton:e.Cube004_0.skeleton}),G.jsx("skinnedMesh",{name:"Cube003_0",geometry:e.Cube003_0.geometry,material:i["AstronautFallingTexture.png"],skeleton:e.Cube003_0.skeleton}),G.jsx("skinnedMesh",{name:"Cube_0",geometry:e.Cube_0.geometry,material:i["AstronautFallingTexture.png"],skeleton:e.Cube_0.skeleton}),G.jsx("skinnedMesh",{name:"Cube009_0",geometry:e.Cube009_0.geometry,material:i["AstronautFallingTexture.png"],skeleton:e.Cube009_0.skeleton}),G.jsx("skinnedMesh",{name:"Cube011_0",geometry:e.Cube011_0.geometry,material:i["AstronautFallingTexture.png"],skeleton:e.Cube011_0.skeleton}),G.jsx("group",{name:"Cube001"}),G.jsx("group",{name:"Cube005"}),G.jsx("group",{name:"Cube002"}),G.jsx("group",{name:"Plane"}),G.jsx("group",{name:"Cube008"}),G.jsx("group",{name:"Cube004"}),G.jsx("group",{name:"Cube003"}),G.jsx("group",{name:"Cube"}),G.jsx("group",{name:"Cube009",rotation:[-2.708,.013,-1.447],scale:1.307}),G.jsx("group",{name:"Cube011"})]})})})})})}Hv.preload("/models/tenhun_falling_spaceman_fanart.glb");var Mx={},fN;function Kit(){if(fN)return Mx;fN=1,Mx.match=a,Mx.parse=o;var n=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,e=/^(?:(min|max)-)?(.+)/,i=/(em|rem|px|cm|mm|in|pt|pc)?$/,s=/(dpi|dpcm|dppx)?$/;function a(m,g){return o(m).some(function(y){var A=y.inverse,b=y.type==="all"||g.type===y.type;if(b&&A||!(b||A))return!1;var T=y.expressions.every(function(E){var S=E.feature,R=E.modifier,B=E.value,D=g[S];if(!D)return!1;switch(S){case"orientation":case"scan":return D.toLowerCase()===B.toLowerCase();case"width":case"height":case"device-width":case"device-height":B=d(B),D=d(D);break;case"resolution":B=u(B),D=u(D);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":B=c(B),D=c(D);break;case"grid":case"color":case"color-index":case"monochrome":B=parseInt(B,10)||1,D=parseInt(D,10)||0;break}switch(R){case"min":return D>=B;case"max":return D<=B;default:return D===B}});return T&&!A||!T&&A})}function o(m){return m.split(",").map(function(g){g=g.trim();var y=g.match(n),A=y[1],b=y[2],T=y[3]||"",E={};return E.inverse=!!A&&A.toLowerCase()==="not",E.type=b?b.toLowerCase():"all",T=T.match(/\([^\)]+\)/g)||[],E.expressions=T.map(function(S){var R=S.match(t),B=R[1].toLowerCase().match(e);return{modifier:B[1],feature:B[2],value:R[2]}}),E})}function c(m){var g=Number(m),y;return g||(y=m.match(/^(\d+)\s*\/\s*(\d+)$/),g=y[1]/y[2]),g}function u(m){var g=parseFloat(m),y=String(m).match(s)[1];switch(y){case"dpcm":return g/2.54;case"dppx":return g*96;default:return g}}function d(m){var g=parseFloat(m),y=String(m).match(i)[1];switch(y){case"em":return g*16;case"rem":return g*16;case"cm":return g*96/2.54;case"mm":return g*96/2.54/10;case"in":return g*96;case"pt":return g*72;case"pc":return g*72/12;default:return g}}return Mx}var RM,hN;function Jit(){if(hN)return RM;hN=1;var n=Kit().match,t=typeof window<"u"?window.matchMedia:null;function e(s,a,o){var c=this,u;t&&!o&&(u=t.call(window,s)),u?(this.matches=u.matches,this.media=u.media,u.addListener(g)):(this.matches=n(s,a),this.media=s),this.addListener=d,this.removeListener=m,this.dispose=y;function d(A){u&&u.addListener(A)}function m(A){u&&u.removeListener(A)}function g(A){c.matches=A.matches,c.media=A.media}function y(){u&&u.removeListener(g)}}function i(s,a,o){return new e(s,a,o)}return RM=i,RM}var Zit=Jit();const Qit=hv(Zit);var $it=/[A-Z]/g,tst=/^ms-/,BM={};function est(n){return"-"+n.toLowerCase()}function XI(n){if(BM.hasOwnProperty(n))return BM[n];var t=n.replace($it,est);return BM[n]=tst.test(t)?"-"+t:t}function nst(n,t){if(n===t)return!0;if(!n||!t)return!1;const e=Object.keys(n),i=Object.keys(t),s=e.length;if(i.length!==s)return!1;for(let a=0;a<s;a++){const o=e[a];if(n[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}var DM={exports:{}},LM,dN;function ist(){if(dN)return LM;dN=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return LM=n,LM}var NM,pN;function sst(){if(pN)return NM;pN=1;var n=ist();function t(){}function e(){}return e.resetWarningCache=t,NM=function(){function i(o,c,u,d,m,g){if(g!==n){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}i.isRequired=i;function s(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:e,resetWarningCache:t};return a.PropTypes=a,a},NM}var mN;function ast(){return mN||(mN=1,DM.exports=sst()()),DM.exports}var rst=ast();const On=hv(rst),Aa=On.oneOfType([On.string,On.number]),YI={all:On.bool,grid:On.bool,aural:On.bool,braille:On.bool,handheld:On.bool,print:On.bool,projection:On.bool,screen:On.bool,tty:On.bool,tv:On.bool,embossed:On.bool},ost={orientation:On.oneOf(["portrait","landscape"]),scan:On.oneOf(["progressive","interlace"]),aspectRatio:On.string,deviceAspectRatio:On.string,height:Aa,deviceHeight:Aa,width:Aa,deviceWidth:Aa,color:On.bool,colorIndex:On.bool,monochrome:On.bool,resolution:Aa,type:Object.keys(YI)},{type:Bat,...lst}=ost,cst={minAspectRatio:On.string,maxAspectRatio:On.string,minDeviceAspectRatio:On.string,maxDeviceAspectRatio:On.string,minHeight:Aa,maxHeight:Aa,minDeviceHeight:Aa,maxDeviceHeight:Aa,minWidth:Aa,maxWidth:Aa,minDeviceWidth:Aa,maxDeviceWidth:Aa,minColor:On.number,maxColor:On.number,minColorIndex:On.number,maxColorIndex:On.number,minMonochrome:On.number,maxMonochrome:On.number,minResolution:Aa,maxResolution:Aa,...lst},ust={...YI,...cst};var fst={all:ust};const hst=n=>`not ${n}`,dst=(n,t)=>{const e=XI(n);return typeof t=="number"&&(t=`${t}px`),t===!0?e:t===!1?hst(e):`(${e}: ${t})`},pst=n=>n.join(" and "),mst=n=>{const t=[];return Object.keys(fst.all).forEach(e=>{const i=n[e];i!=null&&t.push(dst(e,i))}),pst(t)},gst=J.createContext(void 0),vst=n=>n.query||mst(n),gN=n=>n?Object.keys(n).reduce((e,i)=>(e[XI(i)]=n[i],e),{}):void 0,WI=()=>{const n=J.useRef(!1);return J.useEffect(()=>{n.current=!0},[]),n.current},yst=n=>{const t=J.useContext(gst),e=()=>gN(n)||gN(t),[i,s]=J.useState(e);return J.useEffect(()=>{const a=e();nst(i,a)||s(a)},[n,t]),i},xst=n=>{const t=()=>vst(n),[e,i]=J.useState(t);return J.useEffect(()=>{const s=t();e!==s&&i(s)},[n]),e},Ast=(n,t)=>{const e=()=>Qit(n,t||{},!!t),[i,s]=J.useState(e),a=WI();return J.useEffect(()=>{if(a){const o=e();return s(o),()=>{o&&o.dispose()}}},[n,t]),i},_st=n=>{const[t,e]=J.useState(n.matches);return J.useEffect(()=>{const i=s=>{e(s.matches)};return n.addListener(i),e(n.matches),()=>{n.removeListener(i)}},[n]),t},Sst=(n,t,e)=>{const i=yst(t),s=xst(n);if(!s)throw new Error("Invalid or missing MediaQuery!");const a=Ast(s,i),o=_st(a);return WI(),J.useEffect(()=>{},[o]),J.useEffect(()=>()=>{a&&a.dispose()},[]),o},bst=()=>{const{progress:n}=Dnt();return G.jsxs(Cnt,{center:!0,className:"text-xl font-normal text-center",children:[n,"% Loaded"]})},Mst=()=>{const n=Sst({maxWidth:853});return G.jsxs("section",{className:"flex items-start justify-center min-h-screen overflow-hidden md:items-start md:justify-start c-space",children:[G.jsx(gnt,{}),G.jsx(vnt,{}),G.jsx("figure",{className:"absolute inset-0",style:{width:"100vw",height:"100vh"},children:G.jsx(AK,{camera:{position:[0,1,3]},children:G.jsxs(J.Suspense,{fallback:G.jsx(bst,{}),children:[G.jsx(Wit,{children:G.jsx(qit,{scale:n&&.23,position:n&&[0,-1.5,0]})}),G.jsx(Est,{})]})})})]})};function Est(){return Lv((n,t)=>{oit.damp3(n.camera.position,[n.mouse.x/10,1+n.mouse.y/10,3],.5,t)})}const Ou=({style:n,text:t,image:e,containerRef:i})=>e&&!t?G.jsx(Ai.img,{className:"absolute w-15 cursor-grab",src:e,style:n,whileHover:{scale:1.05},drag:!0,dragConstraints:i,dragElastic:1}):G.jsx(Ai.div,{className:"absolute px-1 py-4 text-xl text-center rounded-full ring ring-gray-700 font-extralight bg-storm w-[12rem] cursor-grab",style:n,whileHover:{scale:1.05},drag:!0,dragConstraints:i,dragElastic:1,children:t});var vN=["x","y","z"],Sc=function(n){Object.assign(this,{uniforms:{},geometry:{vertices:[{x:0,y:0,z:0}]},mode:0,modifiers:{},attributes:[],multiplier:1,buffers:[]}),Object.assign(this,n),this.prepareProgram(),this.prepareUniforms(),this.prepareAttributes()};Sc.prototype.compileShader=function(n,t){var e=this.gl.createShader(n);return this.gl.shaderSource(e,t),this.gl.compileShader(e),e},Sc.prototype.prepareProgram=function(){var n=this.gl,t=this.vertex,e=this.fragment,i=n.createProgram();n.attachShader(i,this.compileShader(35633,t)),n.attachShader(i,this.compileShader(35632,e)),n.linkProgram(i),n.useProgram(i),this.program=i},Sc.prototype.prepareUniforms=function(){for(var n=Object.keys(this.uniforms),t=0;t<n.length;t+=1){var e=this.gl.getUniformLocation(this.program,n[t]);this.uniforms[n[t]].location=e}},Sc.prototype.prepareAttributes=function(){this.geometry.vertices!==void 0&&this.attributes.push({name:"aPosition",size:3}),this.geometry.normal!==void 0&&this.attributes.push({name:"aNormal",size:3}),this.attributeKeys=[];for(var n=0;n<this.attributes.length;n+=1)this.attributeKeys.push(this.attributes[n].name),this.prepareAttribute(this.attributes[n])},Sc.prototype.prepareAttribute=function(n){for(var t=this.geometry,e=this.multiplier,i=t.vertices,s=t.normal,a=new Float32Array(e*i.length*n.size),o=0;o<e;o+=1)for(var c=n.data&&n.data(o,e),u=o*i.length*n.size,d=0;d<i.length;d+=1)for(var m=0;m<n.size;m+=1){var g=this.modifiers[n.name];a[u]=g!==void 0?g(c,d,m,this):n.name==="aPosition"?i[d][vN[m]]:n.name==="aNormal"?s[d][vN[m]]:c[m],u+=1}this.attributes[this.attributeKeys.indexOf(n.name)].data=a,this.prepareBuffer(this.attributes[this.attributeKeys.indexOf(n.name)])},Sc.prototype.prepareBuffer=function(n){var t=n.data,e=n.name,i=n.size,s=this.gl.createBuffer();this.gl.bindBuffer(34962,s),this.gl.bufferData(34962,t,35044);var a=this.gl.getAttribLocation(this.program,e);this.gl.enableVertexAttribArray(a),this.gl.vertexAttribPointer(a,i,5126,!1,0,0),this.buffers[this.attributeKeys.indexOf(n.name)]={buffer:s,location:a,size:i}},Sc.prototype.render=function(n){var t=this,e=this.uniforms,i=this.multiplier,s=this.gl;s.useProgram(this.program);for(var a=0;a<this.buffers.length;a+=1){var o=this.buffers[a],c=o.location,u=o.buffer,d=o.size;s.enableVertexAttribArray(c),s.bindBuffer(34962,u),s.vertexAttribPointer(c,d,5126,!1,0,0)}Object.keys(n).forEach(function(m){e[m].value=n[m].value}),Object.keys(e).forEach(function(m){var g=e[m];t.uniformMap[g.type](g.location,g.value)}),s.drawArrays(this.mode,0,i*this.geometry.vertices.length),this.onRender&&this.onRender(this)},Sc.prototype.destroy=function(){for(var n=0;n<this.buffers.length;n+=1)this.gl.deleteBuffer(this.buffers[n].buffer);this.gl.deleteProgram(this.program),this.gl=null};var yh=function(n){var t=this,e=n||{},i=e.canvas;i===void 0&&(i=document.querySelector("canvas"));var s=e.context;s===void 0&&(s={});var a=e.contextType;a===void 0&&(a="experimental-webgl");var o=e.settings;o===void 0&&(o={});var c=i.getContext(a,Object.assign({alpha:!1,antialias:!1},s));Object.assign(this,{gl:c,canvas:i,uniforms:{},instances:new Map,shouldRender:!0}),Object.assign(this,{devicePixelRatio:1,clearColor:[1,1,1,1],position:{x:0,y:0,z:2},clip:[.001,100]}),Object.assign(this,o),this.uniformMap={float:function(u,d){return c.uniform1f(u,d)},vec2:function(u,d){return c.uniform2fv(u,d)},vec3:function(u,d){return c.uniform3fv(u,d)},vec4:function(u,d){return c.uniform4fv(u,d)},mat2:function(u,d){return c.uniformMatrix2fv(u,!1,d)},mat3:function(u,d){return c.uniformMatrix3fv(u,!1,d)},mat4:function(u,d){return c.uniformMatrix4fv(u,!1,d)}},c.enable(c.DEPTH_TEST),c.depthFunc(c.LEQUAL),c.getContextAttributes().alpha===!1&&(c.clearColor.apply(c,this.clearColor),c.clearDepth(1)),this.onSetup&&this.onSetup(c),window.addEventListener("resize",function(){return t.resize()}),this.resize(),this.render()};yh.prototype.resize=function(){var n=this.gl,t=this.canvas,e=this.devicePixelRatio,i=this.position;t.width=t.clientWidth*e,t.height=t.clientHeight*e;var s=n.drawingBufferWidth,a=n.drawingBufferHeight,o=s/a;n.viewport(0,0,s,a);var c=Math.tan(Math.PI/180*22.5),u=[1,0,0,0,0,1,0,0,0,0,1,0,i.x,i.y,(o<1?1:o)*-i.z,1];this.uniforms.uProjectionMatrix={type:"mat4",value:[.5/c,0,0,0,0,o/c*.5,0,0,0,0,-(this.clip[1]+this.clip[0])/(this.clip[1]-this.clip[0]),-1,0,0,-2*this.clip[1]*(this.clip[0]/(this.clip[1]-this.clip[0])),0]},this.uniforms.uViewMatrix={type:"mat4",value:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},this.uniforms.uModelMatrix={type:"mat4",value:u}},yh.prototype.toggle=function(n){n!==this.shouldRender&&(this.shouldRender=n!==void 0?n:!this.shouldRender,this.shouldRender&&this.render())},yh.prototype.render=function(){var n=this;this.gl.clear(16640),this.instances.forEach(function(t){t.render(n.uniforms)}),this.onRender&&this.onRender(this),this.shouldRender&&requestAnimationFrame(function(){return n.render()})},yh.prototype.add=function(n,t){t===void 0&&(t={uniforms:{}}),t.uniforms===void 0&&(t.uniforms={}),Object.assign(t.uniforms,JSON.parse(JSON.stringify(this.uniforms))),Object.assign(t,{gl:this.gl,uniformMap:this.uniformMap});var e=new Sc(t);return this.instances.set(n,e),e},yh.prototype.remove=function(n){var t=this.instances.get(n);t!==void 0&&(t.destroy(),this.instances.delete(n))},yh.prototype.destroy=function(){var n=this;this.instances.forEach(function(t,e){t.destroy(),n.instances.delete(e)}),this.toggle(!1)};var qI="phi",KI="theta",JI="mapSamples",ZI="mapBrightness",QI="baseColor",$I="markerColor",t6="glowColor",c0="markers",e6="diffuse",yN="devicePixelRatio",n6="dark",i6="offset",s6="scale",a6="opacity",r6="mapBaseBrightness",xN={[qI]:"A",[KI]:"B",[JI]:"l",[ZI]:"E",[QI]:"R",[$I]:"S",[t6]:"y",[e6]:"F",[n6]:"G",[i6]:"x",[s6]:"C",[a6]:"H",[r6]:"I"},{PI:UM,sin:AN,cos:_N}=Math,SN=n=>[].concat(...n.map(t=>{let[e,i]=t.location;e=e*UM/180,i=i*UM/180-UM;let s=_N(e);return[-s*_N(i),AN(e),s*AN(i),t.size]}),[0,0,0,0]),Tst=(n,t)=>{let e=(a,o,c)=>({type:a,value:typeof t[o]>"u"?c:t[o]}),i=n.getContext("webgl")?"webgl":"experimental-webgl",s=new yh({canvas:n,contextType:i,context:{alpha:!0,stencil:!1,antialias:!0,depth:!1,preserveDrawingBuffer:!1,...t.context},settings:{[yN]:t[yN]||1,onSetup:a=>{let o=a.RGB,c=a.UNSIGNED_BYTE,u=a.TEXTURE_2D,d=a.createTexture();a.bindTexture(u,d),a.texImage2D(u,0,o,1,1,0,o,c,new Uint8Array([0,0,0,0]));let m=new Image;m.onload=()=>{a.bindTexture(u,d),a.texImage2D(u,0,o,o,c,m),a.generateMipmap(u);let g=a.getParameter(a.CURRENT_PROGRAM),y=a.getUniformLocation(g,"J");a.texParameteri(u,a.TEXTURE_MIN_FILTER,a.NEAREST),a.texParameteri(u,a.TEXTURE_MAG_FILTER,a.NEAREST),a.uniform1i(y,0)},m.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAACAAQAAAADMzoqnAAAAAXNSR0IArs4c6QAABA5JREFUeNrV179uHEUAx/Hf3JpbF+E2VASBsmVKTBcpKJs3SMEDcDwBiVJAAewYEBUivIHT0uUBIt0YCovKD0CRjUC4QfHYh8hYXu+P25vZ2Zm9c66gMd/GJ/tz82d3bk8GN4SrByYF2366FNTACIAkivVAAazQdnf3MvAlbNUQfOPAdQDvSAimMWhwy4I2g4SU+Kp04ISLpPBAKLxPyic3O/CCi+Y7rUJbiodcpDOFY7CgxCEXmdYD2EYK2s5lApOx5pEDDYCUwM1XdJUwBV11QQMg59kePSCaPAASQMEL2hwo6TJFgxpg+TgC2ymXPbuvc40awr3D1QCFfbH9kcoqAOkZozpQo0aqAGQRKCog/+tjkgbNFEtg2FffBvBGlSxHoAaAa1u6X4PBAwDiR8FFsrQgeUhfJTSALaB9jy5NCybJPn1SVFiWk7ywN+KzhH1aKAuydhGkbEF4lWohLXDXavlyFgHY7LBnLRdlAP6BS5Cc8RfVDXbkwN/oIvmY+6obbNeBP0JwTuMGu9gTzy1Q4RS/cWpfzszeYwd+CAFrtBW/Hur0gLbJGlD+/OjVwe/drfBxkbbg63dndEDfiEBlAd7ac0BPe1D6Jd8dfbLH+RI0OzseFB5s01/M+gMdAeluLOCAuaUA9Lezo/vSgXoCX9rtEiXnp7Q1W/CNyWcd8DXoS6jH/YZ5vAJEWY2dXFQe2TUgaFaNejCzJ98g6HnlVrsE58sDcYqg+9XY75fPqdoh/kRQWiXKg8MWlJQxUFMPjqnyujhFBE7UxIMjyszk0QwQlFsezImsyvUYYYVED2pk6m0Tg8T04Fwjk2kdAwSACqlM6gRRt3vQYAFGX0Ah7Ebx1H+MDRI5ui0QldH4j7FGcm90XdxD2Jg1AOEAVAKhEFXSn4cKUELurIAKwJ3MArypPscQaLhJFICJ0ohjDySAdH8AhDtCiTuMycH8CXzhH9jUACAO5uMhoAwA5i+T6WAKmmAqnLy80wxHqIPFYpqCwxGaYLt4Dyievg5kEoVEUAhs6pqKgFtDQYOuaXypaWKQfIuwwoGSZgfLsu/XAtI8cGN+h7Cc1A5oLOMhwlIPXuhu48AIvsSBkvtV9wsJRKCyYLfq5lTrQMFd1a262oqBck9K1V0YjQg0iEYYgpS1A9GlXQV5cykwm4A7BzVsxQqo7E+zCegO7Ma7yKgsuOcfKbMBwLC8wvVNYDsANYalEpOAa6zpWjTeMKGwEwC1CiQewJc5EKfgy7GmRAZA4vUVGwE2dPM/g0xuAInE/yG5aZ8ISxWGfYigUVbdyBElTHh2uCwGdfCkOLGgQVBh3Ewp+/QK4CDlR5Ws/Zf7yhCf8pH7vinWAvoVCQ6zz0NX5V/6GkAVV+2/5qsJ/gU8bsxpM8IeAQAAAABJRU5ErkJggg=="}}});return s.add("",{vertex:"attribute vec3 aPosition;uniform mat4 uProjectionMatrix;uniform mat4 uModelMatrix;uniform mat4 uViewMatrix;void main(){gl_Position=uProjectionMatrix*uModelMatrix*uViewMatrix*vec4(aPosition,1.);}",fragment:"precision highp float;uniform vec2 t,x;uniform vec3 R,S,y;uniform vec4 z[64];uniform float A,B,l,C,D,E,F,G,H,I;uniform sampler2D J;float K=1./l;mat3 L(float a,float b){float c=cos(a),d=cos(b),e=sin(a),f=sin(b);return mat3(d,f*e,-f*c,0.,c,e,f,d*-e,d*c);}vec3 w(vec3 c,out float v){c=c.xzy;float p=max(2.,floor(log2(2.236068*l*3.141593*(1.-c.z*c.z))*.72021));vec2 g=floor(pow(1.618034,p)/2.236068*vec2(1.,1.618034)+.5),d=fract((g+1.)*.618034)*6.283185-3.883222,e=-2.*g,f=vec2(atan(c.y,c.x),c.z-1.),q=floor(vec2(e.y*f.x-d.y*(f.y*l+1.),-e.x*f.x+d.x*(f.y*l+1.))/(d.x*e.y-e.x*d.y));float n=3.141593;vec3 r;for(float h=0.;h<4.;h+=1.){vec2 s=vec2(mod(h,2.),floor(h*.5));float j=dot(g,q+s);if(j>l)continue;float a=j,b=0.;if(a>=524288.)a-=524288.,b+=.803894;if(a>=262144.)a-=262144.,b+=.901947;if(a>=131072.)a-=131072.,b+=.950973;if(a>=65536.)a-=65536.,b+=.475487;if(a>=32768.)a-=32768.,b+=.737743;if(a>=16384.)a-=16384.,b+=.868872;if(a>=8192.)a-=8192.,b+=.934436;if(a>=4096.)a-=4096.,b+=.467218;if(a>=2048.)a-=2048.,b+=.733609;if(a>=1024.)a-=1024.,b+=.866804;if(a>=512.)a-=512.,b+=.433402;if(a>=256.)a-=256.,b+=.216701;if(a>=128.)a-=128.,b+=.108351;if(a>=64.)a-=64.,b+=.554175;if(a>=32.)a-=32.,b+=.777088;if(a>=16.)a-=16.,b+=.888544;if(a>=8.)a-=8.,b+=.944272;if(a>=4.)a-=4.,b+=.472136;if(a>=2.)a-=2.,b+=.236068;if(a>=1.)a-=1.,b+=.618034;float k=fract(b)*6.283185,i=1.-2.*j*K,m=sqrt(1.-i*i);vec3 o=vec3(cos(k)*m,sin(k)*m,i);float u=length(c-o);if(u<n)n=u,r=o;}v=n;return r.xzy;}void main(){vec2 b=(gl_FragCoord.xy/t*2.-1.)/C-x*vec2(1.,-1.)/t;b.x*=t.x/t.y;float c=dot(b,b);vec4 M=vec4(0.);float m=0.;if(c<=.64){for(int d=0;d<2;d++){vec4 e=vec4(0.);float a;vec3 u=vec3(0.,0.,1.),f=normalize(vec3(b,sqrt(.64-c)));f.z*=d>0?-1.:1.,u.z*=d>0?-1.:1.;vec3 g=f*L(B,A),h=w(g,a);float n=asin(h.y),i=acos(-h.x/cos(n));i=h.z<0.?-i:i;float N=max(texture2D(J,vec2(i*.5/3.141593,-(n/3.141593+.5))).x,I),O=smoothstep(8e-3,0.,a),j=dot(f,u),v=pow(j,F)*E,o=N*O*v,T=mix((1.-o)*pow(j,.4),o,G)+.1;e+=vec4(R*T,1.);int U=int(D);float p=0.;for(int k=0;k<64;k++){if(k>=U)break;vec4 q=z[k];vec3 r=q.xyz,P=r-g;float s=q.w;if(dot(P,P)>s*s*4.)continue;vec3 V=w(r,a);a=length(V-g),a<s?p+=smoothstep(s*.5,0.,a):0.;}p=min(1.,p*v),e.xyz=mix(e.xyz,S,p),e.xyz+=pow(1.-j,4.)*y,M+=e*(1.+(d>0?-H:H))/2.;}m=pow(dot(normalize(vec3(-b,sqrt(1.-c))),vec3(0.,0.,1.)),4.)*smoothstep(0.,1.,.2/(c-.64));}else{float Q=sqrt(.2/(c-.64));m=smoothstep(.5,1.,Q/(Q+1.));}gl_FragColor=M+vec4(m*y,m);}",uniforms:{t:{type:"vec2",value:[t.width,t.height]},A:e("float",qI),B:e("float",KI),l:e("float",JI),E:e("float",ZI),I:e("float",r6),R:e("vec3",QI),S:e("vec3",$I),F:e("float",e6),y:e("vec3",t6),G:e("float",n6),z:{type:"vec4",value:SN(t[c0])},D:{type:"float",value:t[c0].length},x:e("vec2",i6,[0,0]),C:e("float",s6,1),H:e("float",a6,1)},mode:4,geometry:{vertices:[{x:-100,y:100,z:0},{x:-100,y:-100,z:0},{x:100,y:100,z:0},{x:100,y:-100,z:0},{x:-100,y:-100,z:0},{x:100,y:100,z:0}]},onRender:({uniforms:a})=>{let o={};if(t.onRender){o=t.onRender(o)||o;for(let c in xN)o[c]!==void 0&&(a[xN[c]].value=o[c]);o[c0]!==void 0&&(a.z.value=SN(o[c0]),a.D.value=o[c0].length),o.width&&o.height&&(a.t.value=[o.width,o.height])}}}),s};const Cst=1400,wst={width:800,height:800,onRender:()=>{},devicePixelRatio:2,phi:0,theta:.3,dark:1,diffuse:.4,mapSamples:16e3,mapBrightness:1.2,baseColor:[1,1,1],markerColor:[1,1,1],glowColor:[1,1,1],markers:[{location:[14.5995,120.9842],size:.03},{location:[19.076,72.8777],size:.1},{location:[23.8103,90.4125],size:.05},{location:[30.0444,31.2357],size:.07},{location:[39.9042,116.4074],size:.08},{location:[-23.5505,-46.6333],size:.1},{location:[19.4326,-99.1332],size:.1},{location:[40.7128,-74.006],size:.1},{location:[34.6937,135.5022],size:.05},{location:[41.0082,28.9784],size:.06}]};function Rst({className:n,config:t=wst}){let e=0,i=0;const s=J.useRef(null),a=J.useRef(null),o=J.useRef(0),c=Yp(0),u=X0(c,{mass:1,damping:30,stiffness:100}),d=g=>{a.current=g,s.current&&(s.current.style.cursor=g!==null?"grabbing":"grab")},m=g=>{if(a.current!==null){const y=g-a.current;o.current=y,c.set(c.get()+y/Cst)}};return J.useEffect(()=>{const g=()=>{s.current&&(i=s.current.offsetWidth)};window.addEventListener("resize",g),g();const y=Tst(s.current,{...t,width:i*2,height:i*2,onRender:A=>{a.current||(e+=.005),A.phi=e+u.get(),A.width=i*2,A.height=i*2}});return setTimeout(()=>s.current.style.opacity="1",0),()=>{y.destroy(),window.removeEventListener("resize",g)}},[u,t]),G.jsx("div",{className:Qu("mx-auto aspect-[1/1] w-full max-w-[600px]",n),children:G.jsx("canvas",{className:Qu("size-[30rem] opacity-0 transition-opacity duration-500 [contain:layout_paint_size]"),ref:s,onPointerDown:g=>{a.current=g.clientX,d(g.clientX)},onPointerUp:()=>d(null),onPointerOut:()=>d(null),onMouseMove:g=>m(g.clientX),onTouchMove:g=>g.touches[0]&&m(g.touches[0].clientX)})})}const Bst=()=>{const[n,t]=J.useState(!1),e="abhijaydhar01@gmail.com",i=()=>{navigator.clipboard.writeText(e),t(!0),setTimeout(()=>{t(!1)},2e3)};return G.jsx(Ai.button,{onClick:i,whileHover:{y:-5},whileTap:{scale:1.05},className:"relative px-1 py-4 text-sm text-center rounded-full font-extralight bg-primary w-[12rem] cursor-pointer overflow-hidden",children:G.jsx(RN,{mode:"wait",children:n?G.jsxs(Ai.p,{className:"flex items-center justify-center gap-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.1,ease:"easeInOut"},children:[G.jsx("img",{src:"assets/copy-done.svg",className:"w-5",alt:"copy Icon"}),"Email has Copied"]},"copied"):G.jsxs(Ai.p,{className:"flex items-center justify-center gap-2",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.1},children:[G.jsx("img",{src:"assets/copy.svg",className:"w-5",alt:"copy icon"}),"Copy Email Address"]},"copy")})})};function bN({className:n,children:t,reverse:e,duration:i=20,radius:s=160,path:a=!0,iconSize:o=30,speed:c=1,...u}){const d=i/c;return G.jsxs(G.Fragment,{children:[a&&G.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",className:"absolute inset-0 pointer-events-none size-full",children:G.jsx("circle",{className:"stroke-1 stroke-white/10",cx:"50%",cy:"50%",r:s,fill:"none"})}),Nl.Children.map(t,(m,g)=>{const y=360/Nl.Children.count(t)*g;return G.jsx("div",{style:{"--duration":d,"--radius":s,"--angle":y,"--icon-size":`${o}px`},className:Qu(`absolute flex size-[var(--icon-size)] transform-gpu animate-orbit items-center justify-center rounded-full ${e?"[animation-direction:reverse]":""}`,n),...u,children:m})})]})}function Dst(){const n=["auth0","blazor","cplusplus","csharp","css3","dotnet","dotnetcore","git","html5","javascript","microsoft","react","sqlite","tailwindcss","vitejs","wordpress"];return G.jsxs("div",{className:"relative flex h-[15rem] w-full flex-col items-center justify-center",children:[G.jsx(bN,{iconSize:40,children:n.map((t,e)=>G.jsx(MN,{src:`assets/logos/${t}.svg`},e))}),G.jsx(bN,{iconSize:25,radius:100,reverse:!0,speed:2,children:n.reverse().map((t,e)=>G.jsx(MN,{src:`assets/logos/${t}.svg`},e))})]})}const MN=({src:n})=>G.jsx("img",{src:n,className:"duration-200 rounded-sm hover:scale-110"}),Lst=()=>{const n=J.useRef();return G.jsxs("section",{className:"c-space section-spacing",id:"about",children:[G.jsx("h2",{className:"text-heading",children:"About Me"}),G.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-6 md:auto-rows-[18rem] mt-12",children:[G.jsxs("div",{className:"flex items-end grid-default-color grid-1",children:[G.jsx("img",{src:"assets/coding-pov.png",className:"absolute scale-[1.75] -right-[5rem] -top-[1rem] md:scale-[3] md:left-50 md:inset-y-10 lg:scale-[2.5]"}),G.jsxs("div",{className:"z-10",children:[G.jsx("p",{className:"headtext",children:"Hi, I'm Abhijay Dhar"}),G.jsx("p",{className:"subtext",children:"I'm Abhijay Dhar, a third-year ECE student at VIT Chennai with a passion for Full Stack Development, DSA, and AI/ML.I enjoy building impactful tech solutions and exploring emerging technologies like quantum computing and generative AI."})]}),G.jsx("div",{className:"absolute inset-x-0 pointer-evets-none -bottom-4 h-1/2 sm:h-1/3 bg-gradient-to-t from-indigo"})]}),G.jsx("div",{className:"grid-default-color grid-2",children:G.jsxs("div",{ref:n,className:"flex items-center justify-center w-full h-full",children:[G.jsx("p",{className:"flex items-end text-5xl text-gray-500",children:"CODING PROFILES"}),G.jsx("a",{href:"https://leetcode.com/u/Abhijay_Ryan/",children:G.jsx(Ou,{style:{rotate:"75deg",top:"30%",left:"20%"},text:"Leetcode",containerRef:n})}),G.jsx("a",{href:"https://www.geeksforgeeks.org/user/abhijaydhar01/",target:"next",children:G.jsx(Ou,{style:{rotate:"-30deg",top:"60%",left:"45%"},text:"GeeksForGeeks",containerRef:n})}),G.jsx("a",{href:"https://www.naukri.com/code360/profile/264da29d-dcfe-4f8f-8e79-c5dda2e2900b",target:"next",children:G.jsx(Ou,{style:{rotate:"90deg",bottom:"30%",left:"70%"},text:"CodingNinhas",containerRef:n})}),G.jsx(Ou,{style:{rotate:"-45deg",top:"55%",left:"0%"},text:"GitHub",containerRef:n}),G.jsx(Ou,{style:{rotate:"20deg",top:"10%",left:"38%"},text:"MERN Stack",containerRef:n}),G.jsx(Ou,{style:{rotate:"30deg",top:"70%",left:"70%"},image:"assets/logos/csharp-pink.png",containerRef:n}),G.jsx(Ou,{style:{rotate:"-45deg",top:"70%",left:"25%"},image:"assets/logos/dotnet-pink.png",containerRef:n}),G.jsx(Ou,{style:{rotate:"-45deg",top:"5%",left:"10%"},image:"assets/logos/blazor-pink.png",containerRef:n})]})}),G.jsxs("div",{className:"grid-black-color grid-3",children:[G.jsxs("div",{className:"z-10 w-[50%]",children:[G.jsx("p",{className:"headtext",children:"Time Zone"}),G.jsx("p",{className:"subtext",children:"I'm based in Mars, and open to remote work worldwide"})]}),G.jsx("figure",{className:"absolute left-[30%] top-[10%]",children:G.jsx(Rst,{})})]}),G.jsx("div",{className:"grid-special-color grid-4",children:G.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 size-full",children:[G.jsx("p",{className:"text-center headtext",children:"Do you want to start a project together?"}),G.jsx(Bst,{})]})}),G.jsxs("div",{className:"grid-default-color grid-5",children:[G.jsxs("div",{className:"z-10 w-[50%]",children:[G.jsx("p",{className:"headText",children:"Teck Stack"}),G.jsx("p",{className:"subtext",children:"I specialize in a variety of languages, frameworks, and tools taht allow me to build robust and scalable applications"})]}),G.jsx("div",{className:"absolute inset-y-0 md:inset-y-9 w-full h-full start-[50%] md:scale-125",children:G.jsx(Dst,{})})]})]})]})},Nst=({title:n,description:t,subDescription:e,image:i,tags:s,href:a,closeModal:o})=>G.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center w-full h-full overflow-hidden backdrop-blur-sm",children:G.jsxs(Ai.div,{className:"relative max-w-2xl border shadow-sm rounded-2xl bg-gradient-to-l from-midnight to-navy border-white/10",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},children:[G.jsx("button",{onClick:o,className:"absolute p-2 rounded-sm top-5 right-5 bg-midnight hover:bg-gray-500",children:G.jsx("img",{src:"assets/close.svg",className:"w-6 h-6"})}),G.jsx("img",{src:i,alt:n,className:"w-full rounded-t-2xl"}),G.jsxs("div",{className:"p-5",children:[G.jsx("h5",{className:"mb-2 text-2xl font-bold text-white",children:n}),G.jsx("p",{className:"mb-3 font-normal text-neutral-400",children:t}),e.map((c,u)=>G.jsx("p",{className:"mb-3 font-normal text-neutral-400",children:c})),G.jsxs("div",{className:"flex items-center justify-between mt-4",children:[G.jsx("div",{className:"flex gap-3",children:s.map(c=>G.jsx("img",{src:c.path,alt:c.name,className:"rounded-lg size-10 hover-animation"},c.id))}),G.jsxs("a",{className:"inline-flex items-center gap-1 font-medium cursor-pointer hover-animation",children:["View Project"," ",G.jsx("img",{src:"assets/arrow-up.svg",className:"size-4",href:a})]})]})]})]})}),Ust=({title:n,description:t,subDescription:e,href:i,image:s,tags:a,setPreview:o})=>{const[c,u]=J.useState(!1);return G.jsxs(G.Fragment,{children:[G.jsxs("div",{className:"flex-wrap items-center justify-between py-10 space-y-14 sm:flex sm:space-y-0",onMouseEnter:()=>o(s),onMouseLeave:()=>o(null),children:[G.jsxs("div",{children:[G.jsx("p",{className:"text-2xl",children:n}),G.jsx("div",{className:"flex gap-5 mt-2 text-sand",children:a.map(d=>G.jsx("span",{children:d.name},d.id))})]}),G.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-1 cursor-pointer hover-animation",children:["Read More",G.jsx("img",{src:"assets/arrow-right.svg",className:"w-5"})]})]}),G.jsx("div",{className:"bg-gradient-to-r from-transparent via-neutral-700 to-transparent h-[1px] w-full"}),c&&G.jsx(Nst,{title:n,description:t,subDescription:e,image:s,tags:a,href:i,closeModal:()=>u(!1)})]})},Ost=[{id:1,title:"NeuraNet",description:"A multi-page ML-integrated React app built for real-time inference using AWS services.",subDescription:["Reduced code redundancy by 40% using reusable components and routing.","Integrated a SageMaker model achieving 96% inference accuracy.","Used AWS Lambda & API Gateway for seamless frontend-backend interaction (avg. latency: 120ms).","Stored assets via AWS S3, improving content load time by 30%."],href:"https://aws-project-5.vercel.app/",logo:"",image:"/assets/projects/AWS.png",tags:[{id:1,name:"React",path:"/assets/logos/csharp.svg"},{id:2,name:"Javascript",path:"/assets/logos/dotnet.svg"},{id:3,name:"TailwindCSS",path:"/assets/logos/efcore.png"},{id:4,name:"Component-Based UI",path:"/assets/logos/tailwindcss.svg"}]},{id:2,title:"KinectPosture",description:"A posture classification system using deep learning and real-world pose estimation data.",subDescription:["Used MediaPipe Pose to extract 132 keypoints per frame from recorded videos.","Trained a neural network using TensorFlow with custom .npy datasets.","Improved accuracy using dropout, batch normalization, and learning rate scheduling.","Achieved ~99.4% validation accuracy on real-world classroom data."],href:"https://github.com/AbhijayRyan01/AI_Posture_Project",logo:"",image:"/assets/projects/Posture.png",tags:[{id:1,name:"TensorFlow",path:"/assets/logos/auth0.svg"},{id:2,name:"MediaPipe",path:"/assets/logos/react.svg"},{id:3,name:"Python",path:"/assets/logos/sqlite.svg"}]},{id:3,title:"GreenSphere",description:"A multi-page ML-integrated React app built for real-time inference using AWS services.",subDescription:["Reduced code redundancy by 40% using reusable components and routing.","Integrated a SageMaker model achieving 96% inference accuracy.","Used AWS Lambda & API Gateway for seamless frontend-backend interaction (avg. latency: 120ms).","Stored assets via AWS S3, improving content load time by 30%."],href:"https://greensph.vercel.app/",logo:"",image:"/assets/projects/GreenSphere.png",tags:[{id:1,name:"React",path:"/assets/logos/GreenSphere.png"},{id:2,name:"AWS",path:"/assets/logos/aws.svg"},{id:3,name:"SageMaker",path:"/assets/logos/sagemaker.svg"}]},{id:4,title:"Profitability App  TuTeck Technologies",description:"A financial analysis app to track profitability metrics at employee, project, and company levels.",subDescription:["Automated over 85% of manual data entry using RESTful API integrations with Zoho and Razorpay.","Reduced processing time by 60% and improved financial analysis efficiency by 40%.","Now used across 3+ departments for 120+ employees and 20+ projects.","Features real-time tracking and dashboard insights for key financial indicators."],href:"https://vestiti.vercel.app/",logo:"",image:"/assets/projects/Profit.jpg",tags:[{id:1,name:"REST API",path:"/assets/logos/api.svg"},{id:2,name:"Zoho",path:"/assets/logos/zoho.svg"},{id:3,name:"Razorpay",path:"/assets/logos/razorpay.svg"},{id:4,name:"PowerApps",path:"/assets/logos/powerapps.svg"}]},{id:5,title:"Vestiti",description:"A web-based visualization app leveraging OpenGL Shading Language (GLSL) for real-time interactive graphics.",subDescription:["Developed an interactive web application using GLSL for dynamic rendering effects.","Structured the frontend using JavaScript and styled it with Tailwind CSS.","Wrote custom shader programs to create visually compelling animations and transitions.","Designed a clean, responsive UI and deployed the full-stack project independently."],href:"",logo:"",image:"/assets/projects/Vestiti.png",tags:[{id:1,name:"GLSL",path:"/assets/logos/glsl.svg"},{id:2,name:"JavaScript",path:"/assets/logos/javascript.svg"},{id:3,name:"TailwindCSS",path:"/assets/logos/tailwindcss.svg"},{id:4,name:"WebGL",path:"/assets/logos/webgl.svg"}]}],Pst=[{name:"Linkedin",href:"www.linkedin.com/in/abhijay-dhar-a6b798241",icon:"/assets/socials/linkedIn.svg"},{name:"Instagram",href:"https://www.instagram.com/abhijay_ryan/?next=%2F",icon:"/assets/socials/instagram.svg"}],Ist=[{title:"Software Development Intern",job:"TuTeck Technologies, Kolkata",date:"May 2025 - June 2025",contents:["Developed a Profitability App for calculating employee, project, and company-level profitability.","Integrated Zoho and Razorpay APIs to automate financial data entry, reducing processing time by 60%.","Deployed real-time tracking for over 120 employees and 20+ projects across departments."]},{title:"Machine Learning Developer",job:"Qiskit FallFest (Finalist)",date:"Nov 2024",contents:["Designed and implemented a quantum fraud detection model using Qiskit and classical ML techniques.","Built an interactive prototype for identifying anomalous transactions using hybrid quantum-classical logic.","Collaborated with a multi-disciplinary team and presented the solution at IBMs Qiskit FallFest Hackathon."]},{title:"Full Stack & ML Developer",job:"Freelance / Personal Projects",date:"2023 - Present",contents:["Created GreenSphere, a React-based sustainability platform used by 500+ users for carbon tracking.","Built NeuraNet, an ML-integrated web app with AWS SageMaker, Lambda, and API Gateway.","Developed KinectPosture, a DL-based posture detector using MediaPipe and TensorFlow, achieving ~99.4% accuracy.","Continuously learning and applying modern technologies like React, Node.js, AWS, and TensorFlow."]}],e_=[{name:"Jack",username:"@jack",body:"I've never seen anything like this before. It's amazing. I love it.",img:"https://robohash.org/jack"},{name:"Jill",username:"@jill",body:"I don't know what to say. I'm speechless. This is amazing.",img:"https://robohash.org/jill"},{name:"John",username:"@john",body:"I'm at a loss for words. This is amazing. I love it.",img:"https://robohash.org/john"},{name:"Alice",username:"@alice",body:"This is hands down the best thing I've experienced. Highly recommend!",img:"https://robohash.org/alice"},{name:"Bob",username:"@bob",body:"Incredible work! The attention to detail is phenomenal.",img:"https://robohash.org/bob"},{name:"Charlie",username:"@charlie",body:"This exceeded all my expectations. Absolutely stunning!",img:"https://robohash.org/charlie"},{name:"Dave",username:"@dave",body:"Simply breathtaking. The best decision I've made in a while.",img:"https://robohash.org/dave"},{name:"Eve",username:"@eve",body:"So glad I found this. It has changed the game for me.",img:"https://robohash.org/eve"}],Fst=()=>{const n=Yp(0),t=Yp(0),e=X0(n,{damping:10,stiffness:50}),i=X0(t,{damping:10,stiffness:50}),s=c=>{n.set(c.clientX+20),t.set(c.clientY+20)},[a,o]=J.useState(null);return G.jsxs("section",{onMouseMove:s,className:"relative c-space section-spacing",children:[G.jsx("h2",{className:"text-heading",children:"My Projects"}),G.jsx("div",{className:"bg-gradient-to-r from-transparent via-neutral-700 to-transparent mt-12 h-[1px] w-full"}),Ost.map(c=>G.jsx(Ust,{...c,setPreview:o},c.id)),a&&G.jsx(Ai.img,{className:"fixed top-0 left-0 z-50 object-cover h-56 rounded-lg shadow-lg pointer-events-none w-80",src:a,style:{x:e,y:i}})]})},zst=({data:n})=>{const t=J.useRef(null),e=J.useRef(null),[i,s]=J.useState(0);J.useEffect(()=>{if(t.current){const u=t.current.getBoundingClientRect();s(u.height)}},[t]);const{scrollYProgress:a}=xtt({target:e,offset:["start 10%","end 50%"]}),o=tL(a,[0,1],[0,i]),c=tL(a,[0,.1],[0,1]);return G.jsxs("div",{className:"c-space section-spacing",ref:e,children:[G.jsx("h2",{className:"text-heading",children:"My Work Experience"}),G.jsxs("div",{ref:t,className:"relative pb-20",children:[n.map((u,d)=>G.jsxs("div",{className:"flex justify-start pt-10 md:pt-40 md:gap-10",children:[G.jsxs("div",{className:"sticky z-40 flex flex-col items-center self-start max-w-xs md:flex-row top-40 lg:max-w-sm md:w-full",children:[G.jsx("div",{className:"absolute flex items-center justify-center w-10 h-10 rounded-full -left-[15px] bg-midnight",children:G.jsx("div",{className:"w-4 h-4 p-2 border rounded-full bg-neutral-800 border-neutral-700"})}),G.jsxs("div",{className:"flex-col hidden gap-2 text-xl font-bold md:flex md:pl-20 md:text-4xl text-neutral-300",children:[G.jsx("h3",{children:u.date}),G.jsx("h3",{className:"text-3xl text-neutral-400",children:u.title}),G.jsx("h3",{className:"text-3xl text-neutral-500",children:u.job})]})]}),G.jsxs("div",{className:"relative w-full pl-20 pr-4 md:pl-4",children:[G.jsxs("div",{className:"block mb-4 text-2xl font-bold text-left text-neutral-300 md:hidden ",children:[G.jsx("h3",{children:u.date}),G.jsx("h3",{children:u.job})]}),u.contents.map((m,g)=>G.jsx("p",{className:"mb-3 font-normal text-neutral-400",children:m},g))]})]},d)),G.jsx("div",{style:{height:i+"px"},className:"absolute md:left-1 left-1 top-0 overflow-hidden w-[2px] bg-[linear-gradient(to_bottom,var(--tw-gradient-stops))] from-transparent from-[0%] via-neutral-700 to-transparent to-[99%]  [mask-image:linear-gradient(to_bottom,transparent_0%,black_10%,black_90%,transparent_100%)] ",children:G.jsx(Fx.div,{style:{height:o,opacity:c},className:"absolute inset-x-0 top-0  w-[2px] bg-gradient-to-t from-purple-500 via-lavender/50 to-transparent from-[0%] via-[10%] rounded-full"})})]})]})},Hst=()=>G.jsx("div",{className:"w-full",children:G.jsx(zst,{data:Ist})});function EN({className:n,reverse:t=!1,pauseOnHover:e=!1,children:i,vertical:s=!1,repeat:a=4,...o}){return G.jsx("div",{...o,className:Qu(`group flex overflow-hidden p-2 [--duration:40s] [--gap:1rem] [gap:var(--gap)] ${s?"flex-col":"flex-row"}`,n),children:Array(a).fill(0).map((c,u)=>G.jsx("div",{className:Qu("flex shrink-0 justify-around [gap:var(--gap)]",s?"animate-marquee-vertical flex-col":"animate-marquee flex-row",e&&"group-hover:[animation-play-state:paused]",t&&"[animation-direction:reverse]"),children:i},u))})}const Gst=e_.slice(0,e_.length/2),Vst=e_.slice(e_.length/2),TN=({img:n,name:t,username:e,body:i})=>G.jsxs("figure",{className:Qu("relative h-full w-64 cursor-pointer overflow-hidden rounded-xl border p-4 border-gray-50/[.1] bg-gradient-to-r bg-indigo to-storm hover:bg-royal hover-animation"),children:[G.jsxs("div",{className:"flex flex-row items-center gap-2",children:[G.jsx("img",{className:"rounded-full bg-white/10",width:"32",height:"32",alt:"",src:n}),G.jsxs("div",{className:"flex flex-col",children:[G.jsx("figcaption",{className:"text-sm font-medium text-white",children:t}),G.jsx("p",{className:"text-xs font-medium text-white/40",children:e})]})]}),G.jsx("blockquote",{className:"mt-2 text-sm",children:i})]});function kst(){return G.jsxs("div",{className:"items-start mt-25 md:mt-35 c-space",children:[G.jsx("h2",{className:"text-heading",children:"Hear From My Clients"}),G.jsxs("div",{className:"relative flex flex-col items-center justify-center w-full mt-12 overflow-hidden",children:[G.jsx(EN,{pauseOnHover:!0,className:"[--duration:20s]",children:Gst.map(n=>G.jsx(TN,{...n},n.username))}),G.jsx(EN,{reverse:!0,pauseOnHover:!0,className:"[--duration:20s]",children:Vst.map(n=>G.jsx(TN,{...n},n.username))}),G.jsx("div",{className:"absolute inset-y-0 left-0 w-1/4 pointer-events-none bg-gradient-to-r from-primary"}),G.jsx("div",{className:"absolute inset-y-0 right-0 w-1/4 pointer-events-none bg-gradient-to-l from-primary"})]})]})}const jst=({type:n,text:t})=>{const e={hidden:{opacity:0,y:50,scale:.8},visible:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-50,scale:.8}};return G.jsx(RN,{children:G.jsx(Ai.div,{className:"fixed z-50 flex items-center justify-center bottom-5 right-5",initial:"hidden",animate:"visible",exit:"exit",variants:e,transition:{duration:.3,ease:"easeInOut"},children:G.jsxs("div",{className:`p-2 ${n==="danger"?"bg-red-800":"bg-royal"} items-center text-indigo-100 leading-none lg:rounded-full flex lg:inline-flex rounded-md p-5`,children:[G.jsx("p",{className:`flex rounded-full ${n==="danger"?"bg-red-500":"bg-lavender"} uppercase px-2 py-1 text-xs font-semibold mr-3`,children:n==="danger"?"Failed":"Success"}),G.jsx("p",{className:"mr-2 text-left",children:t})]})})})};function Xst(){const[n,t]=J.useState({x:0,y:0});return J.useEffect(()=>{const e=i=>{t({x:i.clientX,y:i.clientY})};return window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e)}},[]),n}function Yst(n){n=n.replace("#",""),n.length===3&&(n=n.split("").map(a=>a+a).join(""));const t=parseInt(n,16),e=t>>16&255,i=t>>8&255,s=t&255;return[e,i,s]}const Wst=({className:n="",quantity:t=100,staticity:e=50,ease:i=50,size:s=.4,refresh:a=!1,color:o="#ffffff",vx:c=0,vy:u=0,...d})=>{const m=J.useRef(null),g=J.useRef(null),y=J.useRef(null),A=J.useRef([]),b=Xst(),T=J.useRef({x:0,y:0}),E=J.useRef({w:0,h:0}),S=typeof window<"u"?window.devicePixelRatio:1,R=J.useRef(null),B=J.useRef(null);J.useEffect(()=>{m.current&&(y.current=m.current.getContext("2d")),D(),at();const Q=()=>{B.current&&clearTimeout(B.current),B.current=setTimeout(()=>{D()},200)};return window.addEventListener("resize",Q),()=>{R.current!=null&&window.cancelAnimationFrame(R.current),B.current&&clearTimeout(B.current),window.removeEventListener("resize",Q)}},[o]),J.useEffect(()=>{U()},[b.x,b.y]),J.useEffect(()=>{D()},[a]);const D=()=>{N(),Y()},U=()=>{if(m.current){const Q=m.current.getBoundingClientRect(),{w:lt,h:tt}=E.current,et=b.x-Q.left-lt/2,Z=b.y-Q.top-tt/2;et<lt/2&&et>-lt/2&&Z<tt/2&&Z>-tt/2&&(T.current.x=et,T.current.y=Z)}},N=()=>{if(g.current&&m.current&&y.current){E.current.w=g.current.offsetWidth,E.current.h=g.current.offsetHeight,m.current.width=E.current.w*S,m.current.height=E.current.h*S,m.current.style.width=`${E.current.w}px`,m.current.style.height=`${E.current.h}px`,y.current.scale(S,S),A.current=[];for(let Q=0;Q<t;Q++){const lt=F();O(lt)}}},F=()=>{const Q=Math.floor(Math.random()*E.current.w),lt=Math.floor(Math.random()*E.current.h),tt=0,et=0,Z=Math.floor(Math.random()*2)+s,vt=0,X=parseFloat((Math.random()*.6+.1).toFixed(1)),it=(Math.random()-.5)*.1,Mt=(Math.random()-.5)*.1,Ot=.1+Math.random()*4;return{x:Q,y:lt,translateX:tt,translateY:et,size:Z,alpha:vt,targetAlpha:X,dx:it,dy:Mt,magnetism:Ot}},z=Yst(o),O=(Q,lt=!1)=>{if(y.current){const{x:tt,y:et,translateX:Z,translateY:vt,size:X,alpha:it}=Q;y.current.translate(Z,vt),y.current.beginPath(),y.current.arc(tt,et,X,0,2*Math.PI),y.current.fillStyle=`rgba(${z.join(", ")}, ${it})`,y.current.fill(),y.current.setTransform(S,0,0,S,0,0),lt||A.current.push(Q)}},I=()=>{y.current&&y.current.clearRect(0,0,E.current.w,E.current.h)},Y=()=>{I();const Q=t;for(let lt=0;lt<Q;lt++){const tt=F();O(tt)}},dt=(Q,lt,tt,et,Z)=>{const vt=(Q-lt)*(Z-et)/(tt-lt)+et;return vt>0?vt:0},at=()=>{I(),A.current.forEach((Q,lt)=>{const et=[Q.x+Q.translateX-Q.size,E.current.w-Q.x-Q.translateX-Q.size,Q.y+Q.translateY-Q.size,E.current.h-Q.y-Q.translateY-Q.size].reduce((vt,X)=>Math.min(vt,X)),Z=parseFloat(dt(et,0,20,0,1).toFixed(2));if(Z>1?(Q.alpha+=.02,Q.alpha>Q.targetAlpha&&(Q.alpha=Q.targetAlpha)):Q.alpha=Q.targetAlpha*Z,Q.x+=Q.dx+c,Q.y+=Q.dy+u,Q.translateX+=(T.current.x/(e/Q.magnetism)-Q.translateX)/i,Q.translateY+=(T.current.y/(e/Q.magnetism)-Q.translateY)/i,O(Q,!0),Q.x<-Q.size||Q.x>E.current.w+Q.size||Q.y<-Q.size||Q.y>E.current.h+Q.size){A.current.splice(lt,1);const vt=F();O(vt)}}),R.current=window.requestAnimationFrame(at)};return G.jsx("div",{className:Qu("pointer-events-none",n),ref:g,"aria-hidden":"true",...d,children:G.jsx("canvas",{ref:m,className:"size-full"})})},qst=()=>{const[n,t]=J.useState({name:"",email:"",message:""}),[e,i]=J.useState(!1),[s,a]=J.useState(!1),[o,c]=J.useState("success"),[u,d]=J.useState(""),m="https://script.google.com/macros/s/AKfycby9tdg2n0znTR0-vR8mGQBTWVY14LO_OdwRV0Zj-KMtASQNNascMvpxP_7x7m7UE5qS/exec",g=(b,T)=>{c(b),d(T),a(!0),setTimeout(()=>a(!1),5e3)},y=b=>t({...n,[b.target.name]:b.target.value}),A=async b=>{b.preventDefault(),i(!0);try{const T=new FormData;if(T.append("name",n.name),T.append("email",n.email),T.append("message",n.message),(await fetch(m,{method:"POST",body:T})).ok)i(!1),t({name:"",email:"",message:""}),g("success","Your message has been sent!");else throw new Error("Google script failed.")}catch(T){i(!1),console.error("Submission error:",T),g("danger","Something went wrong!")}};return G.jsxs("section",{className:"relative flex items-center c-space section-spacing",children:[G.jsx(Wst,{className:"absolute inset-0 -z-50",quantity:100,ease:80,color:"#ffffff",refresh:!0}),s&&G.jsx(jst,{type:o,text:u}),G.jsxs("div",{className:"flex flex-col items-center justify-center max-w-md p-5 mx-auto border border-white/10 rounded-2xl bg-primary",children:[G.jsxs("div",{className:"flex flex-col items-start w-full gap-5 mb-10",children:[G.jsx("h2",{className:"text-heading",children:"Let's Talk"}),G.jsx("p",{className:"font-normal text-neutral-400",children:"Whether you're looking to build a new website, improve your existing platform, or bring a unique project to life, I'm here to help."})]}),G.jsxs("form",{className:"w-full",onSubmit:A,children:[G.jsxs("div",{className:"mb-5",children:[G.jsx("label",{htmlFor:"name",className:"feild-label",children:"Full Name"}),G.jsx("input",{id:"name",name:"name",type:"text",className:"field-input field-input-focus",placeholder:"Your Full Name",autoComplete:"name",value:n.name,onChange:y,required:!0})]}),G.jsxs("div",{className:"mb-5",children:[G.jsx("label",{htmlFor:"email",className:"feild-label",children:"Email"}),G.jsx("input",{id:"email",name:"email",type:"email",className:"field-input field-input-focus",placeholder:"yourmailid@email.com",autoComplete:"email",value:n.email,onChange:y,required:!0})]}),G.jsxs("div",{className:"mb-5",children:[G.jsx("label",{htmlFor:"message",className:"feild-label",children:"Message"}),G.jsx("textarea",{id:"message",name:"message",rows:"4",className:"field-input field-input-focus",placeholder:"Share your thoughts...",autoComplete:"message",value:n.message,onChange:y,required:!0})]}),G.jsx("button",{type:"submit",className:"w-full px-1 py-3 text-lg text-center rounded-md cursor-pointer bg-radial from-lavender to-royal hover-animation",children:e?"Sending...":"Send"})]})]})]})},Kst=()=>G.jsxs("section",{className:"flex flex-wrap items-center justify-between gap-5 pb-3 text-sm text-neutral-400 c-space",children:[G.jsx("div",{className:"mb-4 bg-gradient-to-r from-transparent via-neutral-700 to-transparent h-[1px] w-full"}),G.jsxs("div",{className:"flex gap-2",children:[G.jsx("p",{children:"Terms & Conditions"}),G.jsx("p",{children:"|"}),G.jsx("p",{children:"Privacy Policy"})]}),G.jsx("div",{className:"flex gap-3",children:Pst.map((n,t)=>G.jsx("a",{href:"{social.href}",children:G.jsx("img",{src:n.icon,className:"w-5 h-5",alt:n.name})},t))}),G.jsx("p",{children:" 2025 Abhijay. All rights reserved."})]}),Jst=()=>G.jsxs("div",{className:"container mx-auto max-w-7xl",children:[G.jsx(eG,{}),G.jsx(Mst,{}),G.jsx(Lst,{}),G.jsx(Fst,{}),G.jsx(Hst,{}),G.jsx(kst,{}),G.jsx(qst,{}),G.jsx(Kst,{})]});CN.createRoot(document.getElementById("root")).render(G.jsx(J.StrictMode,{children:G.jsx(Jst,{})}));
